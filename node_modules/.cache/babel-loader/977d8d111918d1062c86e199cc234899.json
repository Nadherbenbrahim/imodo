{"ast":null,"code":"import React,{useEffect}from'react';import Pages from'../Pages/Pages';import{Col,Row,Table,Image}from'react-bootstrap';import ReactTooltip from'react-tooltip';import moment from'moment';import{useHistory}from'react-router-dom';import{connect}from'react-redux';import{resetSocialMediaSelections}from'../../../redux/actions/socialMediaActions';import{resetَAllWizard}from'../../../redux/actions/wizardActions';import{getProjectByPage,goToWizardConfig,deleteProjectByPage,setAgentsSelectedProject}from'../../../redux/actions/myAgentsActions';import{FaLink}from'react-icons/fa';import{AiFillPicture}from'react-icons/ai';// const PROJECT_PHOTO = require('../../../assets/images/home/project-photo.png');\nvar EDIT_ICON=require('../../../assets/images/home/edit-icon.png');var MSG_ICON=require('../../../assets/images/home/message-icon.png');var TRASH_ICON=require('../../../assets/images/home/trash-icon.png');function MyAgents(props){var socialMediaPageSelected=props.socialMediaPageSelected,agentsProjects=props.agentsProjects,resetَAllWizard=props.resetَAllWizard,resetSocialMediaSelections=props.resetSocialMediaSelections,getProjectByPage=props.getProjectByPage,goToWizardConfig=props.goToWizardConfig,deleteProjectByPage=props.deleteProjectByPage,setAgentsSelectedProject=props.setAgentsSelectedProject;var history=useHistory();var tableTitles=[{title:'Picture'},{title:'Publish'},{title:'Message'},{title:'Date'},{title:'Type'},{title:'Status'},{title:'Edit project'}];var renderDate=function renderDate(date){return moment(date).format('DD/MM/YY');};var renderTime=function renderTime(date){return moment(date).format('h:mm');};var checkStatusClass=function checkStatusClass(trained,live){if(trained&&live){// ACTIVE\nreturn\"my-agent-status-btn d-flex\";}else if(trained&&!live){// !NOT ACTIVE\nreturn\"my-agent-status-btn d-flex\";}else{// DRAFT\nreturn\"my-agent-status-btn-disabled d-flex\";}};useEffect(function(){resetَAllWizard();resetSocialMediaSelections();},[]);useEffect(function(){if(socialMediaPageSelected){getProjectByPage(socialMediaPageSelected);}},[socialMediaPageSelected]);return/*#__PURE__*/React.createElement(\"div\",{style:{height:window.innerHeight*1.8}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"p\",{className:\"my-agents-table-label\",style:{fontSize:'30px',fontFamily:'Poppins SemiBold'}},\"Agents management\")),/*#__PURE__*/React.createElement(Pages,{title:\"Select a page to manage agents\",titleStyling:{color:'#4D4F5C',fontSize:'16px',fontFamily:'Poppins Medium'}}),props.socialMediaPageSelected&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,{className:\"mb-2 mx-0\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex mb-0\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto my-agent-table-title\"},\"Projects List\")),/*#__PURE__*/React.createElement(Col,{lg:11,className:\"my-3 mx-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"p-4\",style:{background:\"#FFFFFF\"}},/*#__PURE__*/React.createElement(Row,{className:\"py-2 justify-content-between\"},tableTitles.map(function(item,index){return/*#__PURE__*/React.createElement(Col,{lg:item.title===\"Edit project\"?2:1,key:index,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"my-auto wizard-pages-page-title-table\"},item.title));})),agentsProjects&&agentsProjects.map(function(project,indexProject){return/*#__PURE__*/React.createElement(Row,{key:indexProject,className:\"py-2 justify-content-between\"},/*#__PURE__*/React.createElement(Col,{lg:1,className:\"d-flex\"},project.post.picture?/*#__PURE__*/React.createElement(Image,{src:project.post.picture,className:\"my-auto\",style:{height:'40px',width:'40px'}}):/*#__PURE__*/React.createElement(Image,{src:socialMediaPageSelected.picture_url,className:\"my-auto\",style:{height:'40px',width:'40px',borderRadius:'50%'}})),/*#__PURE__*/React.createElement(Col,{lg:1,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-column\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto my-agent-project-date\",style:{color:project.post.status===\"Scheduled\"?\"#009EE3\":\"#4D4F5C\"}},renderDate(project.post.published)),/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto my-agent-project-time\",style:{color:project.post.status===\"Scheduled\"?\"#009EE3\":\"#4D4F5C\"}},renderTime(project.post.published)))),/*#__PURE__*/React.createElement(Col,{lg:1,className:\"d-flex\"},project.post.message&&/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto my-agents-msg-desc\"},project.post.message.length>12?project.post.message.substring(0,9)+\"...\":project.post.message)),/*#__PURE__*/React.createElement(Col,{lg:1,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-column\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto my-agent-project-date\"},renderDate(project.createDate)),/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto my-agent-project-time\"},renderTime(project.createDate)))),/*#__PURE__*/React.createElement(Col,{lg:1,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto wizard-pages-page-title-table\"},project.post.picture?/*#__PURE__*/React.createElement(AiFillPicture,{color:\"#B4B4B4\",size:\"22\",className:\"m-auto\"}):/*#__PURE__*/React.createElement(FaLink,{color:\"#B4B4B4\",size:\"22\",className:\"m-auto\"}))),/*#__PURE__*/React.createElement(Col,{lg:1},/*#__PURE__*/React.createElement(\"div\",{className:checkStatusClass(project.trained,project.live)},project.trained&&project.live?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},\"Active\"):project.trained&&!project.live?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},\"Not Active\"):/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},\"Draft\"))),/*#__PURE__*/React.createElement(Col,{lg:2,className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:EDIT_ICON,\"data-for\":\"editIcon\",\"data-tip\":\"Update agent\",className:\"my-auto my-agents-icon\",style:{height:'22.02px',width:'22.02px'},onClick:function onClick(){return goToWizardConfig(project,socialMediaPageSelected,history);}}),/*#__PURE__*/React.createElement(Image,{src:MSG_ICON,\"data-for\":\"commentsIcon\",\"data-tip\":\"Check comments\",className:\"ml-2 mr-2 my-auto my-agents-icon\",style:{height:'25px',width:'25px'},onClick:function onClick(){return setAgentsSelectedProject(project,history);}}),/*#__PURE__*/React.createElement(Image,{src:TRASH_ICON,\"data-for\":\"deleteIcon\",\"data-tip\":\"Delete agent\",className:\"my-auto my-agents-icon\",style:{height:'29px',width:'27px'},onClick:function onClick(){return deleteProjectByPage(project);}}),/*#__PURE__*/React.createElement(ReactTooltip,{id:\"editIcon\",className:\"my-agent-icons-hover-text\",textColor:\"#fff\",backgroundColor:\"#B4B4B4\"}),/*#__PURE__*/React.createElement(ReactTooltip,{id:\"commentsIcon\",className:\"my-agent-icons-hover-text\",textColor:\"#fff\",backgroundColor:\"#B4B4B4\"}),/*#__PURE__*/React.createElement(ReactTooltip,{id:\"deleteIcon\",className:\"my-agent-icons-hover-text\",textColor:\"#fff\",backgroundColor:\"#B4B4B4\"})));})))))))));};var mapStateToProps=function mapStateToProps(state){return{fbData:state.socialMediaR.fbData,instaData:state.socialMediaR.instaData,socialMediaPageSelected:state.socialMediaR.socialMediaPageSelected,agentsProjects:state.agentsR.agentsProjects,agentsSelectedProject:state.agentsR.agentsSelectedProject};};export default connect(mapStateToProps,{resetSocialMediaSelections:resetSocialMediaSelections,getProjectByPage:getProjectByPage,goToWizardConfig:goToWizardConfig,resetَAllWizard:resetَAllWizard,deleteProjectByPage:deleteProjectByPage,setAgentsSelectedProject:setAgentsSelectedProject})(MyAgents);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/MyAgents/MyAgents.js"],"names":["React","useEffect","Pages","Col","Row","Table","Image","ReactTooltip","moment","useHistory","connect","resetSocialMediaSelections","resetَAllWizard","getProjectByPage","goToWizardConfig","deleteProjectByPage","setAgentsSelectedProject","FaLink","AiFillPicture","EDIT_ICON","require","MSG_ICON","TRASH_ICON","MyAgents","props","socialMediaPageSelected","agentsProjects","history","tableTitles","title","renderDate","date","format","renderTime","checkStatusClass","trained","live","height","window","innerHeight","fontSize","fontFamily","color","background","map","item","index","project","indexProject","post","picture","width","picture_url","borderRadius","status","published","message","length","substring","createDate","mapStateToProps","state","fbData","socialMediaR","instaData","agentsR","agentsSelectedProject"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\n\r\nimport Pages from '../Pages/Pages';\r\n\r\nimport {\r\n    Col,\r\n    Row,\r\n    Table,\r\n    Image,\r\n} from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport moment from 'moment';\r\nimport { useHistory  } from 'react-router-dom';\r\n\r\nimport { connect } from 'react-redux';\r\nimport {  resetSocialMediaSelections, } from '../../../redux/actions/socialMediaActions';\r\nimport { resetَAllWizard, } from '../../../redux/actions/wizardActions';\r\nimport {  getProjectByPage, goToWizardConfig, deleteProjectByPage, setAgentsSelectedProject  } from '../../../redux/actions/myAgentsActions';\r\n\r\nimport { FaLink } from 'react-icons/fa';\r\nimport { AiFillPicture } from 'react-icons/ai';\r\n// const PROJECT_PHOTO = require('../../../assets/images/home/project-photo.png');\r\nconst EDIT_ICON = require('../../../assets/images/home/edit-icon.png');\r\nconst MSG_ICON = require('../../../assets/images/home/message-icon.png');\r\nconst TRASH_ICON = require('../../../assets/images/home/trash-icon.png');\r\n\r\n\r\nfunction MyAgents(props) {\r\n\r\n    let {\r\n        socialMediaPageSelected,\r\n        agentsProjects,\r\n        \r\n        // Functions\r\n        resetَAllWizard,\r\n        resetSocialMediaSelections,\r\n        getProjectByPage,\r\n        goToWizardConfig,\r\n        deleteProjectByPage,\r\n        setAgentsSelectedProject\r\n    } = props;\r\n\r\n    let history = useHistory();\r\n\r\n    const tableTitles = [\r\n        {title : 'Picture'},\r\n        {title : 'Publish'},\r\n        {title : 'Message'},\r\n        {title : 'Date'},\r\n        {title : 'Type'},\r\n        {title : 'Status'},\r\n        {title : 'Edit project'},\r\n    ];\r\n\r\n    const renderDate = (date) => {\r\n        return moment(date).format('DD/MM/YY');\r\n    };\r\n\r\n    const renderTime = (date) => {\r\n        return moment(date).format('h:mm');\r\n    };\r\n\r\n    const checkStatusClass = (trained,live) => {\r\n    \r\n        if (trained && live) {\r\n            // ACTIVE\r\n            return \"my-agent-status-btn d-flex\"\r\n\r\n        } else if (trained && !live) {\r\n            // !NOT ACTIVE\r\n             return \"my-agent-status-btn d-flex\"\r\n        } else {\r\n            // DRAFT\r\n            return \"my-agent-status-btn-disabled d-flex\"\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        resetَAllWizard();\r\n        resetSocialMediaSelections();\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n        if(socialMediaPageSelected) {\r\n            getProjectByPage(socialMediaPageSelected);\r\n        }\r\n    },[socialMediaPageSelected])\r\n\r\n  \r\n    return (\r\n    <div style={{ height: window.innerHeight * 1.8 }}>\r\n        <Row>\r\n          <p className=\"my-agents-table-label\" style={{ fontSize: '30px', fontFamily: 'Poppins SemiBold' }}>Agents management</p>\r\n        </Row>\r\n\r\n        <Pages title=\"Select a page to manage agents\" titleStyling={{color: '#4D4F5C', fontSize: '16px', fontFamily: 'Poppins Medium' }} />\r\n\r\n        {props.socialMediaPageSelected &&\r\n        <>\r\n        <Row>\r\n            <Col lg={12}>\r\n                <Row className=\"mb-2 mx-0\">\r\n\r\n                    <Col lg={12} className=\"d-flex mb-0\">\r\n                        <p className=\"my-auto my-agent-table-title\">Projects List</p>\r\n                    </Col>\r\n            \r\n                    <Col lg={11} className=\"my-3 mx-0\">\r\n                        <Row>\r\n                            <Col lg={12} className=\"p-4\" style={{background: \"#FFFFFF\"}}>\r\n                                <Row className=\"py-2 justify-content-between\">\r\n                                    {tableTitles.map((item,index) => (\r\n                                        <Col lg={item.title === \"Edit project\" ? 2 : 1} key={index} className=\"d-flex\">\r\n                                            <div className=\"my-auto wizard-pages-page-title-table\" >{item.title}</div>\r\n                                        </Col>    \r\n                                    ))}   \r\n                                </Row>  \r\n                                \r\n                                {/* PROJECTS */}\r\n                                {agentsProjects && \r\n                                agentsProjects.map((project,indexProject) => \r\n                                    <Row key={indexProject} className=\"py-2 justify-content-between\" >  \r\n                                        <Col lg={1} className=\"d-flex\">\r\n                                                {project.post.picture \r\n                                            ?\r\n                                            <Image src={project.post.picture} className={\"my-auto\"} style={{height: '40px', width: '40px'}} />\r\n                                            :\r\n                                            <Image src={socialMediaPageSelected.picture_url} className={\"my-auto\"} style={{height: '40px', width: '40px', borderRadius: '50%'}} />\r\n                                            }\r\n                                        </Col>    \r\n\r\n                                        <Col lg={1} className=\"d-flex\">\r\n                                            <div className=\"flex-column\">\r\n                                                <p className=\"m-auto my-agent-project-date\"  style={{color: project.post.status === \"Scheduled\" ? \"#009EE3\" : \"#4D4F5C\"}}>{renderDate(project.post.published)}</p>\r\n                                                <p  className=\"m-auto my-agent-project-time\" style={{color: project.post.status === \"Scheduled\" ? \"#009EE3\" : \"#4D4F5C\"}}>{renderTime(project.post.published)}</p>\r\n                                            </div>\r\n                                        </Col>    \r\n\r\n                                        <Col lg={1} className=\"d-flex\" >\r\n                                            {project.post.message &&\r\n                                            <div className=\"m-auto my-agents-msg-desc\" >\r\n                                                {project.post.message.length > 12\r\n                                                ?\r\n                                                project.post.message.substring(0,9) + \"...\"\r\n                                                :\r\n                                                project.post.message\r\n                                                }\r\n                                            </div>\r\n                                            }\r\n                                        </Col>    \r\n\r\n                                        <Col lg={1} className=\"d-flex\" >\r\n                                            <div className=\"flex-column\">\r\n                                                <p className=\"m-auto my-agent-project-date\">{renderDate(project.createDate)}</p>\r\n                                                <p  className=\"m-auto my-agent-project-time\">{renderTime(project.createDate)}</p>\r\n                                            </div>\r\n                                        </Col>\r\n\r\n                                        <Col lg={1} className=\"d-flex\" >\r\n                                            <div className=\"m-auto wizard-pages-page-title-table\" >\r\n                                                {project.post.picture\r\n                                                ?\r\n                                                <AiFillPicture color={\"#B4B4B4\"} size={\"22\"} className=\"m-auto\" />\r\n                                                :\r\n                                                <FaLink color={\"#B4B4B4\"} size={\"22\"} className=\"m-auto\" />\r\n                                                }\r\n                                            </div>\r\n                                        </Col>    \r\n\r\n                                        <Col lg={1}>\r\n                                            <div className={checkStatusClass(project.trained,project.live)}>\r\n                                                {/* \"my-agent-status-btn text-center\" */}\r\n                                                {\r\n                                                project.trained && project.live \r\n                                                ? \r\n                                                <p className=\"m-auto\">Active</p> \r\n                                                : \r\n                                                project.trained && !project.live\r\n                                                ? \r\n                                                <p className=\"m-auto\">Not Active</p>\r\n                                                :\r\n                                                 <p className=\"m-auto\">Draft</p>\r\n                                                }\r\n                                            </div>\r\n                                        </Col>   \r\n\r\n                                        <Col lg={2} className=\"d-flex\" >\r\n                                            <Image src={EDIT_ICON}  data-for='editIcon' data-tip={\"Update agent\"} className={\"my-auto my-agents-icon\"}                 style={{ height: '22.02px', width: '22.02px'}} onClick={() => goToWizardConfig(project,socialMediaPageSelected,history)} />\r\n                                            <Image src={MSG_ICON}   data-for='commentsIcon' data-tip={\"Check comments\"} className={\"ml-2 mr-2 my-auto my-agents-icon\"} style={{ height: '25px', width: '25px'}}       onClick={() => setAgentsSelectedProject(project,history) } />\r\n                                            <Image src={TRASH_ICON} data-for='deleteIcon' data-tip={\"Delete agent\"} className={\"my-auto my-agents-icon\"}               style={{ height: '29px', width: '27px'}}       onClick={() => deleteProjectByPage(project)} />\r\n                                            \r\n                                            <ReactTooltip id='editIcon'     className='my-agent-icons-hover-text' textColor='#fff' backgroundColor='#B4B4B4' />\r\n                                            <ReactTooltip id='commentsIcon' className='my-agent-icons-hover-text' textColor='#fff' backgroundColor='#B4B4B4' />\r\n                                            <ReactTooltip id='deleteIcon'   className='my-agent-icons-hover-text' textColor='#fff' backgroundColor='#B4B4B4' />\r\n                                        </Col>    \r\n                                    </Row>  \r\n                                )}\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                </Row>\r\n            </Col>\r\n        </Row>\r\n        </>\r\n        }\r\n\r\n    </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        fbData : state.socialMediaR.fbData,\r\n        instaData : state.socialMediaR.instaData,\r\n        socialMediaPageSelected : state.socialMediaR.socialMediaPageSelected,\r\n        agentsProjects: state.agentsR.agentsProjects,\r\n        agentsSelectedProject: state.agentsR.agentsSelectedProject,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { resetSocialMediaSelections, getProjectByPage, goToWizardConfig, resetَAllWizard, deleteProjectByPage, setAgentsSelectedProject  })(MyAgents);\r\n\r\n"]},"metadata":{},"sourceType":"module"}