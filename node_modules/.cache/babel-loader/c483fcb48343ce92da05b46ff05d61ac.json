{"ast":null,"code":"var _jsxFileName = \"/usr/work/smart_front_oussema/src/components/IntentContainer.js\";\nimport React, { useState, useEffect } from 'react';\nimport IntentContainerTable from './IntentContainerTable';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nfunction IntentContainer(props) {\n  const [intent, setIntent] = useState([]);\n  const [selectedEntent, setselectedEntent] = useState([]);\n\n  const showententForm = intent => {\n    if (selectedEntent.includes(intent)) return;\n    setselectedEntent([...selectedEntent, intent]);\n  };\n\n  const removeSelectedIntent = removedIntent => {\n    setselectedEntent(selectedEntent.filter(el => el != removedIntent));\n  };\n\n  useEffect(() => {\n    manupilateIntentsData();\n\n    if (props.porject) {\n      const projectActiveIntent = props.porject.intents.map(el => el.name);\n      console.log(projectActiveIntent);\n      setselectedEntent(projectActiveIntent);\n    }\n  }, [props.intent]);\n\n  const manupilateIntentsData = () => {\n    let obj;\n    let newdata = {}; // let expressions\n\n    for (let i = 0; i < props.intent.length; i++) {\n      obj = {\n        [props.intent[i]['intent']]: {\n          id: props.intent[i]['id'],\n          // expression: props.intent[i + 1] && props.intent[i]['intent'] === props.intent[i + 1]['intent'] ? [...newdata.data[i]['intent']['expression'], props.intent[i]['expression']] : [...newdata.data[i]['intent']['expression'], props.intent[i]['expression']],\n          date: props.intent[i]['date']\n        }\n      };\n      newdata = { ...newdata,\n        ...obj\n      };\n    }\n\n    setIntent(Object.keys(newdata));\n  };\n\n  if (typeof props.project === 'object' && props.project !== null) return React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"the API didn't approve to add project with this post ID it is likely a bug in the api add request\");\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      width: \"95%\",\n      border: \"1px solid #B4B4B4\",\n      borderRadius: 15,\n      padding: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    style: {\n      marginTop: 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Select Intents\"), React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, intent.map(el => React.createElement(\"button\", {\n    key: el,\n    className: \"btn\",\n    style: {\n      background: selectedEntent.find(Element => el == Element) ? 'rgba(229, 0, 125, 0.15)' : 'transparent',\n      cursor: 'pointer',\n      margin: 1\n    },\n    onClick: () => showententForm(el),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, el)))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), selectedEntent.map(el => React.createElement(IntentContainerTable, {\n    removeSelectedIntent: removeSelectedIntent,\n    key: Math.random(),\n    selectedEntent: el,\n    intents: props.porject.hasOwnProperty(\"intents\") ? props.porject.intents.find(Element => Element.name == el) : 'undefined',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  })));\n}\n\nconst mapStateToProps = (state, owenProps) => {\n  const porject = state.allProjects.find(el => el.post.idPost == owenProps.match.params.idpost);\n  console.log('mapStateToProps ', porject);\n  return {\n    porject\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(IntentContainer));","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/components/IntentContainer.js"],"names":["React","useState","useEffect","IntentContainerTable","connect","withRouter","IntentContainer","props","intent","setIntent","selectedEntent","setselectedEntent","showententForm","includes","removeSelectedIntent","removedIntent","filter","el","manupilateIntentsData","porject","projectActiveIntent","intents","map","name","console","log","obj","newdata","i","length","id","date","Object","keys","project","width","border","borderRadius","padding","marginTop","display","flexWrap","background","find","Element","cursor","margin","Math","random","hasOwnProperty","mapStateToProps","state","owenProps","allProjects","post","idPost","match","params","idpost"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport IntentContainerTable from './IntentContainerTable'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\n\r\nfunction IntentContainer(props) {\r\n    const [intent, setIntent] = useState([])\r\n    const [selectedEntent, setselectedEntent] = useState([])\r\n    const showententForm = (intent) => {\r\n        if (selectedEntent.includes(intent)) return;\r\n        setselectedEntent([...selectedEntent, intent])\r\n    }\r\n\r\n    const removeSelectedIntent = (removedIntent) => {\r\n        setselectedEntent(selectedEntent.filter(el => el != removedIntent))\r\n    }\r\n\r\n    useEffect(() => {\r\n        manupilateIntentsData()\r\n        if (props.porject) {\r\n\r\n            const projectActiveIntent = props.porject.intents.map(el => el.name)\r\n            console.log(projectActiveIntent)\r\n            setselectedEntent(projectActiveIntent)\r\n        }\r\n    }, [props.intent])\r\n\r\n    const manupilateIntentsData = () => {\r\n        let obj\r\n        let newdata = {}\r\n        // let expressions\r\n        for (let i = 0; i < props.intent.length; i++) {\r\n            obj = {\r\n                [props.intent[i]['intent']]: {\r\n                    id: props.intent[i]['id'],\r\n                    // expression: props.intent[i + 1] && props.intent[i]['intent'] === props.intent[i + 1]['intent'] ? [...newdata.data[i]['intent']['expression'], props.intent[i]['expression']] : [...newdata.data[i]['intent']['expression'], props.intent[i]['expression']],\r\n                    date: props.intent[i]['date']\r\n                }\r\n            }\r\n            newdata = { ...newdata, ...obj }\r\n\r\n        }\r\n        setIntent(Object.keys(newdata))\r\n    }\r\n    if (typeof props.project === 'object' && props.project !== null)\r\n        return <h1>the API didn't approve to add project with this post ID it is likely a bug in the api add request</h1>\r\n    return (\r\n        <div>\r\n            <div style={{ width: \"95%\", border: \"1px solid #B4B4B4\", borderRadius: 15, padding: 20 }}>\r\n                <h4 style={{ marginTop: 0 }}>Select Intents</h4>\r\n                <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n                    {\r\n                        intent.map(el =>\r\n                            <button key={el} className=\"btn\" style={{ background: selectedEntent.find(Element => el == Element) ? 'rgba(229, 0, 125, 0.15)' : 'transparent', cursor: 'pointer', margin: 1 }} onClick={() => showententForm(el)}>{el}</button>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n            <br /><br />\r\n            {\r\n                selectedEntent.map(el => <IntentContainerTable removeSelectedIntent={removeSelectedIntent} key={Math.random()} selectedEntent={el} intents={props.porject.hasOwnProperty(\"intents\") ? props.porject.intents.find(Element => Element.name == el) : 'undefined'} />)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state, owenProps) => {\r\n    const porject = state.allProjects.find(el => el.post.idPost == owenProps.match.params.idpost)\r\n    console.log('mapStateToProps ', porject)\r\n    return {\r\n        porject\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(IntentContainer))\r\n"]},"metadata":{},"sourceType":"module"}