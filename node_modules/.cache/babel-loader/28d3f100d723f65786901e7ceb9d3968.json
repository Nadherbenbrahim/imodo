{"ast":null,"code":"import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Pages from'../Pages/Pages';import moment from'moment';import{connect}from'react-redux';import{getDashboard,getDashboardPosts,resetSocialMediaSelections,resetDashboard,filterDashboardIntents}from'../../../redux/actions/socialMediaActions';import{Col,Row,Image,Dropdown}from'react-bootstrap';// Translations\nimport{trans}from'../../../Translations';import{PieChart}from'react-minimal-pie-chart';import{FaInfoCircle}from'react-icons/fa';import{IoIosArrowDown}from'react-icons/io';var default_img=require('../../../assets/images/home/no_posts.svg');function Dashboard(props){var lang=props.lang,socialMediaPageSelected=props.socialMediaPageSelected,dashboardData=props.dashboardData,dashboardPosts=props.dashboardPosts,getDashboard=props.getDashboard,getDashboardPosts=props.getDashboardPosts,filterDashboardIntents=props.filterDashboardIntents,resetSocialMediaSelections=props.resetSocialMediaSelections,resetDashboard=props.resetDashboard;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPopover=_useState2[0],setShowPopover=_useState2[1];var _useState3=useState(trans[lang].dashboard.filtresIntents[0].title),_useState4=_slicedToArray(_useState3,2),filterIntentsValue=_useState4[0],setFilterIntentsValue=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showFilters=_useState6[0],setShowFilters=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),intentsSearch=_useState8[0],setIntentsSearch=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),filtredIntents=_useState10[0],setFiltredIntents=_useState10[1];var _useState11=useState(trans[lang].dashboard.filtresPosts[0].title),_useState12=_slicedToArray(_useState11,2),filterPostsValue=_useState12[0],setFilterPostsValue=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showPostsFilters=_useState14[0],setShowPostsFilters=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),postsSearch=_useState16[0],setPostsSearch=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),filtredPosts=_useState18[0],setFiltredPosts=_useState18[1];// Custom dropdowns:\nvar intentsToggle=React.forwardRef(function(_ref,ref){var children=_ref.children,_onClick=_ref.onClick;return/*#__PURE__*/React.createElement(\"a\",{href:\"\",ref:ref,onClick:function onClick(e){e.preventDefault();_onClick(e);setShowFilters(true);},style:{textDecoration:'none'}},children);});var postsToggle=React.forwardRef(function(_ref2,ref){var children=_ref2.children,_onClick2=_ref2.onClick;return/*#__PURE__*/React.createElement(\"a\",{href:\"\",ref:ref,onClick:function onClick(e){e.preventDefault();_onClick2(e);setShowPostsFilters(true);},style:{textDecoration:'none'}},children);});var IntentsMenu=React.forwardRef(function(_ref3,ref){var children=_ref3.children,style=_ref3.style,className=_ref3.className,labeledBy=_ref3['aria-labelledby'];return showFilters&&trans[lang].dashboard.filtresIntents&&/*#__PURE__*/React.createElement(\"div\",{ref:ref,className:className,\"aria-labelledby\":labeledBy,style:{width:'-webkit-fill-available'}},trans[lang].dashboard.filtresIntents.map(function(filter){return filter.title!==filterIntentsValue&&/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex filter-item p-1\",onClick:function onClick(){setFilterIntentsValue(filter.title);setShowFilters(false);filterIntents(filter.value);}},/*#__PURE__*/React.createElement(\"p\",{className:\"ml-2 mr-auto my-auto\"},filter.title));}));});var postsMenu=React.forwardRef(function(_ref4,ref){var children=_ref4.children,style=_ref4.style,className=_ref4.className,labeledBy=_ref4['aria-labelledby'];return showPostsFilters&&trans[lang].dashboard.filtresPosts&&/*#__PURE__*/React.createElement(\"div\",{ref:ref,className:className,\"aria-labelledby\":labeledBy,style:{width:'-webkit-fill-available'}},trans[lang].dashboard.filtresPosts.map(function(filter){return filter.title!==filterPostsValue&&/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex filter-item p-1\",onClick:function onClick(){setFilterPostsValue(filter.title);setShowPostsFilters(false);filterPosts(filter.value);}},/*#__PURE__*/React.createElement(\"p\",{className:\"ml-2 mr-auto my-auto\"},filter.title));}));});var kFormatter=function kFormatter(num){return Math.abs(num)>999?Math.sign(num)*(Math.abs(num)/1000).toFixed(1)+'k':Math.sign(num)*Math.abs(num);};var renderDate=function renderDate(date){return moment(date).format('DD/MM/YY')+\" \"+moment(date).format('h:mm');};var renderPopover=function renderPopover(){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex manage-products-popover\",onMouseEnter:function onMouseEnter(){return setShowPopover(true);},onMouseLeave:function onMouseLeave(){return setShowPopover(false);}},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},trans[lang].dashboard.infoPopover));};var handlePopover=function handlePopover(delay){setTimeout(function(){setShowPopover(!showPopover);},delay);};var filterIntents=function filterIntents(filter){if(filter===\"all\"){filterDashboardIntents(socialMediaPageSelected,\"all\");}else if(filter===\"last week\"){filterDashboardIntents(socialMediaPageSelected,\"week\");}else{filterDashboardIntents(socialMediaPageSelected,\"day\");}};var filterPosts=function filterPosts(filter){var filtred=[];if(filter===\"all\"){setPostsSearch(false);setFiltredPosts([]);}else if(filter===\"last week\"){setPostsSearch(true);filtred=dashboardPosts.filter(function(post){return moment(post.post.created_time).isSame(new Date(),'week');});setFiltredPosts(filtred);}else{setPostsSearch(true);filtred=dashboardPosts.filter(function(post){return moment(post.post.created_time).isSame(new Date(),'month');});setFiltredPosts(filtred);}};useEffect(function(){resetDashboard();},[]);useEffect(function(){if(socialMediaPageSelected){getDashboard(socialMediaPageSelected);getDashboardPosts(socialMediaPageSelected);}return function(){};},[socialMediaPageSelected]);useEffect(function(){if(lang){setFilterIntentsValue(trans[lang].dashboard.filtresIntents[0].title);setFilterPostsValue(trans[lang].dashboard.filtresPosts[0].title);}return function(){};},[lang]);useEffect(function(){// Reset !\n// setFilterIntentsValue(trans[lang].dashboard.filtresIntents[0].title);\n// setIntentsSearch(false);\n// setFiltredIntents([]);\nreturn function(){};},[dashboardData]);useEffect(function(){// Reset !\nsetFilterPostsValue(trans[lang].dashboard.filtresPosts[0].title);setPostsSearch(false);setFiltredPosts([]);return function(){};},[dashboardPosts]);return/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'135px'}},/*#__PURE__*/React.createElement(Row,{className:\"mt-5\"},/*#__PURE__*/React.createElement(\"p\",{className:\"home-big-title\"},trans[lang].pages.pagesConnected),/*#__PURE__*/React.createElement(FaInfoCircle,{style:{transitionDuration:'300ms'},color:!showPopover?\"#4080FF\":\"#E5007D\",size:'15',onMouseEnter:function onMouseEnter(){return handlePopover('20');},onMouseLeave:function onMouseLeave(){return handlePopover('700');}}),showPopover&&renderPopover()),/*#__PURE__*/React.createElement(Pages,{title:trans[lang].dashboard.title}),socialMediaPageSelected&&/*#__PURE__*/React.createElement(React.Fragment,null,dashboardData.length>0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"p\",{className:\"mr-auto mb-3 sous-text-selectPage\"},trans[lang].dashboard.smallTitle)),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:10,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"home-big-title mr-auto\",style:{fontSize:'20px',fontFamily:'Poppins SemiBold'}},trans[lang].dashboard.mostRequested),/*#__PURE__*/React.createElement(Dropdown,{className:\"ml-auto\",style:{marginBottom:'22px'}},/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:intentsToggle,id:\"dropdown-custom-components\"},/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto sous-text-selectPage\"},trans[lang].dashboard.date),/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto sous-text-selectPage ml-2\",style:{color:\"#BCBCBC\"}},filterIntentsValue),/*#__PURE__*/React.createElement(IoIosArrowDown,{className:\"my-auto ml-1\",color:\"#4D4F5C\",size:'17'}))),/*#__PURE__*/React.createElement(Dropdown.Menu,{as:IntentsMenu})))),dashboardData.length===0?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:10,className:\"d-flex mb-5\"},/*#__PURE__*/React.createElement(\"p\",{className:\"home-big-title m-auto\",style:{fontSize:'17px',fontFamily:'Poppins SemiBold'}},trans[lang].dashboard.NoResultMostRequested))):/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:11,className:\"p-4\",style:{background:'white'}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:8},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-between mx-2\"},/*#__PURE__*/React.createElement(\"p\",null,trans[lang].dashboard.intents),/*#__PURE__*/React.createElement(\"p\",null,trans[lang].dashboard.total)),dashboardData.map(function(data,i){return data.hasOwnProperty('title')&&data.hasOwnProperty(\"value\")&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{key:i,className:\"justify-content-between mx-2\"},/*#__PURE__*/React.createElement(\"span\",{className:\"intent-dashboard d-flex\",style:{background:data.color}},data.title.includes(\"Probablement\")?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto px-4\"},trans[lang].dashboard.probably,\" \",data.title.replace(\"Probablement \",\"\")):/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto px-4\"},data.title)),/*#__PURE__*/React.createElement(\"span\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"intent-dashboard-total m-auto\"},data.value))),/*#__PURE__*/React.createElement(\"hr\",{className:\"intent-dashboard-separator\"}));})),/*#__PURE__*/React.createElement(Col,{lg:4,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto\",style:{height:'200px',width:'200px'}},/*#__PURE__*/React.createElement(PieChart,{lineWidth:20,data:dashboardData}))))))),dashboardPosts.length>0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"mt-4 mb-3\"},/*#__PURE__*/React.createElement(Col,{lg:10,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"home-big-title mr-auto\",style:{fontSize:'20px',fontFamily:'Poppins SemiBold'}},trans[lang].dashboard.posts),/*#__PURE__*/React.createElement(Dropdown,{className:\"ml-auto\",style:{marginBottom:'22px'}},/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:postsToggle,id:\"dropdown-custom-components\"},/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto sous-text-selectPage\"},trans[lang].dashboard.date),/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto sous-text-selectPage ml-2\",style:{color:\"#BCBCBC\"}},filterPostsValue),/*#__PURE__*/React.createElement(IoIosArrowDown,{className:\"my-auto ml-1\",color:\"#4D4F5C\",size:'17'}))),/*#__PURE__*/React.createElement(Dropdown.Menu,{as:postsMenu})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:11},/*#__PURE__*/React.createElement(Row,null,filtredPosts.length===0&&postsSearch?/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"home-big-title m-auto\",style:{fontSize:'17px',fontFamily:'Poppins SemiBold'}},trans[lang].dashboard.noResultsPosts)):filtredPosts.length>0?filtredPosts.map(function(post){return/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard-post-card d-flex my-3 mr-5\",key:post.idPost},/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"p-3 mb-auto\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:2,className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:socialMediaPageSelected.picture_url,className:\"mb-auto ml-2\",style:{height:'40px',width:'40px',borderRadius:'50%'}})),/*#__PURE__*/React.createElement(Col,{lg:10},/*#__PURE__*/React.createElement(\"p\",{className:\"mt-2 ml-1\"},socialMediaPageSelected.name),/*#__PURE__*/React.createElement(\"p\",{className:\"dashboard-post-card-date ml-1\"},renderDate(post.post.created_time))))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex m-auto\"},post.post.hasOwnProperty('full_picture')?/*#__PURE__*/ // POST IMAGE FB\nReact.createElement(\"div\",{className:\"dashboard-post-card-full-image d-flex\"},/*#__PURE__*/React.createElement(Image,{src:post.post.full_picture,className:\"m-auto\",style:{maxWidth:'100%',maxHeight:'200px'}})):post.post.hasOwnProperty('media_url')?/*#__PURE__*/ // POST IMAGE INSTA\nReact.createElement(\"div\",{className:\"dashboard-post-card-full-image d-flex\"},/*#__PURE__*/React.createElement(Image,{src:post.post.media_url,className:\"m-auto\",style:{maxWidth:'100%',maxHeight:'200px'}})):/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard-post-card-full-image d-flex\"},/*#__PURE__*/React.createElement(Image,{src:default_img,className:\"m-auto\",style:{maxWidth:'100%',maxHeight:'200px'}}))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mt-auto py-2\"},/*#__PURE__*/React.createElement(Row,{className:\"px-4 d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-column d-flex mr-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},post.hasOwnProperty('comments')&&kFormatter(post.comments)),/*#__PURE__*/React.createElement(\"span\",{className:\"m-auto\"},trans[lang].dashboard.comments)),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-column d-flex m-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},post.hasOwnProperty('matched')&&kFormatter(post.matched)),/*#__PURE__*/React.createElement(\"span\",{className:\"m-auto\"},trans[lang].dashboard.matched)),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-column d-flex ml-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},post.hasOwnProperty('performance')&&kFormatter(parseInt(post.performance).toFixed(0))+\"%\"),/*#__PURE__*/React.createElement(\"span\",{className:\"m-auto\"},trans[lang].dashboard.performance))))));}):dashboardPosts.map(function(post){return/*#__PURE__*/React.createElement(Col,{xs:12,lg:4,className:\" d-flex my-3 px-4 py-3\",key:post.idPost},/*#__PURE__*/React.createElement(Row,{className:\"d-flex dashboard-post-card\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"p-3 mb-auto\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:2,className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:socialMediaPageSelected.picture_url,className:\"mb-auto ml-2\",style:{height:'40px',width:'40px',borderRadius:'50%'}})),/*#__PURE__*/React.createElement(Col,{lg:10},/*#__PURE__*/React.createElement(\"p\",{className:\"mt-2 ml-1\"},socialMediaPageSelected.name),/*#__PURE__*/React.createElement(\"p\",{className:\"dashboard-post-card-date ml-1\"},renderDate(post.post.created_time))))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex m-auto p-0\"},post.post.hasOwnProperty('full_picture')?/*#__PURE__*/ // POST IMAGE FB\nReact.createElement(\"div\",{className:\"m-auto d-flex\"},/*#__PURE__*/React.createElement(Image,{src:post.post.full_picture,className:\"m-auto\",style:{maxWidth:'100%',maxHeight:'200px'}})):post.post.hasOwnProperty('media_url')?/*#__PURE__*/ // POST IMAGE INSTA\nReact.createElement(\"div\",{className:\"m-auto d-flex\"},/*#__PURE__*/React.createElement(Image,{src:post.post.media_url,className:\"m-auto\",style:{maxWidth:'100%',maxHeight:'200px'}})):/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto d-flex\"},/*#__PURE__*/React.createElement(Image,{src:default_img,className:\"m-auto\",style:{maxWidth:'100%',maxHeight:'200px'}}))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mt-auto py-2\"},/*#__PURE__*/React.createElement(Row,{className:\"px-4 d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-column d-flex mr-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},post.hasOwnProperty('comments')&&kFormatter(post.comments)),/*#__PURE__*/React.createElement(\"span\",{className:\"m-auto\"},trans[lang].dashboard.comments)),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-column d-flex m-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},post.hasOwnProperty('matched')&&kFormatter(post.matched)),/*#__PURE__*/React.createElement(\"span\",{className:\"m-auto\"},trans[lang].dashboard.matched)),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-column d-flex ml-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},post.hasOwnProperty('performance')&&kFormatter(parseInt(post.performance).toFixed(0))+\"%\"),/*#__PURE__*/React.createElement(\"span\",{className:\"m-auto\"},trans[lang].dashboard.performance))))));}// </div>\n)))))));}var mapStateToProps=function mapStateToProps(state){return{lang:state.socialMediaR.lang,socialMediaPageSelected:state.socialMediaR.socialMediaPageSelected,dashboardData:state.socialMediaR.dashboardData,dashboardPosts:state.socialMediaR.dashboardPosts};};export default connect(mapStateToProps,{getDashboard:getDashboard,getDashboardPosts:getDashboardPosts,resetSocialMediaSelections:resetSocialMediaSelections,resetDashboard:resetDashboard,filterDashboardIntents:filterDashboardIntents})(Dashboard);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/Dashboard/Dashboard.js"],"names":["React","useEffect","useState","Pages","moment","connect","getDashboard","getDashboardPosts","resetSocialMediaSelections","resetDashboard","filterDashboardIntents","Col","Row","Image","Dropdown","trans","PieChart","FaInfoCircle","IoIosArrowDown","default_img","require","Dashboard","props","lang","socialMediaPageSelected","dashboardData","dashboardPosts","showPopover","setShowPopover","dashboard","filtresIntents","title","filterIntentsValue","setFilterIntentsValue","showFilters","setShowFilters","intentsSearch","setIntentsSearch","filtredIntents","setFiltredIntents","filtresPosts","filterPostsValue","setFilterPostsValue","showPostsFilters","setShowPostsFilters","postsSearch","setPostsSearch","filtredPosts","setFiltredPosts","intentsToggle","forwardRef","ref","children","onClick","e","preventDefault","textDecoration","postsToggle","IntentsMenu","style","className","labeledBy","width","map","filter","filterIntents","value","postsMenu","filterPosts","kFormatter","num","Math","abs","sign","toFixed","renderDate","date","format","renderPopover","infoPopover","handlePopover","delay","setTimeout","filtred","post","created_time","isSame","Date","marginTop","pages","pagesConnected","transitionDuration","length","smallTitle","fontSize","fontFamily","mostRequested","marginBottom","color","NoResultMostRequested","background","intents","total","data","i","hasOwnProperty","includes","probably","replace","height","posts","noResultsPosts","idPost","picture_url","borderRadius","name","full_picture","maxWidth","maxHeight","media_url","comments","matched","parseInt","performance","mapStateToProps","state","socialMediaR"],"mappings":"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","sourcesContent":["import React, { useEffect , useState} from 'react';\r\nimport Pages from '../Pages/Pages';\r\n\r\nimport moment from 'moment';\r\n\r\nimport { connect } from 'react-redux';                       \r\nimport { getDashboard, getDashboardPosts, resetSocialMediaSelections, resetDashboard, filterDashboardIntents } from '../../../redux/actions/socialMediaActions';\r\n\r\nimport {\r\n    Col,\r\n    Row,\r\n    Image,\r\n    Dropdown,\r\n} from 'react-bootstrap';\r\n\r\n// Translations\r\nimport { trans } from '../../../Translations';\r\n\r\nimport { PieChart } from 'react-minimal-pie-chart';\r\nimport { FaInfoCircle } from 'react-icons/fa';\r\nimport { IoIosArrowDown } from 'react-icons/io';\r\n\r\nconst default_img = require('../../../assets/images/home/no_posts.svg');\r\n\r\nfunction Dashboard(props) {\r\n    \r\n    let {\r\n        lang,\r\n        socialMediaPageSelected,\r\n        dashboardData,\r\n        dashboardPosts,\r\n\r\n\r\n        // FUNCTIONS\r\n        getDashboard,\r\n        getDashboardPosts,\r\n        filterDashboardIntents,\r\n        resetSocialMediaSelections,\r\n        resetDashboard,\r\n    } = props;\r\n\r\n    const [showPopover, setShowPopover] = useState(false);\r\n    \r\n    const [filterIntentsValue, setFilterIntentsValue] = useState(trans[lang].dashboard.filtresIntents[0].title);\r\n    const [showFilters, setShowFilters] = useState(false);\r\n    const [intentsSearch, setIntentsSearch] = useState(false);\r\n    const [filtredIntents, setFiltredIntents] = useState([]);\r\n\r\n    const [filterPostsValue, setFilterPostsValue] = useState(trans[lang].dashboard.filtresPosts[0].title);\r\n    const [showPostsFilters, setShowPostsFilters] = useState(false);\r\n    const [postsSearch, setPostsSearch] = useState(false);\r\n    const [filtredPosts, setFiltredPosts] = useState([]);\r\n    \r\n\r\n    // Custom dropdowns:\r\n    const intentsToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n        <a href=\"\" ref={ref} onClick={(e) => { e.preventDefault(); onClick(e); setShowFilters(true) }} style={{ textDecoration: 'none' }}>{children}</a>\r\n    ));\r\n\r\n    const postsToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n        <a href=\"\" ref={ref} onClick={(e) => { e.preventDefault(); onClick(e); setShowPostsFilters(true) }} style={{ textDecoration: 'none' }}>{children}</a>\r\n    ));\r\n\r\n    const IntentsMenu = React.forwardRef(\r\n        ({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {\r\n          return (\r\n            showFilters && trans[lang].dashboard.filtresIntents\r\n            &&\r\n            <div\r\n              ref={ref}\r\n              className={className}\r\n              aria-labelledby={labeledBy}\r\n              style={{ width: '-webkit-fill-available'}}\r\n            >\r\n            {trans[lang].dashboard.filtresIntents.map((filter) => \r\n                filter.title !== filterIntentsValue\r\n                &&\r\n                <Col lg={12} className=\"d-flex filter-item p-1\" onClick={() => { setFilterIntentsValue(filter.title); setShowFilters(false); filterIntents(filter.value) }}>\r\n                    <p className=\"ml-2 mr-auto my-auto\">{filter.title}</p>\r\n                </Col>\r\n            )}\r\n            </div>\r\n          );\r\n        },\r\n    );\r\n\r\n    const postsMenu = React.forwardRef(\r\n        ({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {\r\n          return (\r\n            showPostsFilters && trans[lang].dashboard.filtresPosts\r\n            &&\r\n            <div\r\n              ref={ref}\r\n              className={className}\r\n              aria-labelledby={labeledBy}\r\n              style={{ width: '-webkit-fill-available'}}\r\n            >\r\n            {trans[lang].dashboard.filtresPosts.map((filter) => \r\n                filter.title !== filterPostsValue\r\n                &&\r\n                <Col lg={12} className=\"d-flex filter-item p-1\" onClick={() => { setFilterPostsValue(filter.title); setShowPostsFilters(false); filterPosts(filter.value) }}>\r\n                    <p className=\"ml-2 mr-auto my-auto\">{filter.title}</p>\r\n                </Col>\r\n            )}\r\n            </div>\r\n          );\r\n        },\r\n    );\r\n\r\n    const kFormatter = (num) => {\r\n        return Math.abs(num) > 999 ? Math.sign(num)*((Math.abs(num)/1000).toFixed(1)) + 'k' : Math.sign(num)*Math.abs(num)\r\n    };\r\n\r\n    const renderDate = (date) => {\r\n        return moment(date).format('DD/MM/YY') + \" \" + moment(date).format('h:mm');\r\n    };\r\n    \r\n    const renderPopover = () => (\r\n        <div className=\"d-flex manage-products-popover\" onMouseEnter={() => setShowPopover(true)} onMouseLeave={() => setShowPopover(false)}>\r\n          <p className=\"m-auto\">{trans[lang].dashboard.infoPopover}</p>\r\n        </div>\r\n    );\r\n      \r\n    const handlePopover = (delay) => {\r\n        setTimeout( () => {\r\n          setShowPopover(!showPopover);\r\n        },delay)\r\n    };\r\n\r\n    const filterIntents = (filter) => {\r\n        if(filter === \"all\") {\r\n            filterDashboardIntents(socialMediaPageSelected,\"all\");\r\n        } else if(filter === \"last week\") {\r\n            filterDashboardIntents(socialMediaPageSelected,\"week\");\r\n        } else {\r\n            filterDashboardIntents(socialMediaPageSelected,\"day\");\r\n        }\r\n    };\r\n\r\n    const filterPosts = (filter) => {\r\n        let filtred = [];\r\n\r\n        if(filter === \"all\") {\r\n            setPostsSearch(false);\r\n            setFiltredPosts([]);\r\n        } else if(filter === \"last week\") {\r\n            setPostsSearch(true);\r\n            filtred = dashboardPosts.filter((post) => moment(post.post.created_time).isSame(new Date(), 'week'));\r\n            setFiltredPosts(filtred);\r\n        } else {\r\n            setPostsSearch(true);\r\n            filtred = dashboardPosts.filter((post) => moment(post.post.created_time).isSame(new Date(), 'month'));\r\n            setFiltredPosts(filtred);\r\n        }\r\n    };\r\n      \r\n    useEffect(() => {\r\n        resetDashboard();\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n        if(socialMediaPageSelected) {\r\n            getDashboard(socialMediaPageSelected);\r\n            getDashboardPosts(socialMediaPageSelected);\r\n        }\r\n        return () => {};\r\n    }, [socialMediaPageSelected]);\r\n    \r\n    \r\n    useEffect(() => {\r\n        if(lang) {\r\n            setFilterIntentsValue(trans[lang].dashboard.filtresIntents[0].title);\r\n            setFilterPostsValue(trans[lang].dashboard.filtresPosts[0].title);\r\n        }\r\n        return () => {};\r\n    }, [lang]);\r\n   \r\n    useEffect(() => {\r\n        // Reset !\r\n        // setFilterIntentsValue(trans[lang].dashboard.filtresIntents[0].title);\r\n        // setIntentsSearch(false);\r\n        // setFiltredIntents([]);\r\n        return () => { };\r\n    },[dashboardData]);\r\n    \r\n    useEffect(() => {\r\n        // Reset !\r\n        setFilterPostsValue(trans[lang].dashboard.filtresPosts[0].title);\r\n        setPostsSearch(false);\r\n        setFiltredPosts([]);\r\n\r\n        return () => { };\r\n    },[dashboardPosts]);\r\n    \r\n  \r\n    return (\r\n        <div style={{ marginTop: '135px' }}>\r\n             <Row className=\"mt-5\">\r\n                <p className=\"home-big-title\">{trans[lang].pages.pagesConnected}</p>\r\n                <FaInfoCircle style={{transitionDuration: '300ms' }} color={!showPopover ? \"#4080FF\" : \"#E5007D\"} size={'15'} onMouseEnter={() => handlePopover('20')} onMouseLeave={() => handlePopover('700')} />\r\n                {showPopover && renderPopover()}\r\n            </Row>\r\n\r\n            <Pages title={trans[lang].dashboard.title} />\r\n\r\n            {socialMediaPageSelected \r\n            &&\r\n            <>\r\n            {/* WHEN DASHBOARD DATA === 0 Treat this */}\r\n            {dashboardData.length > 0\r\n            &&\r\n            <>\r\n            <Row>\r\n                <p className=\"mr-auto mb-3 sous-text-selectPage\">{trans[lang].dashboard.smallTitle}</p>\r\n            </Row>\r\n\r\n            <Row>\r\n                <Col lg={10} className=\"d-flex\">\r\n                    <p className=\"home-big-title mr-auto\" style={{ fontSize: '20px', fontFamily: 'Poppins SemiBold' }}>{trans[lang].dashboard.mostRequested}</p>\r\n\r\n                    <Dropdown className=\"ml-auto\" style={{marginBottom: '22px'}}>\r\n                        <Dropdown.Toggle as={intentsToggle} id=\"dropdown-custom-components\">\r\n                            <Row className=\"d-flex\">\r\n                                <p className=\"my-auto sous-text-selectPage\">{trans[lang].dashboard.date}</p> \r\n                                <p className=\"my-auto sous-text-selectPage ml-2\" style={{ color: \"#BCBCBC\" }}>{filterIntentsValue}</p> \r\n                                <IoIosArrowDown className={\"my-auto ml-1\"} color={\"#4D4F5C\"} size={'17'} />\r\n                            </Row>\r\n                        </Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu as={IntentsMenu} />\r\n                    </Dropdown>\r\n                </Col>\r\n            </Row>\r\n\r\n            {dashboardData.length === 0\r\n            ?\r\n            <Row>\r\n                <Col lg={10} className=\"d-flex mb-5\">\r\n                    <p className=\"home-big-title m-auto\" style={{ fontSize: '17px', fontFamily: 'Poppins SemiBold' }}>{trans[lang].dashboard.NoResultMostRequested}</p>\r\n                </Col>\r\n            </Row>\r\n            :\r\n            <Row>\r\n                <Col lg={11} className=\"p-4\" style={{background: 'white'}}>\r\n                    <Row>\r\n                        <Col lg={8}>\r\n                            <Row className=\"justify-content-between mx-2\">\r\n                                <p>{trans[lang].dashboard.intents}</p>\r\n                                <p>{trans[lang].dashboard.total}</p>\r\n                            </Row>\r\n\r\n                            {/* LINE */}\r\n                            {dashboardData.map((data,i) => \r\n                            data.hasOwnProperty('title') && data.hasOwnProperty(\"value\") \r\n                            &&\r\n                            <>\r\n                            <Row key={i} className=\"justify-content-between mx-2\">\r\n                                <span className=\"intent-dashboard d-flex\" style={{ background: data.color}}>\r\n                                    {\r\n                                    data.title.includes(\"Probablement\")\r\n                                    ?\r\n                                    <p className=\"m-auto px-4\">{trans[lang].dashboard.probably} {data.title.replace(\"Probablement \", \"\")}</p>\r\n                                    :\r\n                                    <p className=\"m-auto px-4\">{data.title}</p>\r\n                                    } \r\n                                </span>\r\n\r\n                                <span className=\"d-flex\">\r\n                                    <p className=\"intent-dashboard-total m-auto\">{data.value}</p>\r\n                                </span>\r\n                            </Row>\r\n                            <hr className=\"intent-dashboard-separator\" />\r\n                            </>\r\n                            )}\r\n                        </Col>\r\n\r\n                        <Col lg={4} className=\"d-flex\">\r\n                            <div className=\"m-auto\" style={{height: '200px', width: '200px'}}>\r\n                                <PieChart lineWidth={20} data={dashboardData} />\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n            }\r\n            </>\r\n            }\r\n\r\n            \r\n            {dashboardPosts.length > 0 \r\n            && \r\n            <>\r\n            <Row className=\"mt-4 mb-3\">\r\n                <Col lg={10} className=\"d-flex\">\r\n                    <p className=\"home-big-title mr-auto\" style={{ fontSize: '20px', fontFamily: 'Poppins SemiBold' }}>{trans[lang].dashboard.posts}</p>\r\n\r\n                    <Dropdown className=\"ml-auto\" style={{marginBottom: '22px'}}>\r\n                        <Dropdown.Toggle as={postsToggle} id=\"dropdown-custom-components\">\r\n                            <Row className=\"d-flex\">\r\n                                <p className=\"my-auto sous-text-selectPage\">{trans[lang].dashboard.date}</p> \r\n                                <p className=\"my-auto sous-text-selectPage ml-2\" style={{ color: \"#BCBCBC\" }}>{filterPostsValue}</p> \r\n                                <IoIosArrowDown className={\"my-auto ml-1\"} color={\"#4D4F5C\"} size={'17'} />\r\n                            </Row>\r\n                        </Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu as={postsMenu} />\r\n                    </Dropdown>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n                <Col lg={11}>\r\n                    <Row>\r\n                        {\r\n                        filtredPosts.length === 0 && postsSearch\r\n                        ?\r\n                        <Col lg={12} className=\"d-flex\">\r\n                            <p className=\"home-big-title m-auto\" style={{ fontSize: '17px', fontFamily: 'Poppins SemiBold' }}>{trans[lang].dashboard.noResultsPosts}</p>\r\n                        </Col>\r\n                        :\r\n                        filtredPosts.length > 0\r\n                        ?\r\n                        filtredPosts.map(post =>\r\n                            <div className=\"dashboard-post-card d-flex my-3 mr-5\" key={post.idPost}>\r\n                                <Row className=\"d-flex\">\r\n\r\n                                    <Col lg={12} className=\"p-3 mb-auto\">\r\n                                        <Row>\r\n                                            <Col lg={2} className=\"d-flex\">\r\n                                                <Image src={socialMediaPageSelected.picture_url} className=\"mb-auto ml-2\" style={{height: '40px', width: '40px', borderRadius: '50%'}} />\r\n                                            </Col>\r\n\r\n                                            <Col lg={10}>\r\n                                                <p className=\"mt-2 ml-1\" >{socialMediaPageSelected.name}</p>\r\n                                                <p className=\"dashboard-post-card-date ml-1\" >{renderDate(post.post.created_time)}</p>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Col>\r\n\r\n                                    <Col lg={12} className=\"d-flex m-auto\">\r\n                                    {\r\n                                    post.post.hasOwnProperty('full_picture')\r\n                                    ?\r\n                                    // POST IMAGE FB\r\n                                    <div className=\"dashboard-post-card-full-image d-flex\">\r\n                                        <Image src={post.post.full_picture} className=\"m-auto\" style={{maxWidth: '100%', maxHeight: '200px'}} />\r\n                                    </div>\r\n                                    :\r\n                                    post.post.hasOwnProperty('media_url')\r\n                                    ?\r\n                                    // POST IMAGE INSTA\r\n                                    <div className=\"dashboard-post-card-full-image d-flex\">\r\n                                        <Image src={post.post.media_url} className=\"m-auto\" style={{maxWidth: '100%', maxHeight: '200px'}} />\r\n                                    </div>\r\n                                    :\r\n                                    <div className=\"dashboard-post-card-full-image d-flex\">\r\n                                        <Image src={default_img} className=\"m-auto\" style={{maxWidth: '100%', maxHeight: '200px'}} />\r\n                                    </div>\r\n                                    }\r\n                                    </Col>\r\n\r\n                                    <Col lg={12} className=\"mt-auto py-2\">\r\n                                        <Row className=\"px-4 d-flex\" >\r\n                                            <div className=\"flex-column d-flex mr-auto\">\r\n                                                <p className=\"m-auto\">{post.hasOwnProperty('comments') && kFormatter(post.comments)}</p>\r\n                                                <span className=\"m-auto\">{trans[lang].dashboard.comments}</span>\r\n                                            </div>\r\n\r\n                                            <div className=\"flex-column d-flex m-auto\">\r\n                                                <p className=\"m-auto\">{post.hasOwnProperty('matched') && kFormatter(post.matched)}</p>\r\n                                                <span className=\"m-auto\">{trans[lang].dashboard.matched}</span>\r\n                                            </div>\r\n\r\n                                            <div className=\"flex-column d-flex ml-auto\">\r\n                                                <p className=\"m-auto\">{post.hasOwnProperty('performance') && kFormatter(parseInt(post.performance).toFixed(0)) + \"%\"}</p>\r\n                                                <span className=\"m-auto\">{trans[lang].dashboard.performance}</span>\r\n                                            </div>\r\n                                        </Row>\r\n                                    </Col>\r\n                                </Row>\r\n                            </div>\r\n                        ) \r\n                        :\r\n                        dashboardPosts.map(post =>\r\n                            <Col xs={12} lg={4} className=\" d-flex my-3 px-4 py-3\" key={post.idPost}>\r\n                            {/* <div className=\"dashboard-post-card d-flex my-3 mr-5\" key={post.idPost}> */}\r\n                                <Row className=\"d-flex dashboard-post-card\">\r\n\r\n                                    <Col lg={12} className=\"p-3 mb-auto\">\r\n                                        <Row>\r\n                                            <Col lg={2} className=\"d-flex\">\r\n                                                <Image src={socialMediaPageSelected.picture_url} className=\"mb-auto ml-2\" style={{height: '40px', width: '40px', borderRadius: '50%'}} />\r\n                                            </Col>\r\n\r\n                                            <Col lg={10}>\r\n                                                <p className=\"mt-2 ml-1\" >{socialMediaPageSelected.name}</p>\r\n                                                <p className=\"dashboard-post-card-date ml-1\" >{renderDate(post.post.created_time)}</p>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Col>\r\n\r\n                                    <Col lg={12} className=\"d-flex m-auto p-0\">\r\n                                    {\r\n                                    post.post.hasOwnProperty('full_picture')\r\n                                    ?\r\n                                    // POST IMAGE FB\r\n                                    <div className=\"m-auto d-flex\">\r\n                                    {/* <div className=\"dashboard-post-card-full-image d-flex\"> */}\r\n                                        <Image src={post.post.full_picture} className=\"m-auto\" style={{maxWidth: '100%', maxHeight: '200px'}} />\r\n                                    </div>\r\n                                    :\r\n                                    post.post.hasOwnProperty('media_url')\r\n                                    ?\r\n                                    // POST IMAGE INSTA\r\n                                    <div className=\"m-auto d-flex\">\r\n                                        <Image src={post.post.media_url} className=\"m-auto\" style={{maxWidth: '100%', maxHeight: '200px'}} />\r\n                                    </div>\r\n                                    :\r\n                                    <div className=\"m-auto d-flex\">\r\n                                        <Image src={default_img} className=\"m-auto\" style={{maxWidth: '100%', maxHeight: '200px'}} />\r\n                                    </div>\r\n                                    }\r\n                                    </Col>\r\n\r\n                                    <Col lg={12} className=\"mt-auto py-2\">\r\n                                        <Row className=\"px-4 d-flex\" >\r\n                                            <div className=\"flex-column d-flex mr-auto\">\r\n                                                <p className=\"m-auto\">{post.hasOwnProperty('comments') && kFormatter(post.comments)}</p>\r\n                                                <span className=\"m-auto\">{trans[lang].dashboard.comments}</span>\r\n                                            </div>\r\n\r\n                                            <div className=\"flex-column d-flex m-auto\">\r\n                                                <p className=\"m-auto\">{post.hasOwnProperty('matched') && kFormatter(post.matched)}</p>\r\n                                                <span className=\"m-auto\">{trans[lang].dashboard.matched}</span>\r\n                                            </div>\r\n\r\n                                            <div className=\"flex-column d-flex ml-auto\">\r\n                                                <p className=\"m-auto\">{post.hasOwnProperty('performance') && kFormatter(parseInt(post.performance).toFixed(0)) + \"%\"}</p>\r\n                                                <span className=\"m-auto\">{trans[lang].dashboard.performance}</span>\r\n                                            </div>\r\n                                        </Row>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Col>\r\n                            // </div>\r\n                        )\r\n                        }\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n            </>\r\n            }\r\n            </>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        lang : state.socialMediaR.lang,\r\n        socialMediaPageSelected : state.socialMediaR.socialMediaPageSelected,\r\n        dashboardData : state.socialMediaR.dashboardData,\r\n        dashboardPosts : state.socialMediaR.dashboardPosts,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { getDashboard, getDashboardPosts, resetSocialMediaSelections, resetDashboard, filterDashboardIntents })(Dashboard);\r\n\r\n"]},"metadata":{},"sourceType":"module"}