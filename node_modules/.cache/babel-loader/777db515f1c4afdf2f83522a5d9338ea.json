{"ast":null,"code":"import _defineProperty from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'../Home.css';import{Row,Col,Dropdown}from'react-bootstrap';// import OwlCarousel from 'react-owl-carousel';\nimport Slider from\"react-slick\";import Lottie from'react-lottie';import{connect}from'react-redux';import{selectSocialMediaPage,getFbData,getInstaData}from'../../../redux/actions/socialMediaActions';import PageCard from'./PageCard';import animationData from'../../../assets/json/loading.json';// import { RiListSettingsFill } from 'react-icons/ri';\nimport{IoIosArrowDown}from'react-icons/io';import{ReactComponent as Preferences}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/images/home/preferences.svg\";function Pages(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loadingPages=_useState2[0],setLoadingPages=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showFacebook=_useState4[0],setShowFacebook=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showInstagram=_useState6[0],setShowInstagram=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),resetCarousel=_useState8[0],setResetCarousel=_useState8[1];var defaultOptions={loop:true,autoplay:true,animationData:animationData,rendererSettings:{preserveAspectRatio:'xMidYMid slice'}};var settings={dots:true,infinite:false,speed:700,slidesToShow:4.3,slidesToScroll:4,initialSlide:0,slickGoTo:resetCarousel,responsive:[{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2,infinite:true,dots:true}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};var CustomToggle=React.forwardRef(function(_ref,ref){var children=_ref.children,_onClick=_ref.onClick;return/*#__PURE__*/React.createElement(\"a\",{className:\"pages-filter-box d-flex py-1 px-1\",ref:ref,onClick:function onClick(e){e.preventDefault();_onClick(e);},href:\"\",style:{textDecoration:'none'}},/*#__PURE__*/React.createElement(Preferences,{className:\"my-auto mr-2 ml-2\",color:\"#B4B4B4\",width:\"17\",height:\"17\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto mr-2\"},\"Filter by page\"),/*#__PURE__*/React.createElement(\"span\",{className:\"m-auto\"},/*#__PURE__*/React.createElement(IoIosArrowDown,{className:\"my-auto ml-3\",color:\"#B4B4B4\",size:'20'})));});var CustomToggleRole=React.forwardRef(function(_ref2,ref){var children=_ref2.children,_onClick2=_ref2.onClick;return/*#__PURE__*/React.createElement(\"a\",{className:\"pages-filter-box d-flex py-1 px-1\",ref:ref,onClick:function onClick(e){e.preventDefault();_onClick2(e);},href:\"\",style:{textDecoration:'none'}},/*#__PURE__*/React.createElement(Preferences,{className:\"my-auto mr-2 ml-2\",color:\"#B4B4B4\",width:\"17\",height:\"17\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto mr-2\"},\"Filter by role\"),/*#__PURE__*/React.createElement(\"span\",{className:\"m-auto\"},/*#__PURE__*/React.createElement(IoIosArrowDown,{className:\"my-auto ml-3\",color:\"#B4B4B4\",size:'20'})));});var CustomMenu=React.forwardRef(function(_ref3,ref){var children=_ref3.children,style=_ref3.style,className=_ref3.className,labeledBy=_ref3['aria-labelledby'];return/*#__PURE__*/React.createElement(\"div\",_defineProperty({ref:ref,style:style,className:className,\"aria-labelledby\":labeledBy},\"style\",{width:'-webkit-fill-available'}),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex filter-item p-1\",onClick:function onClick(){setShowFacebook(true);setShowInstagram(true);setResetCarousel(0);}},/*#__PURE__*/React.createElement(\"p\",{className:\"ml-2 mr-auto my-auto\"},\"All\")),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex filter-item p-1\",onClick:function onClick(){setShowFacebook(true);setShowInstagram(false);setResetCarousel(0);}},/*#__PURE__*/React.createElement(\"p\",{className:\"ml-2 mr-auto my-auto\"},\"Facebook\")),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex filter-item p-1\",onClick:function onClick(){setShowInstagram(true);setShowFacebook(false);setResetCarousel(0);}},/*#__PURE__*/React.createElement(\"p\",{className:\"ml-2 mr-auto my-auto\"},\"Instagram\")));});useEffect(function(){props.getFbData();props.getInstaData();},[]);useEffect(function(){if(props.fbData){setTimeout(function(){setLoadingPages(false);},1000);// console.log(\"Pages fb data =>\", props.fbData);\n};return function(){// removing the listener when props.x changes\n};},[props.fbData]);useEffect(function(){if(props.instaData){setTimeout(function(){setLoadingPages(false);},1000);// console.log(\"Pages insta Data =>\", props.instaData);\n};return function(){// removing the listener when props.x changes\n};},[props.instaData]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{style:{marginTop:'135px'}},/*#__PURE__*/React.createElement(Col,{lg:6,className:\"d-flex\"},props.title?/*#__PURE__*/React.createElement(\"p\",{className:\"mr-auto home-big-title\",style:props.titleStyling?props.titleStyling:{}},props.title):/*#__PURE__*/React.createElement(\"p\",{className:\"mr-auto home-big-title\"},\"Pages Connected\")),/*#__PURE__*/React.createElement(Col,{lg:5,className:\"d-flex p-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-2 mt-2\"},/*#__PURE__*/React.createElement(Dropdown,null,/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:CustomToggle,id:\"dropdown-custom-components\"}),/*#__PURE__*/React.createElement(Dropdown.Menu,{as:CustomMenu}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2\"},/*#__PURE__*/React.createElement(Dropdown,null,/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:CustomToggleRole,id:\"dropdown-custom-components\"}),/*#__PURE__*/React.createElement(Dropdown.Menu,{as:CustomMenu})))),/*#__PURE__*/React.createElement(Col,{lg:1})),/*#__PURE__*/React.createElement(Row,null,!loadingPages?/*#__PURE__*/React.createElement(React.Fragment,null,props.fbData&&props.instaData&&props.fbData.length+props.instaData.length>4?/*#__PURE__*/React.createElement(\"div\",{style:{width:'95%',height:'400px',marginTop:'13px'}},/*#__PURE__*/React.createElement(Slider,settings,props.fbData!==null&&showFacebook&&props.fbData.map(function(page,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"p-3 mt-3 mb-5\",onClick:function onClick(){return props.selectSocialMediaPage(page,\"fb\",page.status);}},/*#__PURE__*/React.createElement(PageCard,{platform:\"fb\",isConnectedPage:page.isConnected,namePage:page.name,idPage:page.idPage,picture:null,accessToken:page.access_token,status:page.status,team:page.user,admins:page.admins,setLoadingPages:setLoadingPages,spam:page.spam,likesComment:page.likesComment,delay:page.respReplies.statut}));}),props.instaData!==null&&showInstagram&&props.instaData.map(function(page,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"p-3 mt-3 mb-5\",onClick:function onClick(){return props.selectSocialMediaPage(page,\"insta\",page.status);}},/*#__PURE__*/React.createElement(PageCard,{platform:\"insta\",isConnectedPage:page.isConnected,namePage:page.name,idPage:page.idPage,picture:page.imageUrl,accessToken:page.access_token,status:page.status,team:page.user,admins:page.admins,setLoadingPages:setLoadingPages}));}))):/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},props.fbData!==null&&props.fbData.map(function(page,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"p-3 mt-3 mb-5\",onClick:function onClick(){return props.selectSocialMediaPage(page,\"fb\",page.status);}},/*#__PURE__*/React.createElement(PageCard,{platform:\"fb\",isConnectedPage:page.isConnected,namePage:page.name,idPage:page.idPage,picture:null,accessToken:page.access_token,status:page.status,team:page.user,admins:page.admins,setLoadingPages:setLoadingPages}));}),props.instaData!==null&&props.instaData.map(function(page,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"p-3 mt-3 mb-5\",onClick:function onClick(){return props.selectSocialMediaPage(page,\"insta\",page.status);}},/*#__PURE__*/React.createElement(PageCard,{platform:\"insta\",isConnectedPage:page.isConnected,namePage:page.name,idPage:page.idPage,picture:page.imageUrl,accessToken:page.access_token,status:page.status,team:page.user,admins:page.admins,setLoadingPages:setLoadingPages}));}))):/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{width:'100%'}},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto\"},/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:200})))));}var mapStateToProps=function mapStateToProps(state){return{fbData:state.socialMediaR.fbData,instaData:state.socialMediaR.instaData,socialMediaPageSelected:state.socialMediaR.socialMediaPageSelected};};export default connect(mapStateToProps,{selectSocialMediaPage:selectSocialMediaPage,getFbData:getFbData,getInstaData:getInstaData})(Pages);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/Pages/Pages.js"],"names":["React","useEffect","useState","Row","Col","Dropdown","Slider","Lottie","connect","selectSocialMediaPage","getFbData","getInstaData","PageCard","animationData","IoIosArrowDown","Pages","props","loadingPages","setLoadingPages","showFacebook","setShowFacebook","showInstagram","setShowInstagram","resetCarousel","setResetCarousel","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","settings","dots","infinite","speed","slidesToShow","slidesToScroll","initialSlide","slickGoTo","responsive","breakpoint","CustomToggle","forwardRef","ref","children","onClick","e","preventDefault","textDecoration","CustomToggleRole","CustomMenu","style","className","labeledBy","width","fbData","setTimeout","instaData","marginTop","title","titleStyling","length","height","map","page","index","status","isConnected","name","idPage","access_token","user","admins","spam","likesComment","respReplies","statut","imageUrl","mapStateToProps","state","socialMediaR","socialMediaPageSelected"],"mappings":"0SAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,aAAP,CACA,OACIC,GADJ,CAEIC,GAFJ,CAGIC,QAHJ,KAIO,iBAJP,CAKA;AACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,qBAAT,CAAgCC,SAAhC,CAA2CC,YAA3C,KAA+D,2CAA/D,CAEA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA,MAAOC,CAAAA,aAAP,KAA0B,mCAA1B,CACA;AACA,OAASC,cAAT,KAA+B,gBAA/B,C,2HAIA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,eAEsBd,QAAQ,CAAC,IAAD,CAF9B,wCAEXe,YAFW,eAEGC,eAFH,8BAGsBhB,QAAQ,CAAC,IAAD,CAH9B,yCAGXiB,YAHW,eAGGC,eAHH,8BAIwBlB,QAAQ,CAAC,IAAD,CAJhC,yCAIXmB,aAJW,eAIIC,gBAJJ,8BAKwBpB,QAAQ,CAAC,CAAD,CALhC,yCAKXqB,aALW,eAKIC,gBALJ,eAOlB,GAAMC,CAAAA,cAAc,CAAG,CACnBC,IAAI,CAAE,IADa,CAEnBC,QAAQ,CAAE,IAFS,CAGnBd,aAAa,CAAEA,aAHI,CAInBe,gBAAgB,CAAE,CAChBC,mBAAmB,CAAE,gBADL,CAJC,CAAvB,CASA,GAAMC,CAAAA,QAAQ,CAAG,CACbC,IAAI,CAAE,IADO,CAEbC,QAAQ,CAAE,KAFG,CAGbC,KAAK,CAAE,GAHM,CAIbC,YAAY,CAAE,GAJD,CAKbC,cAAc,CAAE,CALH,CAMbC,YAAY,CAAE,CAND,CAObC,SAAS,CAAEd,aAPE,CAQbe,UAAU,CAAE,CACV,CACEC,UAAU,CAAE,IADd,CAEET,QAAQ,CAAE,CACRI,YAAY,CAAE,CADN,CAERC,cAAc,CAAE,CAFR,CAGRH,QAAQ,CAAE,IAHF,CAIRD,IAAI,CAAE,IAJE,CAFZ,CADU,CAUV,CACEQ,UAAU,CAAE,GADd,CAEET,QAAQ,CAAE,CACRI,YAAY,CAAE,CADN,CAERC,cAAc,CAAE,CAFR,CAGRC,YAAY,CAAE,CAHN,CAFZ,CAVU,CAkBV,CACEG,UAAU,CAAE,GADd,CAEET,QAAQ,CAAE,CACRI,YAAY,CAAE,CADN,CAERC,cAAc,CAAE,CAFR,CAFZ,CAlBU,CARC,CAAjB,CAoCA,GAAMK,CAAAA,YAAY,CAAGxC,KAAK,CAACyC,UAAN,CAAiB,cAAwBC,GAAxB,KAAGC,CAAAA,QAAH,MAAGA,QAAH,CAAaC,QAAb,MAAaA,OAAb,oBAClC,yBAAI,SAAS,CAAC,mCAAd,CAAkD,GAAG,CAAEF,GAAvD,CAA4D,OAAO,CAAE,iBAACG,CAAD,CAAO,CAACA,CAAC,CAACC,cAAF,GAAoBF,QAAO,CAACC,CAAD,CAAP,CAAY,CAA7G,CAA+G,IAAI,CAAC,EAApH,CAAuH,KAAK,CAAE,CAAEE,cAAc,CAAE,MAAlB,CAA9H,eAEI,oBAAC,WAAD,EAAa,SAAS,CAAE,mBAAxB,CAA6C,KAAK,CAAE,SAApD,CAAgE,KAAK,CAAC,IAAtE,CAA2E,MAAM,CAAC,IAAlF,EAFJ,cAGI,yBAAG,SAAS,CAAE,cAAd,mBAHJ,cAII,4BAAM,SAAS,CAAE,QAAjB,eACI,oBAAC,cAAD,EAAgB,SAAS,CAAE,cAA3B,CAA2C,KAAK,CAAE,SAAlD,CAA6D,IAAI,CAAE,IAAnE,EADJ,CAJJ,CADkC,EAAjB,CAArB,CAWA,GAAMC,CAAAA,gBAAgB,CAAGhD,KAAK,CAACyC,UAAN,CAAiB,eAAwBC,GAAxB,KAAGC,CAAAA,QAAH,OAAGA,QAAH,CAAaC,SAAb,OAAaA,OAAb,oBACtC,yBAAI,SAAS,CAAC,mCAAd,CAAkD,GAAG,CAAEF,GAAvD,CAA4D,OAAO,CAAE,iBAACG,CAAD,CAAO,CAACA,CAAC,CAACC,cAAF,GAAoBF,SAAO,CAACC,CAAD,CAAP,CAAY,CAA7G,CAA+G,IAAI,CAAC,EAApH,CAAuH,KAAK,CAAE,CAAEE,cAAc,CAAE,MAAlB,CAA9H,eAEI,oBAAC,WAAD,EAAa,SAAS,CAAE,mBAAxB,CAA6C,KAAK,CAAE,SAApD,CAAgE,KAAK,CAAC,IAAtE,CAA2E,MAAM,CAAC,IAAlF,EAFJ,cAGI,yBAAG,SAAS,CAAE,cAAd,mBAHJ,cAII,4BAAM,SAAS,CAAE,QAAjB,eACI,oBAAC,cAAD,EAAgB,SAAS,CAAE,cAA3B,CAA2C,KAAK,CAAE,SAAlD,CAA6D,IAAI,CAAE,IAAnE,EADJ,CAJJ,CADsC,EAAjB,CAAzB,CAWA,GAAME,CAAAA,UAAU,CAAGjD,KAAK,CAACyC,UAAN,CACf,eAA+DC,GAA/D,CAAuE,IAApEC,CAAAA,QAAoE,OAApEA,QAAoE,CAA1DO,KAA0D,OAA1DA,KAA0D,CAAnDC,SAAmD,OAAnDA,SAAmD,CAArBC,SAAqB,OAAxC,iBAAwC,EAErE,mBACE,2CACE,GAAG,CAAEV,GADP,CAEE,KAAK,CAAEQ,KAFT,CAGE,SAAS,CAAEC,SAHb,CAIE,kBAAiBC,SAJnB,UAKS,CAAEC,KAAK,CAAE,wBAAT,CALT,eAOI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,wBAAvB,CAAgD,OAAO,CAAE,kBAAM,CAAEjC,eAAe,CAAC,IAAD,CAAf,CAAuBE,gBAAgB,CAAC,IAAD,CAAhB,CAAwBE,gBAAgB,CAAC,CAAD,CAAhB,CAAoB,CAApI,eACI,yBAAG,SAAS,CAAC,sBAAb,QADJ,CAPJ,cAWI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,wBAAvB,CAAgD,OAAO,CAAE,kBAAM,CAAEJ,eAAe,CAAC,IAAD,CAAf,CAAuBE,gBAAgB,CAAC,KAAD,CAAhB,CAAyBE,gBAAgB,CAAC,CAAD,CAAhB,CAAqB,CAAtI,eACI,yBAAG,SAAS,CAAC,sBAAb,aADJ,CAXJ,cAeI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,wBAAvB,CAAgD,OAAO,CAAE,kBAAM,CAAGF,gBAAgB,CAAC,IAAD,CAAhB,CAAwBF,eAAe,CAAC,KAAD,CAAf,CAAwBI,gBAAgB,CAAC,CAAD,CAAhB,CAAoB,CAAtI,eACI,yBAAG,SAAS,CAAC,sBAAb,cADJ,CAfJ,CADF,CAqBD,CAxBc,CAAnB,CA2BAvB,SAAS,CAAC,UAAM,CACZe,KAAK,CAACN,SAAN,GACAM,KAAK,CAACL,YAAN,GACH,CAHQ,CAGP,EAHO,CAAT,CAMAV,SAAS,CAAC,UAAM,CACZ,GAAGe,KAAK,CAACsC,MAAT,CAAiB,CACbC,UAAU,CAAC,UAAM,CACbrC,eAAe,CAAC,KAAD,CAAf,CACH,CAFS,CAER,IAFQ,CAAV,CAGA;AACH,EACD,MAAO,WAAM,CACT;AACH,CAFD,CAGH,CAVQ,CAUP,CAACF,KAAK,CAACsC,MAAP,CAVO,CAAT,CAYArD,SAAS,CAAC,UAAM,CACZ,GAAGe,KAAK,CAACwC,SAAT,CAAoB,CAChBD,UAAU,CAAC,UAAM,CACbrC,eAAe,CAAC,KAAD,CAAf,CACH,CAFS,CAER,IAFQ,CAAV,CAGA;AAEH,EACD,MAAO,WAAM,CACT;AACH,CAFD,CAGH,CAXQ,CAWP,CAACF,KAAK,CAACwC,SAAP,CAXO,CAAT,CAaA,mBACA,qDACI,oBAAC,GAAD,EAAK,KAAK,CAAE,CAACC,SAAS,CAAE,OAAZ,CAAZ,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,QAAtB,EAEIzC,KAAK,CAAC0C,KAAN,cAEI,yBAAG,SAAS,CAAC,wBAAb,CAAsC,KAAK,CAAE1C,KAAK,CAAC2C,YAAN,CAAqB3C,KAAK,CAAC2C,YAA3B,CAA0C,EAAvF,EAA6F3C,KAAK,CAAC0C,KAAnG,CAFJ,cAII,yBAAG,SAAS,CAAC,wBAAb,oBANR,CADJ,cAWI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,YAAtB,eACI,2BAAK,SAAS,CAAC,WAAf,eACI,oBAAC,QAAD,mBACI,oBAAC,QAAD,CAAU,MAAV,EAAiB,EAAE,CAAElB,YAArB,CAAmC,EAAE,CAAC,4BAAtC,EADJ,cAKI,oBAAC,QAAD,CAAU,IAAV,EAAe,EAAE,CAAES,UAAnB,EALJ,CADJ,CADJ,cAWI,2BAAK,SAAS,CAAC,MAAf,eACI,oBAAC,QAAD,mBACI,oBAAC,QAAD,CAAU,MAAV,EAAiB,EAAE,CAAED,gBAArB,CAAuC,EAAE,CAAC,4BAA1C,EADJ,cAKI,oBAAC,QAAD,CAAU,IAAV,EAAe,EAAE,CAAEC,UAAnB,EALJ,CADJ,CAXJ,CAXJ,cAkCI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EAlCJ,CADJ,cAuCI,oBAAC,GAAD,MAGI,CAAChC,YAAD,cAGQ,wCAECD,KAAK,CAACsC,MAAN,EAAgBtC,KAAK,CAACwC,SAAtB,EAAmCxC,KAAK,CAACsC,MAAN,CAAaM,MAAb,CAAsB5C,KAAK,CAACwC,SAAN,CAAgBI,MAAtC,CAA+C,CAAlF,cAGD,2BAAK,KAAK,CAAE,CAAEP,KAAK,CAAE,KAAT,CAAgBQ,MAAM,CAAE,OAAxB,CAAgCJ,SAAS,CAAC,MAA1C,CAAZ,eACI,oBAAC,MAAD,CAAY3B,QAAZ,CAEId,KAAK,CAACsC,MAAN,GAAiB,IAAjB,EAAyBnC,YAAzB,EACIH,KAAK,CAACsC,MAAN,CAAaQ,GAAb,CAAiB,SAACC,IAAD,CAAMC,KAAN,qBACb,2BAAK,GAAG,CAAEA,KAAV,CAAiB,SAAS,CAAC,eAA3B,CAA2C,OAAO,CAAE,yBAAMhD,CAAAA,KAAK,CAACP,qBAAN,CAA4BsD,IAA5B,CAAiC,IAAjC,CAAsCA,IAAI,CAACE,MAA3C,CAAN,EAApD,eACI,oBAAC,QAAD,EACI,QAAQ,CAAE,IADd,CAEI,eAAe,CAAEF,IAAI,CAACG,WAF1B,CAGI,QAAQ,CAAEH,IAAI,CAACI,IAHnB,CAII,MAAM,CAAEJ,IAAI,CAACK,MAJjB,CAKI,OAAO,CAAE,IALb,CAMI,WAAW,CAAEL,IAAI,CAACM,YANtB,CAOI,MAAM,CAAEN,IAAI,CAACE,MAPjB,CAQI,IAAI,CAAEF,IAAI,CAACO,IARf,CASI,MAAM,CAAEP,IAAI,CAACQ,MATjB,CAUI,eAAe,CAAErD,eAVrB,CAWI,IAAI,CAAE6C,IAAI,CAACS,IAXf,CAYI,YAAY,CAAET,IAAI,CAACU,YAZvB,CAaI,KAAK,CAAEV,IAAI,CAACW,WAAL,CAAiBC,MAb5B,EADJ,CADa,EAAjB,CAHR,CAyBI3D,KAAK,CAACwC,SAAN,GAAoB,IAApB,EAA4BnC,aAA5B,EACIL,KAAK,CAACwC,SAAN,CAAgBM,GAAhB,CAAoB,SAACC,IAAD,CAAMC,KAAN,qBAChB,2BAAK,GAAG,CAAEA,KAAV,CAAiB,SAAS,CAAC,eAA3B,CAA2C,OAAO,CAAE,yBAAMhD,CAAAA,KAAK,CAACP,qBAAN,CAA4BsD,IAA5B,CAAiC,OAAjC,CAAyCA,IAAI,CAACE,MAA9C,CAAN,EAApD,eACI,oBAAC,QAAD,EACI,QAAQ,CAAE,OADd,CAEI,eAAe,CAAEF,IAAI,CAACG,WAF1B,CAGI,QAAQ,CAAEH,IAAI,CAACI,IAHnB,CAII,MAAM,CAAEJ,IAAI,CAACK,MAJjB,CAKI,OAAO,CAAEL,IAAI,CAACa,QALlB,CAMI,WAAW,CAAEb,IAAI,CAACM,YANtB,CAOI,MAAM,CAAEN,IAAI,CAACE,MAPjB,CAQI,IAAI,CAAEF,IAAI,CAACO,IARf,CASI,MAAM,CAAEP,IAAI,CAACQ,MATjB,CAUI,eAAe,CAAErD,eAVrB,EADJ,CADgB,EAApB,CA1BR,CADJ,CAHC,cAoDD,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,EAEIF,KAAK,CAACsC,MAAN,GAAiB,IAAjB,EACItC,KAAK,CAACsC,MAAN,CAAaQ,GAAb,CAAiB,SAACC,IAAD,CAAMC,KAAN,qBACb,2BAAK,GAAG,CAAEA,KAAV,CAAiB,SAAS,CAAC,eAA3B,CAA2C,OAAO,CAAE,yBAAMhD,CAAAA,KAAK,CAACP,qBAAN,CAA4BsD,IAA5B,CAAiC,IAAjC,CAAsCA,IAAI,CAACE,MAA3C,CAAN,EAApD,eACI,oBAAC,QAAD,EACI,QAAQ,CAAE,IADd,CAEI,eAAe,CAAEF,IAAI,CAACG,WAF1B,CAGI,QAAQ,CAAEH,IAAI,CAACI,IAHnB,CAII,MAAM,CAAEJ,IAAI,CAACK,MAJjB,CAKI,OAAO,CAAE,IALb,CAMI,WAAW,CAAEL,IAAI,CAACM,YANtB,CAOI,MAAM,CAAEN,IAAI,CAACE,MAPjB,CAQI,IAAI,CAAEF,IAAI,CAACO,IARf,CASI,MAAM,CAAEP,IAAI,CAACQ,MATjB,CAUI,eAAe,CAAErD,eAVrB,EADJ,CADa,EAAjB,CAHR,CAsBIF,KAAK,CAACwC,SAAN,GAAoB,IAApB,EACIxC,KAAK,CAACwC,SAAN,CAAgBM,GAAhB,CAAoB,SAACC,IAAD,CAAMC,KAAN,qBAChB,2BAAK,GAAG,CAAEA,KAAV,CAAiB,SAAS,CAAC,eAA3B,CAA2C,OAAO,CAAE,yBAAMhD,CAAAA,KAAK,CAACP,qBAAN,CAA4BsD,IAA5B,CAAiC,OAAjC,CAAyCA,IAAI,CAACE,MAA9C,CAAN,EAApD,eACI,oBAAC,QAAD,EACI,QAAQ,CAAE,OADd,CAEI,eAAe,CAAEF,IAAI,CAACG,WAF1B,CAGI,QAAQ,CAAEH,IAAI,CAACI,IAHnB,CAII,MAAM,CAAEJ,IAAI,CAACK,MAJjB,CAKI,OAAO,CAAEL,IAAI,CAACa,QALlB,CAMI,WAAW,CAAEb,IAAI,CAACM,YANtB,CAOI,MAAM,CAAEN,IAAI,CAACE,MAPjB,CAQI,IAAI,CAAEF,IAAI,CAACO,IARf,CASI,MAAM,CAAEP,IAAI,CAACQ,MATjB,CAUI,eAAe,CAAErD,eAVrB,EADJ,CADgB,EAApB,CAvBR,CAtDA,CAHR,cAyGI,2BAAK,SAAS,CAAC,QAAf,CAAwB,KAAK,CAAE,CAAEmC,KAAK,CAAE,MAAT,CAA/B,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,oBAAC,MAAD,EAAQ,OAAO,CAAE5B,cAAjB,CAAiC,KAAK,CAAE,GAAxC,EADJ,CADJ,CA5GR,CAvCJ,CADA,CA8JH,CAED,GAAMoD,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/B,MAAO,CACHxB,MAAM,CAAGwB,KAAK,CAACC,YAAN,CAAmBzB,MADzB,CAEHE,SAAS,CAAGsB,KAAK,CAACC,YAAN,CAAmBvB,SAF5B,CAGHwB,uBAAuB,CAAGF,KAAK,CAACC,YAAN,CAAmBC,uBAH1C,CAAP,CAKH,CAND,CAQA,cAAexE,CAAAA,OAAO,CAACqE,eAAD,CAAkB,CAAEpE,qBAAqB,CAArBA,qBAAF,CAAwBC,SAAS,CAATA,SAAxB,CAAmCC,YAAY,CAAZA,YAAnC,CAAlB,CAAP,CAA4EI,KAA5E,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport '../Home.css';\r\nimport {\r\n    Row,\r\n    Col,\r\n    Dropdown\r\n} from 'react-bootstrap';\r\n// import OwlCarousel from 'react-owl-carousel';\r\nimport Slider from \"react-slick\";\r\nimport Lottie from 'react-lottie';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { selectSocialMediaPage, getFbData, getInstaData } from '../../../redux/actions/socialMediaActions';\r\n\r\nimport PageCard from './PageCard';\r\n\r\nimport animationData from '../../../assets/json/loading.json';\r\n// import { RiListSettingsFill } from 'react-icons/ri';\r\nimport { IoIosArrowDown } from 'react-icons/io';\r\nimport {ReactComponent as Preferences} from '../../../assets/images/home/preferences.svg';\r\n\r\n\r\nfunction Pages(props) {\r\n\r\n    const [loadingPages, setLoadingPages] = useState(true);\r\n    const [showFacebook, setShowFacebook] = useState(true);\r\n    const [showInstagram, setShowInstagram] = useState(true);\r\n    const [resetCarousel, setResetCarousel] = useState(0);\r\n\r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: animationData,\r\n        rendererSettings: {\r\n          preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n\r\n    const settings = {\r\n        dots: true,\r\n        infinite: false,\r\n        speed: 700,\r\n        slidesToShow: 4.3,\r\n        slidesToScroll: 4,\r\n        initialSlide: 0,\r\n        slickGoTo: resetCarousel,\r\n        responsive: [\r\n          {\r\n            breakpoint: 1024,\r\n            settings: {\r\n              slidesToShow: 2,\r\n              slidesToScroll: 2,\r\n              infinite: true,\r\n              dots: true\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 600,\r\n            settings: {\r\n              slidesToShow: 1,\r\n              slidesToScroll: 1,\r\n              initialSlide: 1\r\n            }\r\n          },\r\n          {\r\n            breakpoint: 480,\r\n            settings: {\r\n              slidesToShow: 1,\r\n              slidesToScroll: 1\r\n            }\r\n          }\r\n        ]\r\n    };\r\n\r\n    const CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\r\n        <a  className=\"pages-filter-box d-flex py-1 px-1\" ref={ref} onClick={(e) => {e.preventDefault(); onClick(e);}} href=\"\" style={{ textDecoration: 'none'}}>\r\n            {/* <RiListSettingsFill className={\"my-auto mr-2\"} color={\"#B4B4B4\"} size={'20'} />  */}\r\n            <Preferences className={\"my-auto mr-2 ml-2\"} color={\"#B4B4B4\"}  width=\"17\" height=\"17\" />\r\n            <p className={\"my-auto mr-2\"}>Filter by page</p>\r\n            <span className={\"m-auto\"}>\r\n                <IoIosArrowDown className={\"my-auto ml-3\"} color={\"#B4B4B4\"} size={'20'} /> \r\n            </span>\r\n        </a>\r\n    ));\r\n    \r\n    const CustomToggleRole = React.forwardRef(({ children, onClick }, ref) => (\r\n        <a  className=\"pages-filter-box d-flex py-1 px-1\" ref={ref} onClick={(e) => {e.preventDefault(); onClick(e);}} href=\"\" style={{ textDecoration: 'none'}}>\r\n            {/* <RiListSettingsFill className={\"my-auto mr-2\"} color={\"#B4B4B4\"} size={'20'} />  */}\r\n            <Preferences className={\"my-auto mr-2 ml-2\"} color={\"#B4B4B4\"}  width=\"17\" height=\"17\" />\r\n            <p className={\"my-auto mr-2\"}>Filter by role</p>\r\n            <span className={\"m-auto\"}>\r\n                <IoIosArrowDown className={\"my-auto ml-3\"} color={\"#B4B4B4\"} size={'20'} /> \r\n            </span>\r\n        </a>\r\n    ));\r\n\r\n    const CustomMenu = React.forwardRef(\r\n        ({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {\r\n        \r\n          return (\r\n            <div\r\n              ref={ref}\r\n              style={style}\r\n              className={className}\r\n              aria-labelledby={labeledBy}\r\n              style={{ width: '-webkit-fill-available' }}\r\n            >\r\n                <Col lg={12} className=\"d-flex filter-item p-1\" onClick={() => { setShowFacebook(true); setShowInstagram(true); setResetCarousel(0)}}>\r\n                    <p className=\"ml-2 mr-auto my-auto\">All</p>\r\n                </Col>\r\n\r\n                <Col lg={12} className=\"d-flex filter-item p-1\" onClick={() => { setShowFacebook(true); setShowInstagram(false); setResetCarousel(0) }}>\r\n                    <p className=\"ml-2 mr-auto my-auto\">Facebook</p>\r\n                </Col>\r\n\r\n                <Col lg={12} className=\"d-flex filter-item p-1\" onClick={() => {  setShowInstagram(true); setShowFacebook(false); setResetCarousel(0)}}>\r\n                    <p className=\"ml-2 mr-auto my-auto\">Instagram</p>\r\n                </Col>\r\n            </div>\r\n          );\r\n        },\r\n      );\r\n\r\n    useEffect(() => {\r\n        props.getFbData();\r\n        props.getInstaData();\r\n    },[]);\r\n\r\n\r\n    useEffect(() => {\r\n        if(props.fbData) {\r\n            setTimeout(() => {\r\n                setLoadingPages(false);\r\n            },1000);\r\n            // console.log(\"Pages fb data =>\", props.fbData);\r\n        };\r\n        return () => {\r\n            // removing the listener when props.x changes\r\n        }\r\n    },[props.fbData]);\r\n\r\n    useEffect(() => {\r\n        if(props.instaData) {\r\n            setTimeout(() => {\r\n                setLoadingPages(false);\r\n            },1000);\r\n            // console.log(\"Pages insta Data =>\", props.instaData);\r\n\r\n        };\r\n        return () => {\r\n            // removing the listener when props.x changes\r\n        }\r\n    },[props.instaData]);\r\n    \r\n    return (\r\n    <>\r\n        <Row style={{marginTop: '135px' }} >\r\n            <Col lg={6} className=\"d-flex\">\r\n                {\r\n                props.title \r\n                ?\r\n                    <p className=\"mr-auto home-big-title\" style={props.titleStyling ? props.titleStyling : {} }>{props.title}</p>\r\n                :\r\n                    <p className=\"mr-auto home-big-title\">Pages Connected</p>\r\n                }\r\n            </Col>\r\n\r\n            <Col lg={5} className=\"d-flex p-0\">\r\n                <div className=\"mr-2 mt-2\">\r\n                    <Dropdown>\r\n                        <Dropdown.Toggle as={CustomToggle} id=\"dropdown-custom-components\"/>\r\n                            {/* <RiListSettingsFill color={\"#B4B4B4\"} size={'25'} /> Filter By page\r\n                        </Dropdown.Toggle> */}\r\n\r\n                        <Dropdown.Menu as={CustomMenu} />\r\n                        \r\n                    </Dropdown>\r\n                </div>\r\n                <div className=\"mt-2\">\r\n                    <Dropdown>\r\n                        <Dropdown.Toggle as={CustomToggleRole} id=\"dropdown-custom-components\"/>\r\n                            {/* <RiListSettingsFill color={\"#B4B4B4\"} size={'25'} /> Filter By page\r\n                        </Dropdown.Toggle> */}\r\n\r\n                        <Dropdown.Menu as={CustomMenu} />\r\n                        \r\n                    </Dropdown>\r\n                </div>\r\n            </Col>\r\n\r\n            <Col lg={1} />\r\n            \r\n        </Row>\r\n\r\n        <Row>\r\n\r\n            {\r\n            !loadingPages\r\n            ?\r\n                (\r\n                    <>\r\n\r\n                    {props.fbData && props.instaData && props.fbData.length + props.instaData.length > 4\r\n                    ?\r\n                    (\r\n                    <div style={{ width: '95%', height: '400px',marginTop:'13px' }}>\r\n                        <Slider {...settings}>\r\n                            {\r\n                            props.fbData !== null && showFacebook &&\r\n                                props.fbData.map((page,index) => \r\n                                    <div key={index} className=\"p-3 mt-3 mb-5\" onClick={() => props.selectSocialMediaPage(page,\"fb\",page.status)}>\r\n                                        <PageCard \r\n                                            platform={\"fb\"}\r\n                                            isConnectedPage={page.isConnected} \r\n                                            namePage={page.name} \r\n                                            idPage={page.idPage} \r\n                                            picture={null} \r\n                                            accessToken={page.access_token} \r\n                                            status={page.status} \r\n                                            team={page.user} \r\n                                            admins={page.admins} \r\n                                            setLoadingPages={setLoadingPages} \r\n                                            spam={page.spam}\r\n                                            likesComment={page.likesComment}\r\n                                            delay={page.respReplies.statut}\r\n                                        />\r\n                                    </div>\r\n                                )\r\n                            }\r\n                            \r\n                            {\r\n                            props.instaData !== null && showInstagram &&\r\n                                props.instaData.map((page,index) => \r\n                                    <div key={index} className=\"p-3 mt-3 mb-5\" onClick={() => props.selectSocialMediaPage(page,\"insta\",page.status)}>\r\n                                        <PageCard \r\n                                            platform={\"insta\"} \r\n                                            isConnectedPage={page.isConnected}\r\n                                            namePage={page.name} \r\n                                            idPage={page.idPage} \r\n                                            picture={page.imageUrl} \r\n                                            accessToken={page.access_token} \r\n                                            status={page.status} \r\n                                            team={page.user} \r\n                                            admins={page.admins} \r\n                                            setLoadingPages={setLoadingPages}\r\n                                        />\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        </Slider>\r\n                    </div>\r\n                    )\r\n                    :\r\n                    (\r\n                    <Row className=\"d-flex\">\r\n                        {\r\n                        props.fbData !== null &&\r\n                            props.fbData.map((page,index) => \r\n                                <div key={index} className=\"p-3 mt-3 mb-5\" onClick={() => props.selectSocialMediaPage(page,\"fb\",page.status)}>\r\n                                    <PageCard \r\n                                        platform={\"fb\"}\r\n                                        isConnectedPage={page.isConnected} \r\n                                        namePage={page.name} \r\n                                        idPage={page.idPage} \r\n                                        picture={null} \r\n                                        accessToken={page.access_token} \r\n                                        status={page.status} \r\n                                        team={page.user} \r\n                                        admins={page.admins} \r\n                                        setLoadingPages={setLoadingPages} \r\n                                    />\r\n                                </div>\r\n                            )\r\n                        }\r\n                            \r\n                        {\r\n                        props.instaData !== null &&\r\n                            props.instaData.map((page,index) => \r\n                                <div key={index} className=\"p-3 mt-3 mb-5\" onClick={() => props.selectSocialMediaPage(page,\"insta\",page.status)}>\r\n                                    <PageCard \r\n                                        platform={\"insta\"} \r\n                                        isConnectedPage={page.isConnected}\r\n                                        namePage={page.name} \r\n                                        idPage={page.idPage} \r\n                                        picture={page.imageUrl} \r\n                                        accessToken={page.access_token} \r\n                                        status={page.status} \r\n                                        team={page.user} \r\n                                        admins={page.admins} \r\n                                        setLoadingPages={setLoadingPages}\r\n                                    />\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </Row>\r\n                    )\r\n\r\n                    }\r\n                    </>\r\n                )\r\n            :\r\n                (\r\n                <div className=\"d-flex\" style={{ width: '100%' }}>\r\n                    <div className=\"m-auto\">\r\n                        <Lottie options={defaultOptions} width={200} />\r\n                    </div>\r\n                </div>\r\n                )\r\n            }\r\n        </Row>\r\n    </>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        fbData : state.socialMediaR.fbData,\r\n        instaData : state.socialMediaR.instaData,\r\n        socialMediaPageSelected : state.socialMediaR.socialMediaPageSelected,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { selectSocialMediaPage,getFbData, getInstaData })(Pages);\r\n"]},"metadata":{},"sourceType":"module"}