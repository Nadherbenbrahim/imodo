{"ast":null,"code":"import _regeneratorRuntime from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{host}from'../../config';import Swal from'sweetalert2/dist/sweetalert2.js';export var reDisptachPage=function reDisptachPage(Page,history){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(history){history.push('manage-products');dispatch({type:'SELECT_SOCIAL_MEDIA_PAGE',payload:Page});}else{dispatch({type:'SELECT_SOCIAL_MEDIA_PAGE',payload:Page});};case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var removeSynonym=function removeSynonym(synonymValue,product,indexSyn,Page,categorySelected){return function(dispatch){var objectToSend={index:indexSyn,id:product._id,synonym:synonymValue};console.log(\"Let's removeSynonym to the product => \",objectToSend);var detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/removesyn/\":\"/api/v1/secure/pagesInsta/removesyn/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"removeSynonym response api =>\",res.data.data);var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// To update the existing products\nvar findCategorySelected=categories.find(function(cat){return cat._id===categorySelected._id;});if(findCategorySelected){dispatch({type:'SELECT_CATEGORIE',payload:findCategorySelected});};}).catch(function(err){console.log(\"removeSynonym error api =>\",err);});};};export var addSynonym=function addSynonym(synonymValue,categorySelected,product,Page){return function(dispatch){var objectToSend={idEntity:categorySelected._id,idChildren:product._id,synonyms:synonymValue};console.log(\"Let's addSynonym to the product => \",objectToSend);var detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/synonymssupdate/\":\"/api/v1/secure/pagesInsta/synonymssupdate/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"addSynonym response api =>\",res.data.data);if(typeof res.data.data===\"string\"){Swal.fire({position:'center',icon:'error',title:res.data.data,showConfirmButton:false,timer:2000});}else{var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// To update the existing products\nvar findCategorySelected=categories.find(function(cat){return cat._id===categorySelected._id;});if(findCategorySelected){dispatch({type:'SELECT_CATEGORIE',payload:findCategorySelected});};}}).catch(function(err){console.log(\"addSynonym error api =>\",err);});};};export var removeProduct=function removeProduct(categorySelected,product,Page){return function(dispatch){var objectToSend={entity:categorySelected._id,id:product._id,productName:product.content};console.log(\"Let's removeProduct => \",objectToSend);var detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/contentremove/\":\"/api/v1/secure/pagesInsta/contentremove/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"removeProduct response api =>\",res.data.data);var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// To update the existing products\nvar findCategorySelected=categories.find(function(cat){return cat._id===categorySelected._id;});if(findCategorySelected){dispatch({type:'SELECT_CATEGORIE',payload:findCategorySelected});};}).catch(function(err){console.log(\"removeProduct error api =>\",err);});};};export var updateProductName=function updateProductName(newProductName,categorySelected,product,Page){return function(dispatch){var objectToSend={name:newProductName,productName:categorySelected.name,id:categorySelected._id,idChildren:product._id};var detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/contentupdate/\":\"/api/v1/secure/pagesInsta/contentupdate/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);// console.log(\"Let's update the product => \", objectToSend, \"with Page =>\", Page, \"with the full URL\", fullUrl);\nreturn axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"updateProductName response api =>\",res.data.data);if(typeof res.data.data===\"string\"){Swal.fire({position:'center',icon:'error',title:res.data.data,showConfirmButton:false,timer:2000});}else{var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// To update the existing products\nvar findCategorySelected=categories.find(function(cat){return cat._id===categorySelected._id;});if(findCategorySelected){dispatch({type:'SELECT_CATEGORIE',payload:findCategorySelected});};}}).catch(function(err){console.log(\"updateProductName error api =>\",err);});};};export var updateCategoryName=function updateCategoryName(categorySelected,categoryName,Page){return function(dispatch){var objectToSend={id:categorySelected._id,name:categoryName};// console.log(\"Let's update the category\", objectToSend, 'id Page', Page.id);\nvar detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/nameentiteupdate/\":\"/api/v1/secure/pagesInsta/nameentiteupdate/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"updateCategoryName response api =>\",res.data.data);if(typeof res.data.data===\"string\"){Swal.fire({position:'center',icon:'error',title:res.data.data,showConfirmButton:false,timer:2000});}else{var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});}}).catch(function(err){console.log(\"updateCategoryName error api =>\",err);});};};export var addCategory=function addCategory(Page,categoryName,allProducts,history){return function(dispatch){var objectToSend={idPage:Page.id,entity:{name:categoryName,values:allProducts}};// console.log(\"add New category\", objectToSend);\nvar detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/entities/add/\":\"/api/v1/secure/pagesInsta/entities/add/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.post(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"addCategory response api =>\",res.data.data);if(typeof res.data.data===\"string\"){Swal.fire({position:'center',icon:'error',title:res.data.data,showConfirmButton:false,timer:2000});}else{var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});history.push('manage-products');dispatch({type:'SELECT_SOCIAL_MEDIA_PAGE',payload:Page});}}).catch(function(err){console.log(\"addCategory error api =>\",err);});};};export var addProductInCategory=function addProductInCategory(category,Page,newProductName){return function(dispatch){var objectToSend={id:category._id,entity:{// Nadher changes this to empty array\n// synonyms: [newProductName],\nsynonyms:[],content:newProductName}};// console.log(\"add New Product in category\", objectToSend);\nvar detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/valuesadd/\":\"/api/v1/secure/pagesInsta/valuesadd/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"addProductInCategory response api =>\",res.data.data);if(typeof res.data.data===\"string\"){Swal.fire({position:'center',icon:'error',title:res.data.data,showConfirmButton:false,timer:2000});}else{var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// To update the existing products\nvar findCategorySelected=categories.find(function(cat){return cat._id===category._id;});if(findCategorySelected){dispatch({type:'SELECT_CATEGORIE',payload:findCategorySelected});};}}).catch(function(err){console.log(\"addProductInCategory error api =>\",err);});};};export var deleteCategory=function deleteCategory(category,Page){return function(dispatch){// console.log(\"Rak bech tfasakh l category hedhu =>\", category);\n// console.log(\"Rak bech tfasakh l category men page hedhi =>\", Page);\nvar objectToSend={id:category._id};var detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/entiteremove/\":\"/api/v1/secure/pagesInsta/entiteremove/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"deleteCategory response api =>\",res.data.data);var categories=res.data.data;if(typeof categories===\"string\"){Swal.fire({position:'center',icon:'error',title:res.data.data,showConfirmButton:false,timer:2000});}else{if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});};}).catch(function(err){console.log(\"deleteCategory error api =>\",err);});};};export var selectProduct=function selectProduct(product){return function(dispatch){console.log(\"Redux selected Product =>\",product);dispatch({type:'SELECT_PRODUCT',payload:product});};};export var selectCategory=function selectCategory(category,history){return function(dispatch){// console.log(\"Redux selected Category! =>\", category);\ndispatch({type:'SELECT_CATEGORIE',payload:category});history.push('update-products');};};export var getCategories=function getCategories(page){return function(dispatch){return axios.get(host+\"/api/v1/secure/project/get/entitiesproject/\".concat(page.platform,\"/\").concat(page.id),{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){// console.log(\"all Categories of this page => =>\", res.data.data);\nvar categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});}).catch(function(err){return console.log(\"err getCategories\",err);});};};","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/redux/actions/myProductsActions.js"],"names":["axios","host","Swal","reDisptachPage","Page","history","dispatch","push","type","payload","removeSynonym","synonymValue","product","indexSyn","categorySelected","objectToSend","index","id","_id","synonym","console","log","detectHost","platform","fullUrl","put","headers","localStorage","getItem","then","res","data","categories","length","map","cat","default","splice","findCategorySelected","find","catch","err","addSynonym","idEntity","idChildren","synonyms","fire","position","icon","title","showConfirmButton","timer","removeProduct","entity","productName","content","updateProductName","newProductName","name","updateCategoryName","categoryName","addCategory","allProducts","idPage","values","post","addProductInCategory","category","deleteCategory","selectProduct","selectCategory","getCategories","page","get"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { host } from '../../config';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js'\r\n\r\n\r\n\r\nexport const reDisptachPage = (Page, history) => {\r\n    return async (dispatch) => {\r\n\r\n        if(history) {\r\n            history.push('manage-products');\r\n            dispatch({\r\n                type: 'SELECT_SOCIAL_MEDIA_PAGE',\r\n                payload: Page,\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: 'SELECT_SOCIAL_MEDIA_PAGE',\r\n                payload: Page,\r\n            });\r\n        };\r\n\r\n    };\r\n};\r\n\r\nexport const removeSynonym = (synonymValue, product, indexSyn, Page, categorySelected) => {\r\n    return (dispatch) => {\r\n       \r\n        let objectToSend = {\r\n            index : indexSyn,\r\n            id : product._id,\r\n            synonym: synonymValue,\r\n        }\r\n        console.log(\"Let's removeSynonym to the product => \", objectToSend);\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/removesyn/\" : \"/api/v1/secure/pagesInsta/removesyn/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"removeSynonym response api =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n\r\n            // To update the existing products\r\n            let findCategorySelected = categories.find((cat) => {\r\n                return cat._id === categorySelected._id\r\n            })\r\n\r\n            if(findCategorySelected) {\r\n                dispatch({\r\n                    type: 'SELECT_CATEGORIE',\r\n                    payload: findCategorySelected\r\n                });\r\n            };\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"removeSynonym error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const addSynonym = (synonymValue, categorySelected, product, Page) => {\r\n    return (dispatch) => {\r\n        \r\n        let objectToSend = {\r\n            idEntity : categorySelected._id,\r\n            idChildren : product._id,\r\n            synonyms: synonymValue,\r\n        }\r\n        console.log(\"Let's addSynonym to the product => \", objectToSend);\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/synonymssupdate/\" : \"/api/v1/secure/pagesInsta/synonymssupdate/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"addSynonym response api =>\", res.data.data);\r\n\r\n            if(typeof(res.data.data) === \"string\") {\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'error',\r\n                    title: res.data.data,\r\n                    showConfirmButton: false,\r\n                    timer: 2000\r\n                });\r\n            } else {\r\n                let categories = res.data.data;\r\n    \r\n                if(categories.length > 0) {\r\n                    categories.map((cat,index) =>\r\n                        cat.default === true && categories.splice(index,1)\r\n                    );\r\n                };\r\n    \r\n                dispatch({\r\n                    type: 'GET_CATEGORIES',\r\n                    payload: categories\r\n                });\r\n    \r\n                // To update the existing products\r\n                let findCategorySelected = categories.find((cat) => {\r\n                    return cat._id === categorySelected._id\r\n                })\r\n    \r\n                if(findCategorySelected) {\r\n                    dispatch({\r\n                        type: 'SELECT_CATEGORIE',\r\n                        payload: findCategorySelected\r\n                    });\r\n                };\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"addSynonym error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const removeProduct = (categorySelected, product, Page) => {\r\n    return (dispatch) => {\r\n        \r\n        let objectToSend = {\r\n            entity : categorySelected._id,\r\n            id: product._id,\r\n            productName: product.content\r\n        }\r\n        console.log(\"Let's removeProduct => \", objectToSend);\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/contentremove/\" : \"/api/v1/secure/pagesInsta/contentremove/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"removeProduct response api =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n\r\n            // To update the existing products\r\n            let findCategorySelected = categories.find((cat) => {\r\n                return cat._id === categorySelected._id\r\n            })\r\n\r\n            if(findCategorySelected) {\r\n                dispatch({\r\n                    type: 'SELECT_CATEGORIE',\r\n                    payload: findCategorySelected\r\n                });\r\n            };\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"removeProduct error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const updateProductName = (newProductName, categorySelected, product, Page) => {\r\n    return (dispatch) => {\r\n        \r\n        let objectToSend = {\r\n            name : newProductName,\r\n            productName: categorySelected.name,\r\n            id : categorySelected._id,\r\n            idChildren : product._id,\r\n        }\r\n        \r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/contentupdate/\" : \"/api/v1/secure/pagesInsta/contentupdate/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n        \r\n        // console.log(\"Let's update the product => \", objectToSend, \"with Page =>\", Page, \"with the full URL\", fullUrl);\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"updateProductName response api =>\", res.data.data);\r\n\r\n            if(typeof(res.data.data) === \"string\") {\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'error',\r\n                    title: res.data.data,\r\n                    showConfirmButton: false,\r\n                    timer: 2000\r\n                });\r\n            } else {\r\n                let categories = res.data.data;\r\n    \r\n                if(categories.length > 0) {\r\n                    categories.map((cat,index) =>\r\n                        cat.default === true && categories.splice(index,1)\r\n                    );\r\n                };\r\n    \r\n                dispatch({\r\n                    type: 'GET_CATEGORIES',\r\n                    payload: categories\r\n                });\r\n    \r\n                // To update the existing products\r\n                let findCategorySelected = categories.find((cat) => {\r\n                    return cat._id === categorySelected._id\r\n                })\r\n    \r\n                if(findCategorySelected) {\r\n                    dispatch({\r\n                        type: 'SELECT_CATEGORIE',\r\n                        payload: findCategorySelected\r\n                    });\r\n                };                \r\n            } \r\n\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"updateProductName error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const updateCategoryName = (categorySelected,categoryName,Page) => {\r\n    return (dispatch) => {\r\n        \r\n        let objectToSend = {\r\n            id : categorySelected._id,\r\n            name: categoryName,\r\n        };\r\n        // console.log(\"Let's update the category\", objectToSend, 'id Page', Page.id);\r\n        \r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/nameentiteupdate/\" : \"/api/v1/secure/pagesInsta/nameentiteupdate/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n        \r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"updateCategoryName response api =>\", res.data.data);\r\n\r\n            if(typeof(res.data.data) === \"string\") {\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'error',\r\n                    title: res.data.data,\r\n                    showConfirmButton: false,\r\n                    timer: 2000\r\n                });\r\n            } else {\r\n                let categories = res.data.data;\r\n    \r\n                if(categories.length > 0) {\r\n                    categories.map((cat,index) =>\r\n                        cat.default === true && categories.splice(index,1)\r\n                    );\r\n                };\r\n    \r\n                dispatch({\r\n                    type: 'GET_CATEGORIES',\r\n                    payload: categories\r\n                });\r\n            }\r\n\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"updateCategoryName error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const addCategory = (Page, categoryName, allProducts,history) => {\r\n    return (dispatch) => {\r\n\r\n        let objectToSend = {\r\n            idPage: Page.id,\r\n            entity: {\r\n                name: categoryName,\r\n                values: allProducts,\r\n            }\r\n        };\r\n        // console.log(\"add New category\", objectToSend);\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/entities/add/\" : \"/api/v1/secure/pagesInsta/entities/add/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.post(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"addCategory response api =>\", res.data.data);\r\n\r\n            if(typeof(res.data.data) === \"string\") {\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'error',\r\n                    title: res.data.data,\r\n                    showConfirmButton: false,\r\n                    timer: 2000\r\n                });\r\n            } else {\r\n                let categories = res.data.data;\r\n    \r\n                if(categories.length > 0) {\r\n                    categories.map((cat,index) =>\r\n                        cat.default === true && categories.splice(index,1)\r\n                    );\r\n                };\r\n    \r\n                dispatch({\r\n                    type: 'GET_CATEGORIES',\r\n                    payload: categories\r\n                });\r\n    \r\n                history.push('manage-products');\r\n    \r\n                dispatch({\r\n                    type: 'SELECT_SOCIAL_MEDIA_PAGE',\r\n                    payload: Page,\r\n                });\r\n            }\r\n\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"addCategory error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const addProductInCategory = (category,Page,newProductName) => {\r\n    return (dispatch) => {\r\n     \r\n        let objectToSend = {\r\n            id: category._id,\r\n            entity: {\r\n                // Nadher changes this to empty array\r\n                // synonyms: [newProductName],\r\n                synonyms: [],\r\n                content: newProductName,\r\n            },\r\n        };\r\n        // console.log(\"add New Product in category\", objectToSend);\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/valuesadd/\" : \"/api/v1/secure/pagesInsta/valuesadd/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"addProductInCategory response api =>\", res.data.data);\r\n\r\n            if(typeof(res.data.data) === \"string\") {\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'error',\r\n                    title: res.data.data,\r\n                    showConfirmButton: false,\r\n                    timer: 2000\r\n                });\r\n            } else {\r\n                let categories = res.data.data;\r\n    \r\n                if(categories.length > 0) {\r\n                    categories.map((cat,index) =>\r\n                        cat.default === true && categories.splice(index,1)\r\n                    );\r\n                };\r\n    \r\n                dispatch({\r\n                    type: 'GET_CATEGORIES',\r\n                    payload: categories\r\n                });\r\n    \r\n                // To update the existing products\r\n                let findCategorySelected = categories.find((cat) => {\r\n                    return cat._id === category._id\r\n                })\r\n    \r\n                if(findCategorySelected) {\r\n                    dispatch({\r\n                        type: 'SELECT_CATEGORIE',\r\n                        payload: findCategorySelected\r\n                    });\r\n                };\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"addProductInCategory error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const deleteCategory = (category,Page) => {\r\n    return (dispatch) => {\r\n        // console.log(\"Rak bech tfasakh l category hedhu =>\", category);\r\n        // console.log(\"Rak bech tfasakh l category men page hedhi =>\", Page);\r\n        \r\n        let objectToSend = {\r\n            id: category._id\r\n        };\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/entiteremove/\" : \"/api/v1/secure/pagesInsta/entiteremove/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"deleteCategory response api =>\", res.data.data);\r\n\r\n            \r\n            let categories = res.data.data;\r\n\r\n            if(typeof(categories) === \"string\") {\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'error',\r\n                    title: res.data.data,\r\n                    showConfirmButton: false,\r\n                    timer: 2000\r\n                });\r\n            } else {\r\n                if(categories.length > 0) {\r\n                    categories.map((cat,index) =>\r\n                        cat.default === true && categories.splice(index,1)\r\n                    );\r\n                };\r\n\r\n                dispatch({\r\n                    type: 'GET_CATEGORIES',\r\n                    payload: categories\r\n                });\r\n            };\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"deleteCategory error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const selectProduct = (product) => {\r\n    return (dispatch) => {\r\n        console.log(\"Redux selected Product =>\", product);\r\n        \r\n        dispatch({\r\n            type: 'SELECT_PRODUCT',\r\n            payload: product,\r\n        });\r\n    };\r\n};\r\n\r\nexport const selectCategory = (category,history) => {\r\n    return (dispatch) => {\r\n        // console.log(\"Redux selected Category! =>\", category);\r\n        \r\n        dispatch({\r\n            type: 'SELECT_CATEGORIE',\r\n            payload: category\r\n        });\r\n        history.push('update-products');\r\n    };\r\n};\r\n\r\nexport const getCategories = (page) => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + `/api/v1/secure/project/get/entitiesproject/${page.platform}/${page.id}`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log(\"all Categories of this page => =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n        })\r\n        .catch((err) => console.log(\"err getCategories\", err))\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}