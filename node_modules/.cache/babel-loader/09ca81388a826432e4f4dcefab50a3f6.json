{"ast":null,"code":"var _jsxFileName = \"/usr/work/smart_front_oussema/src/dachboard/Home.js\";\nimport React, { useState } from 'react';\nimport TopMenu from '../components/TopMenu';\nimport { connect } from 'react-redux';\nimport { getAllPagesAction, getAllEntity, getConnectedPagesProject, getConnectedPagesPosts, pageIntents, getAllInstaPagesAction } from '../actions';\nimport PageCart from '../components/PageCart';\nimport { PieChart } from 'react-minimal-pie-chart';\nimport { useEffect } from 'react';\nimport Stats from '../components/Stats';\nimport axios from 'axios'; // import { store } from '../index'\n\nconst bg = {\n  0: '#009EE3',\n  1: '#01096F',\n  2: '#E5007D',\n  3: '#E60A17',\n  4: '#139216'\n};\n\nfunction Home(props) {\n  const [clickedPage, setclickedPage] = useState(null);\n  const [date, setdate] = useState([]);\n  const [dateProject, setdateProject] = useState([]);\n  useEffect(() => {\n    props.getInstaPages().then(res => {\n      console.log('Instagram pages ya haider =>', res); // dispatch({\n      //     type: 'GETALLPAGES',\n      //     pages: res\n      // })\n      // dispatch(hideLoading())\n    }).catch(err => {\n      console.log(\"Api instagram error\", err); // dispatch(hideLoading())\n    });\n    props.getpages().then(() => props.getPagePostProject()).then(() => props.getAllEntity(props.fb));\n  }, []);\n  useEffect(() => {\n    // console.log(clickedPage, props.allposts)\n    props.getConnectedPagesPosts(clickedPage); // .then(() => { dateFilter(\"last Week\"); dateFilterProject(\"3 post\") })\n  }, [clickedPage]);\n\n  const dateFilter = val => {\n    const dt = new Date();\n\n    if (val == \"last 30 Days\") {\n      dt.setMonth(dt.getMonth() - 1);\n      const newdat = props.intentPage.filter(el => new Date(el.date[0]) >= dt);\n      setdate(newdat);\n    } else if (val == \"last Week\") {\n      dt.setDate(dt.getDay() - 7);\n      const newdat = props.intentPage.filter(el => new Date(el.date[0]) >= dt);\n      setdate(newdat);\n    } else {\n      setdate(props.intentPage);\n    }\n  };\n\n  const dateFilterProject = val => {\n    const dt = new Date();\n\n    if (val == \"last 30 Days\") {\n      dt.setMonth(dt.getMonth() - 1);\n      const newdat = props.allprojects.filter(el => new Date(el.createDate) >= dt);\n      setdateProject(newdat);\n    } else {\n      setdateProject(props.allprojects.filter(el => clickedPage == el.post.page.idPage && el.live).slice(0, 3));\n    }\n  };\n\n  const handelclick = idpage => {\n    props.pageIntents(idpage).then(() => {\n      setclickedPage(idpage);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(TopMenu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      paddingLeft: 30,\n      paddingRight: 30,\n      paddingTop: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    style: {\n      fontSize: 30,\n      color: \"rgba(45, 47, 57, 1)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"All Pages\"), React.createElement(\"div\", {\n    className: \"pagecarts\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, props.allpages.length > 0 ? [...props.allpages].sort((a, b) => {\n    var x = a.name.toLowerCase();\n    var y = b.name.toLowerCase();\n\n    if (x < y) {\n      return -1;\n    }\n\n    if (x > y) {\n      return 1;\n    }\n\n    return 0;\n  }).map(el => React.createElement(PageCart, {\n    handelclick: handelclick,\n    show: true,\n    key: el._id,\n    name: el.name,\n    connected: el.isConnected,\n    page: el,\n    clickedPage: clickedPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })) : React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"loading\")), clickedPage && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    style: {\n      fontSize: 30,\n      color: \"rgba(45, 47, 57, 1)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Most requested intents\"), React.createElement(\"select\", {\n    style: {\n      background: \"transparent\",\n      border: \"none\",\n      outline: \"none\",\n      color: \"gray\",\n      cursor: \"pointer\"\n    },\n    onChange: e => dateFilter(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"last Week\",\n    selected: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, \"last Week\"), React.createElement(\"option\", {\n    value: \"last 30 Days\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"last 30 Days\"))), React.createElement(\"div\", {\n    style: {\n      background: \"#fff\",\n      padding: 20,\n      display: \"flex\",\n      justifyContent: \"space-between\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      flex: 2\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Intents\"), React.createElement(\"th\", {\n    style: {\n      textAlign: 'right'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"Total\")), date.map((el, i) => i < 5 && React.createElement(\"tr\", {\n    key: i,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      padding: \"10px 20px\",\n      background: bg[i],\n      borderRadius: 20,\n      color: \"#fff\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, el.name)), React.createElement(\"td\", {\n    style: {\n      textAlign: 'right'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, el.occ)))))), date.filter(el => el.occ !== 0).length > 0 ? React.createElement(\"div\", {\n    style: {\n      flex: 1,\n      padding: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, React.createElement(PieChart, {\n    data: date.map((el, i) => i < 5 && {\n      title: el.name,\n      value: el.occ,\n      color: bg[i]\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  })) : React.createElement(\"div\", {\n    style: {\n      flex: 1,\n      padding: 30\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(PieChart, {\n    data: [{\n      title: \"No data\",\n      value: 1,\n      color: '#BABABA'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    style: {\n      fontSize: 30,\n      color: \"rgba(45, 47, 57, 1)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"Modo Post\"), React.createElement(\"select\", {\n    style: {\n      background: \"transparent\",\n      border: \"none\",\n      outline: \"none\",\n      color: \"gray\",\n      cursor: \"pointer\"\n    },\n    onChange: e => dateFilterProject(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"last 3\",\n    selected: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"last 3 posts\"), React.createElement(\"option\", {\n    value: \"last 30 Days\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"last 30 Days\"))), React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, dateProject.map((el, i) => clickedPage == el.post.page.idPage && el.live && React.createElement(\"div\", {\n    key: el._id,\n    style: {\n      flex: \"25%\",\n      background: \"#fff\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      flexDirection: \"column\",\n      boxShadow: \"0 0 10px lightgray\",\n      margin: \"20px 30px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, el.post.full_picture ? React.createElement(\"img\", {\n    src: el.post.full_picture,\n    alt: \"\",\n    style: {\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }) : React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      width: \"100%\",\n      height: \"100%\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      paddingTop: 15\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"95.75\",\n    height: \"63.963\",\n    viewBox: \"0 0 95.75 63.963\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"g\", {\n    id: \"logo\",\n    transform: \"translate(-158.177 -138.584)\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(\"g\", {\n    id: \"Groupe_1\",\n    \"data-name\": \"Groupe 1\",\n    transform: \"translate(186.894 138.584)\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(\"path\", {\n    id: \"Trac\\xE9_1\",\n    \"data-name\": \"Trac\\xE9 1\",\n    d: \"M326.293,166.291a8.852,8.852,0,0,0-8.842,8.842V185.4H320.5V175.133a5.793,5.793,0,1,1,11.586,0V185.4h3.049V175.133A8.852,8.852,0,0,0,326.293,166.291Z\",\n    transform: \"translate(-307.406 -159.548)\",\n    fill: \"#d8006b\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }), React.createElement(\"path\", {\n    id: \"Trac\\xE9_2\",\n    \"data-name\": \"Trac\\xE9 2\",\n    d: \"M295.335,138.584a19.159,19.159,0,0,0-19.159,19.159v12.772h3.016l5.979,7.03v-7.03h16.55a12.772,12.772,0,0,0,12.772-12.772A19.159,19.159,0,0,0,295.335,138.584Zm6.386,28.821H279.286v-9.662a16.048,16.048,0,0,1,32.1,0A9.673,9.673,0,0,1,301.721,167.4Z\",\n    transform: \"translate(-276.176 -138.584)\",\n    fill: \"#d8006b\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  })), React.createElement(\"g\", {\n    id: \"Groupe_2\",\n    \"data-name\": \"Groupe 2\",\n    transform: \"translate(158.177 172.445)\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(\"path\", {\n    id: \"Trac\\xE9_3\",\n    \"data-name\": \"Trac\\xE9 3\",\n    d: \"M175.564,338.869h-2.83V327.952a5.863,5.863,0,0,0-11.726,0v10.917h-2.83V327.952a8.693,8.693,0,1,1,17.387,0Z\",\n    transform: \"translate(-158.177 -309.15)\",\n    fill: \"#d8006b\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }), React.createElement(\"path\", {\n    id: \"Trac\\xE9_4\",\n    \"data-name\": \"Trac\\xE9 4\",\n    d: \"M235.375,338.869h-2.831V327.952a5.863,5.863,0,1,0-11.725,0v10.917h-2.83V327.952a8.693,8.693,0,1,1,17.386,0Z\",\n    transform: \"translate(-203.433 -309.15)\",\n    fill: \"#d8006b\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), React.createElement(\"rect\", {\n    id: \"Rectangle_2\",\n    \"data-name\": \"Rectangle 2\",\n    width: \"2.831\",\n    height: \"29.719\",\n    transform: \"translate(71.64)\",\n    fill: \"#d8006b\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }), React.createElement(\"path\", {\n    id: \"Trac\\xE9_5\",\n    \"data-name\": \"Trac\\xE9 5\",\n    d: \"M393.506,319.286a9.8,9.8,0,0,0-9.791,9.791v.4a9.792,9.792,0,1,0,19.583,0v-.4A9.8,9.8,0,0,0,393.506,319.286Zm6.93,10.195a6.93,6.93,0,1,1-13.86,0v-.4a6.93,6.93,0,0,1,13.86,0Z\",\n    transform: \"translate(-328.828 -309.171)\",\n    fill: \"#d8006b\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }), React.createElement(\"path\", {\n    id: \"Trac\\xE9_6\",\n    \"data-name\": \"Trac\\xE9 6\",\n    d: \"M306.067,319.286a9.8,9.8,0,0,0-9.792,9.791v.4a9.792,9.792,0,1,0,19.583,0v-.4A9.8,9.8,0,0,0,306.067,319.286ZM313,329.481a6.93,6.93,0,1,1-13.859,0v-.4a6.93,6.93,0,0,1,13.859,0Z\",\n    transform: \"translate(-262.667 -309.171)\",\n    fill: \"#d8006b\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }), React.createElement(\"path\", {\n    id: \"Trac\\xE9_7\",\n    \"data-name\": \"Trac\\xE9 7\",\n    d: \"M480.946,319.286a9.8,9.8,0,0,0-9.792,9.791v.4a9.792,9.792,0,1,0,19.583,0v-.4A9.8,9.8,0,0,0,480.946,319.286Zm6.929,10.195a6.93,6.93,0,1,1-13.86,0v-.4a6.93,6.93,0,0,1,13.86,0Z\",\n    transform: \"translate(-394.987 -309.171)\",\n    fill: \"#d8006b\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }))))), React.createElement(Stats, {\n    postId: el,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  })))))));\n}\n\nconst mapStateToProps = state => ({\n  fb: state.fbdata.tokenDetail.userID,\n  allpages: state.allpages,\n  allposts: state.allPosts,\n  allprojects: state.allProjects,\n  intentPage: state.intentPage,\n  comments: state.comments\n});\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getPagePostProject: () => dispatch(getConnectedPagesProject()),\n    getpages: () => dispatch(getAllPagesAction()),\n    getInstaPages: () => dispatch(getAllInstaPagesAction()),\n    getAllEntity: id => dispatch(getAllEntity(id)),\n    getConnectedPagesPosts: id => dispatch(getConnectedPagesPosts(id)),\n    pageIntents: id => dispatch(pageIntents(id))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/dachboard/Home.js"],"names":["React","useState","TopMenu","connect","getAllPagesAction","getAllEntity","getConnectedPagesProject","getConnectedPagesPosts","pageIntents","getAllInstaPagesAction","PageCart","PieChart","useEffect","Stats","axios","bg","Home","props","clickedPage","setclickedPage","date","setdate","dateProject","setdateProject","getInstaPages","then","res","console","log","catch","err","getpages","getPagePostProject","fb","dateFilter","val","dt","Date","setMonth","getMonth","newdat","intentPage","filter","el","setDate","getDay","dateFilterProject","allprojects","createDate","post","page","idPage","live","slice","handelclick","idpage","paddingLeft","paddingRight","paddingTop","fontSize","color","allpages","length","sort","a","b","x","name","toLowerCase","y","map","_id","isConnected","display","justifyContent","alignItems","background","border","outline","cursor","e","target","value","padding","flex","textAlign","i","borderRadius","occ","title","flexWrap","flexDirection","boxShadow","margin","full_picture","width","height","mapStateToProps","state","fbdata","tokenDetail","userID","allposts","allPosts","allProjects","comments","mapDispatchToProps","dispatch","id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport TopMenu from '../components/TopMenu'\r\nimport { connect } from 'react-redux'\r\nimport { getAllPagesAction, getAllEntity, getConnectedPagesProject, getConnectedPagesPosts, pageIntents, getAllInstaPagesAction} from '../actions'\r\nimport PageCart from '../components/PageCart'\r\nimport { PieChart } from 'react-minimal-pie-chart';\r\nimport { useEffect } from 'react'\r\nimport Stats from '../components/Stats';\r\n\r\nimport axios from 'axios';\r\n\r\n// import { store } from '../index'\r\nconst bg = {\r\n    0: '#009EE3',\r\n    1: '#01096F',\r\n    2: '#E5007D',\r\n    3: '#E60A17',\r\n    4: '#139216'\r\n}\r\nfunction Home(props) {\r\n\r\n    const [clickedPage, setclickedPage] = useState(null)\r\n    const [date, setdate] = useState([])\r\n    const [dateProject, setdateProject] = useState([])\r\n\r\n    useEffect(() => {\r\n        props.getInstaPages()\r\n        .then(res => {\r\n            console.log('Instagram pages ya haider =>', res)\r\n            // dispatch({\r\n            //     type: 'GETALLPAGES',\r\n            //     pages: res\r\n            // })\r\n            // dispatch(hideLoading())\r\n\r\n        }).catch((err) => {\r\n            console.log(\"Api instagram error\", err)\r\n            // dispatch(hideLoading())\r\n        })\r\n\r\n        props.getpages()\r\n            .then(() => props.getPagePostProject())\r\n            .then(() => props.getAllEntity(props.fb))\r\n\r\n    }, [])\r\n    \r\n    useEffect(() => {\r\n        // console.log(clickedPage, props.allposts)\r\n        props.getConnectedPagesPosts(clickedPage)\r\n            // .then(() => { dateFilter(\"last Week\"); dateFilterProject(\"3 post\") })\r\n    }, [clickedPage])\r\n\r\n    const dateFilter = (val) => {\r\n        const dt = new Date();\r\n\r\n        if (val == \"last 30 Days\") {\r\n            dt.setMonth(dt.getMonth() - 1);\r\n            const newdat = props.intentPage.filter(el => new Date(el.date[0]) >= dt)\r\n            setdate(newdat)\r\n        } else if (val == \"last Week\") {\r\n            dt.setDate(dt.getDay() - 7);\r\n            const newdat = props.intentPage.filter(el => new Date(el.date[0]) >= dt)\r\n            setdate(newdat)\r\n        } else {\r\n            setdate(props.intentPage)\r\n        }\r\n    }\r\n\r\n    const dateFilterProject = (val) => {\r\n        const dt = new Date();\r\n\r\n        if (val == \"last 30 Days\") {\r\n            dt.setMonth(dt.getMonth() - 1);\r\n            const newdat = props.allprojects.filter(el => new Date(el.createDate) >= dt)\r\n            setdateProject(newdat)\r\n        } else {\r\n            setdateProject(props.allprojects.filter(el => clickedPage == el.post.page.idPage && el.live).slice(0, 3))\r\n        }\r\n    }\r\n\r\n    const handelclick = (idpage) => {\r\n        props.pageIntents(idpage)\r\n            .then(() => {\r\n                setclickedPage(idpage)\r\n            })\r\n    }\r\n\r\n\r\n    return (<>\r\n        <TopMenu />\r\n\r\n        <div style={{ paddingLeft: 30, paddingRight: 30, paddingTop: 30 }}>\r\n            <h2 style={{ fontSize: 30, color: \"rgba(45, 47, 57, 1)\" }}>All Pages</h2>\r\n            <div className=\"pagecarts\">\r\n                {props.allpages.length > 0 ?\r\n                    [...props.allpages].sort((a, b) => {\r\n                        var x = a.name.toLowerCase();\r\n                        var y = b.name.toLowerCase();\r\n                        if (x < y) { return -1; }\r\n                        if (x > y) { return 1; }\r\n                        return 0;\r\n                    }).map(el => <PageCart handelclick={handelclick} show={true} key={el._id} name={el.name} connected={el.isConnected} page={el} clickedPage={clickedPage} />) :\r\n                    <h1>loading</h1>\r\n                }\r\n            </div>\r\n            {clickedPage &&\r\n                <div>\r\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                        <h2 style={{ fontSize: 30, color: \"rgba(45, 47, 57, 1)\" }}>Most requested intents</h2>\r\n                        <select style={{\r\n                            background: \"transparent\",\r\n                            border: \"none\",\r\n                            outline: \"none\",\r\n                            color: \"gray\",\r\n                            cursor: \"pointer\"\r\n                        }} onChange={(e) => dateFilter(e.target.value)}>\r\n                            <option value=\"last Week\" selected>last Week</option>\r\n                            <option value=\"last 30 Days\">last 30 Days</option>\r\n                        </select>\r\n                    </div>\r\n                    <div style={{ background: \"#fff\", padding: 20, display: \"flex\", justifyContent: \"space-between\", }}>\r\n                        <div style={{ flex: 2 }}>\r\n                            <table>\r\n                                <tr>\r\n                                    <th>Intents</th>\r\n                                    <th style={{ textAlign: 'right' }}>Total</th>\r\n                                </tr>\r\n                                {\r\n                                    date.map((el, i) => i < 5 && <tr key={i}>\r\n                                        <td><span style={{ padding: \"10px 20px\", background: bg[i], borderRadius: 20, color: \"#fff\" }}>{el.name}</span></td>\r\n                                        <td style={{ textAlign: 'right' }}><span>{el.occ}</span></td>\r\n                                    </tr>)\r\n                                }\r\n\r\n                            </table>\r\n                        </div>\r\n                        {\r\n                            date.filter(el => el.occ !== 0).length > 0 ?\r\n                                <div style={{ flex: 1, padding: 30 }}>\r\n                                    <PieChart\r\n                                        data={date.map((el, i) => i < 5 && ({ title: el.name, value: el.occ, color: bg[i] }))}\r\n                                    />\r\n                                </div> :\r\n                                <div style={{ flex: 1, padding: 30 }}>\r\n                                    <PieChart\r\n                                        data={[\r\n                                            { title: \"No data\", value: 1, color: '#BABABA' },\r\n                                        ]}\r\n                                    />\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                    <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                        <h2 style={{ fontSize: 30, color: \"rgba(45, 47, 57, 1)\" }}>Modo Post</h2>\r\n                        <select style={{\r\n                            background: \"transparent\",\r\n                            border: \"none\",\r\n                            outline: \"none\",\r\n                            color: \"gray\",\r\n                            cursor: \"pointer\"\r\n                        }} onChange={(e) => dateFilterProject(e.target.value)}>\r\n                            <option value=\"last 3\" selected>last 3 posts</option>\r\n                            <option value=\"last 30 Days\">last 30 Days</option>\r\n                        </select>\r\n                    </div>\r\n                    <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n                        {\r\n                            dateProject.map((el, i) => clickedPage == el.post.page.idPage && el.live &&\r\n                                <div key={el._id} style={{ flex: \"25%\", background: \"#fff\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", flexDirection: \"column\", boxShadow: \"0 0 10px lightgray\", margin: \"20px 30px\" }}>\r\n                                    {el.post.full_picture ? <img src={el.post.full_picture} alt=\"\" style={{ width: \"100%\" }} /> : <div style={{\r\n                                        display: \"flex\",\r\n                                        width: \"100%\",\r\n                                        height: \"100%\",\r\n                                        justifyContent: \"center\",\r\n                                        alignItems: \"center\",\r\n                                        paddingTop: 15\r\n                                    }}><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"95.75\" height=\"63.963\" viewBox=\"0 0 95.75 63.963\">\r\n                                            <g id=\"logo\" transform=\"translate(-158.177 -138.584)\">\r\n                                                <g id=\"Groupe_1\" data-name=\"Groupe 1\" transform=\"translate(186.894 138.584)\">\r\n                                                    <path id=\"Tracé_1\" data-name=\"Tracé 1\" d=\"M326.293,166.291a8.852,8.852,0,0,0-8.842,8.842V185.4H320.5V175.133a5.793,5.793,0,1,1,11.586,0V185.4h3.049V175.133A8.852,8.852,0,0,0,326.293,166.291Z\" transform=\"translate(-307.406 -159.548)\" fill=\"#d8006b\" />\r\n                                                    <path id=\"Tracé_2\" data-name=\"Tracé 2\" d=\"M295.335,138.584a19.159,19.159,0,0,0-19.159,19.159v12.772h3.016l5.979,7.03v-7.03h16.55a12.772,12.772,0,0,0,12.772-12.772A19.159,19.159,0,0,0,295.335,138.584Zm6.386,28.821H279.286v-9.662a16.048,16.048,0,0,1,32.1,0A9.673,9.673,0,0,1,301.721,167.4Z\" transform=\"translate(-276.176 -138.584)\" fill=\"#d8006b\" />\r\n                                                </g>\r\n                                                <g id=\"Groupe_2\" data-name=\"Groupe 2\" transform=\"translate(158.177 172.445)\">\r\n                                                    <path id=\"Tracé_3\" data-name=\"Tracé 3\" d=\"M175.564,338.869h-2.83V327.952a5.863,5.863,0,0,0-11.726,0v10.917h-2.83V327.952a8.693,8.693,0,1,1,17.387,0Z\" transform=\"translate(-158.177 -309.15)\" fill=\"#d8006b\" />\r\n                                                    <path id=\"Tracé_4\" data-name=\"Tracé 4\" d=\"M235.375,338.869h-2.831V327.952a5.863,5.863,0,1,0-11.725,0v10.917h-2.83V327.952a8.693,8.693,0,1,1,17.386,0Z\" transform=\"translate(-203.433 -309.15)\" fill=\"#d8006b\" />\r\n                                                    <rect id=\"Rectangle_2\" data-name=\"Rectangle 2\" width=\"2.831\" height=\"29.719\" transform=\"translate(71.64)\" fill=\"#d8006b\" />\r\n                                                    <path id=\"Tracé_5\" data-name=\"Tracé 5\" d=\"M393.506,319.286a9.8,9.8,0,0,0-9.791,9.791v.4a9.792,9.792,0,1,0,19.583,0v-.4A9.8,9.8,0,0,0,393.506,319.286Zm6.93,10.195a6.93,6.93,0,1,1-13.86,0v-.4a6.93,6.93,0,0,1,13.86,0Z\" transform=\"translate(-328.828 -309.171)\" fill=\"#d8006b\" />\r\n                                                    <path id=\"Tracé_6\" data-name=\"Tracé 6\" d=\"M306.067,319.286a9.8,9.8,0,0,0-9.792,9.791v.4a9.792,9.792,0,1,0,19.583,0v-.4A9.8,9.8,0,0,0,306.067,319.286ZM313,329.481a6.93,6.93,0,1,1-13.859,0v-.4a6.93,6.93,0,0,1,13.859,0Z\" transform=\"translate(-262.667 -309.171)\" fill=\"#d8006b\" />\r\n                                                    <path id=\"Tracé_7\" data-name=\"Tracé 7\" d=\"M480.946,319.286a9.8,9.8,0,0,0-9.792,9.791v.4a9.792,9.792,0,1,0,19.583,0v-.4A9.8,9.8,0,0,0,480.946,319.286Zm6.929,10.195a6.93,6.93,0,1,1-13.86,0v-.4a6.93,6.93,0,0,1,13.86,0Z\" transform=\"translate(-394.987 -309.171)\" fill=\"#d8006b\" />\r\n                                                </g>\r\n                                            </g>\r\n                                        </svg></div>}\r\n\r\n                                    <Stats postId={el} />\r\n\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    </>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    fb: state.fbdata.tokenDetail.userID,\r\n    allpages: state.allpages,\r\n    allposts: state.allPosts,\r\n    allprojects: state.allProjects,\r\n    intentPage: state.intentPage,\r\n    comments: state.comments\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getPagePostProject: () => dispatch(getConnectedPagesProject()),\r\n        getpages: () => dispatch(getAllPagesAction()),\r\n        getInstaPages: () => dispatch(getAllInstaPagesAction()),\r\n        getAllEntity: (id) => dispatch(getAllEntity(id)),\r\n        getConnectedPagesPosts: (id) => dispatch(getConnectedPagesPosts(id)),\r\n        pageIntents: (id) => dispatch(pageIntents(id))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)\r\n"]},"metadata":{},"sourceType":"module"}