{"ast":null,"code":"import React,{useEffect,useState}from'react';import TopMenu from'../components/TopMenu';import{Link,useRouteMatch,useHistory}from'react-router-dom';import{connect}from'react-redux';import{getAllEntity as _getAllEntity,addentity,removeEntity}from'../actions';import EntetyTable from'../components/EntetyTable';import Modal from'../components/Modal';import AddEntityModal from'../components/AddEntityModal';// let obj = {}\nvar counter=0;function Entitys(props){// let match = useRouteMatch();\n// const [rmDuplicatedEntity, setrmDuplicatedEntity] = useState({})\nuseEffect(function(){props.getAllEntity(props.fb);// .then(() => {\n//     massagingData()\n// })\n},[counter]);var handelSubmit=function handelSubmit(entity,content,synonyms){var newEntity={idUser:props.fb,entity:{synonyms:synonyms,content:content,name:entity}};props.addEntity(newEntity);// .then(() => massagingData())\ncounter++;};// const massagingData = () => {\n//     const entity = [...props.entitys]\n//     console.log('inside messagindata ', entity)\n//     entity.forEach(el => {\n//         obj = {\n//             ...obj,\n//             [el.name]: true\n//         }\n//     })\n//     setrmDuplicatedEntity(obj)\n// }\nvar removeEntityHandler=function removeEntityHandler(id){console.log(id);props.removeEntitys(props.fb,{id:id}).then(function(){return props.getAllEntity(props.fb);});};return React.createElement(\"div\",null,React.createElement(TopMenu,null),React.createElement(\"div\",{style:{paddingLeft:30,paddingRight:100,paddingTop:30}},React.createElement(\"h2\",{style:{fontSize:30,color:\"rgba(45, 47, 57, 1)\"}},\"Entities management\"),React.createElement(Link,{to:'/dachboard/entities/add'},React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"180\",height:\"50\",viewBox:\"0 0 169 50\"},React.createElement(\"g\",{\"data-name\":\"Groupe 1135\",transform:\"translate(-1559 -214)\"},React.createElement(\"rect\",{width:\"169\",height:\"50\",fill:\"#e5007d\",\"data-name\":\"Rectangle 1558\",rx:\"4\",transform:\"translate(1559 214)\"}),React.createElement(\"g\",{\"data-name\":\"Groupe 1134\",transform:\"translate(0)\"},React.createElement(\"text\",{fill:\"#fff\",\"data-name\":\"Add Entity\",fontFamily:\"Poppins-SemiBold, Poppins\",fontSize:\"16\",fontWeight:\"600\",transform:\"translate(1648 245)\"},React.createElement(\"tspan\",{x:\"-41.296\",y:\"0\"},\"Add category\")),React.createElement(\"g\",{fill:\"none\",stroke:\"#fff\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",\"data-name\":\"Icon feather-plus-circle\",transform:\"translate(1576 227)\"},React.createElement(\"path\",{d:\"M20.676 11.838A8.838 8.838 0 1111.838 3a8.838 8.838 0 018.838 8.838z\",\"data-name\":\"Trac\\xE9 210\"}),React.createElement(\"path\",{d:\"M11.838 8.303v7.07\",\"data-name\":\"Trac\\xE9 211\"}),React.createElement(\"path\",{d:\"M8.303 11.838h7.07\",\"data-name\":\"Trac\\xE9 212\"})))))),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"div\",{style:{background:'#fff',paddingTop:20,paddingLeft:70,paddingRight:70,paddingBottom:20}},React.createElement(\"table\",{className:\"entityTable\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{style:{textAlign:'left'}},\"Category\"),React.createElement(\"th\",{style:{textAlign:'center'}}),React.createElement(\"th\",{style:{textAlign:'right'}},\"Products\"),React.createElement(\"th\",{style:{textAlign:'right'}}))),React.createElement(\"tbody\",null,props.entitys.map(function(el){return React.createElement(EntetyTable,{entitys:props.entitys,entity:el,key:el._id,removeEntity:removeEntityHandler});}))))));}var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getAllEntity:function getAllEntity(id){return dispatch(_getAllEntity(id));},addEntity:function addEntity(data){return dispatch(addentity(data));},removeEntitys:function removeEntitys(id,data){return dispatch(removeEntity(id,data));}};};var mapStateToProps=function mapStateToProps(state){return{entitys:state.entitys,fb:state.fbdata.tokenDetail.userID};};export default connect(mapStateToProps,mapDispatchToProps)(Entitys);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/dachboard/Entitys.js"],"names":["React","useEffect","useState","TopMenu","Link","useRouteMatch","useHistory","connect","getAllEntity","addentity","removeEntity","EntetyTable","Modal","AddEntityModal","counter","Entitys","props","fb","handelSubmit","entity","content","synonyms","newEntity","idUser","name","addEntity","removeEntityHandler","id","console","log","removeEntitys","then","paddingLeft","paddingRight","paddingTop","fontSize","color","background","paddingBottom","textAlign","entitys","map","el","_id","mapDispatchToProps","dispatch","data","mapStateToProps","state","fbdata","tokenDetail","userID"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport TopMenu from '../components/TopMenu'\r\nimport { Link, useRouteMatch, useHistory } from 'react-router-dom'\r\nimport { connect } from 'react-redux';\r\nimport { getAllEntity, addentity, removeEntity } from '../actions'\r\nimport EntetyTable from '../components/EntetyTable';\r\nimport Modal from '../components/Modal';\r\nimport AddEntityModal from '../components/AddEntityModal';\r\n// let obj = {}\r\nlet counter = 0\r\nfunction Entitys(props) {\r\n    // let match = useRouteMatch();\r\n    // const [rmDuplicatedEntity, setrmDuplicatedEntity] = useState({})\r\n    useEffect(() => {\r\n\r\n        props.getAllEntity(props.fb)\r\n        // .then(() => {\r\n        //     massagingData()\r\n        // })\r\n    }, [counter])\r\n\r\n    const handelSubmit = (entity, content, synonyms) => {\r\n        const newEntity = {\r\n            idUser: props.fb,\r\n            entity: {\r\n                synonyms,\r\n                content,\r\n                name: entity\r\n            }\r\n        }\r\n        props.addEntity(newEntity)\r\n        // .then(() => massagingData())\r\n        counter++\r\n    }\r\n    // const massagingData = () => {\r\n    //     const entity = [...props.entitys]\r\n    //     console.log('inside messagindata ', entity)\r\n    //     entity.forEach(el => {\r\n    //         obj = {\r\n    //             ...obj,\r\n    //             [el.name]: true\r\n    //         }\r\n    //     })\r\n    //     setrmDuplicatedEntity(obj)\r\n    // }\r\n    const removeEntityHandler = (id) => {\r\n        console.log(id)\r\n        props.removeEntitys(props.fb, { id })\r\n            .then(() => props.getAllEntity(props.fb))\r\n\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <TopMenu />\r\n            <div style={{ paddingLeft: 30, paddingRight: 100, paddingTop: 30 }}>\r\n                <h2 style={{ fontSize: 30, color: \"rgba(45, 47, 57, 1)\" }}>Entities management</h2>\r\n                <Link to={'/dachboard/entities/add'}><svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"180\"\r\n                    height=\"50\"\r\n                    viewBox=\"0 0 169 50\"\r\n                >\r\n                    <g data-name=\"Groupe 1135\" transform=\"translate(-1559 -214)\">\r\n                        <rect\r\n                            width=\"169\"\r\n                            height=\"50\"\r\n                            fill=\"#e5007d\"\r\n                            data-name=\"Rectangle 1558\"\r\n                            rx=\"4\"\r\n                            transform=\"translate(1559 214)\"\r\n                        ></rect>\r\n                        <g data-name=\"Groupe 1134\" transform=\"translate(0)\">\r\n                            <text\r\n                                fill=\"#fff\"\r\n                                data-name=\"Add Entity\"\r\n                                fontFamily=\"Poppins-SemiBold, Poppins\"\r\n                                fontSize=\"16\"\r\n                                fontWeight=\"600\"\r\n                                transform=\"translate(1648 245)\"\r\n                            >\r\n                                <tspan x=\"-41.296\" y=\"0\">\r\n                                    Add category\r\n            </tspan>\r\n                            </text>\r\n                            <g\r\n                                fill=\"none\"\r\n                                stroke=\"#fff\"\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth=\"2\"\r\n                                data-name=\"Icon feather-plus-circle\"\r\n                                transform=\"translate(1576 227)\"\r\n                            >\r\n                                <path\r\n                                    d=\"M20.676 11.838A8.838 8.838 0 1111.838 3a8.838 8.838 0 018.838 8.838z\"\r\n                                    data-name=\"Tracé 210\"\r\n                                ></path>\r\n                                <path d=\"M11.838 8.303v7.07\" data-name=\"Tracé 211\"></path>\r\n                                <path d=\"M8.303 11.838h7.07\" data-name=\"Tracé 212\"></path>\r\n                            </g>\r\n                        </g>\r\n                    </g>\r\n                </svg>\r\n                </Link>\r\n                <br /><br />\r\n                <div style={{ background: '#fff', paddingTop: 20, paddingLeft: 70, paddingRight: 70, paddingBottom: 20 }}>\r\n                    <table className=\"entityTable\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{ textAlign: 'left' }}>Category</th>\r\n                                <th style={{ textAlign: 'center' }}></th>\r\n                                <th style={{ textAlign: 'right' }}>Products</th>\r\n                                <th style={{ textAlign: 'right' }}></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {props.entitys.map(el => <EntetyTable entitys={props.entitys} entity={el} key={el._id} removeEntity={removeEntityHandler} />)}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getAllEntity: (id) => dispatch(getAllEntity(id)),\r\n        addEntity: (data) => dispatch(addentity(data)),\r\n        removeEntitys: (id, data) => dispatch(removeEntity(id, data))\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        entitys: state.entitys,\r\n        fb: state.fbdata.tokenDetail.userID,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Entitys)\r\n"]},"metadata":{},"sourceType":"module"}