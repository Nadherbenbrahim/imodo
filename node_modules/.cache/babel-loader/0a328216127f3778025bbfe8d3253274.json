{"ast":null,"code":"import axios from 'axios';\nimport { host, trainAgentHost } from '../../config';\nexport const answerComment = (Page, comment) => {\n  return dispatch => {\n    // console.log(\"Get from here\", project);\n    return axios.post(host + `/api/v1/secure/logEvent/answer/comment/${Page.platform}`, {\n      comment\n    }, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      console.log('answerComment post APi Response =>', res.data.data); // let commentsMatched = [];\n      // let commentsNotMatched = []; \n      // if(res.data.data[0].events) {\n      //     res.data.data[0].events.map(comment => {\n      //         if(comment.success) {\n      //             commentsMatched.push(comment);\n      //         } else {\n      //             commentsNotMatched.push(comment);\n      //         }\n      //     });\n      // }\n      // dispatch({\n      //     type: 'GET_LOGS_BY_PAGE',\n      //     payload: res.data.data,\n      //     payload1: commentsMatched,\n      //     payload2: commentsNotMatched,\n      // });\n    }).catch(err => console.log(\"answerComment post Api error  =>\", err));\n  };\n};\nexport const getLogs = idPostOrPage => {\n  return dispatch => {\n    // console.log(\"Get from here\", project);\n    return axios.get(host + `/api/v1/secure/logEvent/post/${idPostOrPage}/all`, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      console.log('getLogs post APi Response =>', res.data.data);\n      let commentsMatched = [];\n      let commentsNotMatched = [];\n\n      if (res.data.data[0].events) {\n        console.log(\"Seeing Events ....\");\n        res.data.data[0].events.map(comment => {\n          if (comment.success) {\n            commentsMatched.push(comment);\n          } else {\n            commentsNotMatched.push(comment);\n          }\n        });\n        console.log(\"Matched =>\", commentsMatched);\n        console.log(\"Not Matched =>\", commentsNotMatched);\n      }\n\n      dispatch({\n        type: 'GET_LOGS_BY_PAGE',\n        payload: res.data.data,\n        payload1: commentsMatched,\n        payload2: commentsNotMatched\n      });\n    }).catch(err => console.log(\"getLogs post Api error  =>\", err));\n  };\n};\nexport const deleteProjectByPage = projet => {\n  return dispatch => {\n    let objectToSend = {\n      project: projet\n    };\n    return axios.put(host + `/api/v1/secure/project/remove/project`, objectToSend, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      console.log('deleteProjectByPage post APi Response =>', res.data.data);\n      dispatch({\n        type: 'GET_PROJECT_BY_PAGE',\n        payload: res.data.data\n      });\n    }).catch(err => console.log(\"deleteProjectByPage post Api error  =>\", err));\n  };\n};\nexport const goToWizardConfig = (projet, Page, history) => {\n  return dispatch => {\n    // Detect intent Type \n    let intentDetection = projet.post.idPost === projet.post.page.idPage;\n    dispatch({\n      type: 'FROM_MY_AGENTS_TO_STEP_3_WIZARD',\n      payload: 2,\n      payload1: projet._id,\n      payload2: intentDetection ? \"generic\" : \"default\"\n    });\n    dispatch({\n      type: 'SELECT_WIZARD_PAGE',\n      payload: Page\n    });\n    history.push('/home/auto-wizard');\n  };\n};\nexport const setAgentsSelectedProject = (project, history) => {\n  return dispatch => {\n    dispatch({\n      type: 'SET_AGENTS_PROJECT',\n      payload: project\n    });\n    history.push('/home/my-agents-messages');\n  };\n};\nexport const getProjectByPage = Page => {\n  return dispatch => {\n    return axios.get(host + `/api/v1/secure/pages/get/project/${Page.id}`, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      console.log('getProjectByPage post APi Response =>', res.data.data);\n      dispatch({\n        type: 'GET_PROJECT_BY_PAGE',\n        payload: res.data.data\n      });\n    }).catch(err => console.log(\"getProjectByPage post Api error  =>\", err));\n  };\n};","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/redux/actions/myAgentsActions.js"],"names":["axios","host","trainAgentHost","answerComment","Page","comment","dispatch","post","platform","headers","localStorage","getItem","then","res","console","log","data","catch","err","getLogs","idPostOrPage","get","commentsMatched","commentsNotMatched","events","map","success","push","type","payload","payload1","payload2","deleteProjectByPage","projet","objectToSend","project","put","goToWizardConfig","history","intentDetection","idPost","page","idPage","_id","setAgentsSelectedProject","getProjectByPage","id"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { host,trainAgentHost } from '../../config';\r\n\r\n\r\n\r\nexport const answerComment = (Page,comment) => {\r\n    return (dispatch) => {\r\n        // console.log(\"Get from here\", project);\r\n    \r\n        return axios.post(host + `/api/v1/secure/logEvent/answer/comment/${Page.platform}`,{\r\n            comment\r\n        },{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('answerComment post APi Response =>', res.data.data);\r\n\r\n            // let commentsMatched = [];\r\n            // let commentsNotMatched = []; \r\n\r\n            // if(res.data.data[0].events) {\r\n            //     res.data.data[0].events.map(comment => {\r\n            //         if(comment.success) {\r\n            //             commentsMatched.push(comment);\r\n            //         } else {\r\n            //             commentsNotMatched.push(comment);\r\n            //         }\r\n            //     });\r\n            // }\r\n\r\n            // dispatch({\r\n            //     type: 'GET_LOGS_BY_PAGE',\r\n            //     payload: res.data.data,\r\n            //     payload1: commentsMatched,\r\n            //     payload2: commentsNotMatched,\r\n            // });\r\n            \r\n        })\r\n        .catch((err) => console.log(\"answerComment post Api error  =>\", err))\r\n    }\r\n};\r\n\r\nexport const getLogs = (idPostOrPage) => {\r\n    return (dispatch) => {\r\n        // console.log(\"Get from here\", project);\r\n\r\n        return axios.get(host + `/api/v1/secure/logEvent/post/${idPostOrPage}/all`,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('getLogs post APi Response =>', res.data.data);\r\n\r\n            let commentsMatched = [];\r\n            let commentsNotMatched = []; \r\n\r\n            if(res.data.data[0].events) {\r\n                console.log(\"Seeing Events ....\");\r\n                res.data.data[0].events.map(comment => {\r\n                    if(comment.success) {\r\n                        commentsMatched.push(comment);\r\n                    } else {\r\n                        commentsNotMatched.push(comment);\r\n                    }\r\n                });\r\n\r\n                console.log(\"Matched =>\", commentsMatched)\r\n                console.log(\"Not Matched =>\", commentsNotMatched)\r\n\r\n\r\n            }\r\n\r\n            dispatch({\r\n                type: 'GET_LOGS_BY_PAGE',\r\n                payload: res.data.data,\r\n                payload1: commentsMatched,\r\n                payload2: commentsNotMatched,\r\n            });\r\n            \r\n        })\r\n        .catch((err) => console.log(\"getLogs post Api error  =>\", err))\r\n    }\r\n};\r\n\r\nexport const deleteProjectByPage = (projet) => {\r\n    return (dispatch) => {\r\n\r\n        let objectToSend = {\r\n            project: projet,\r\n        };\r\n\r\n        return axios.put(host + `/api/v1/secure/project/remove/project`,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('deleteProjectByPage post APi Response =>', res.data.data);\r\n\r\n            dispatch({\r\n                type: 'GET_PROJECT_BY_PAGE',\r\n                payload: res.data.data,\r\n            });\r\n        })\r\n        .catch((err) => console.log(\"deleteProjectByPage post Api error  =>\", err) )\r\n    }\r\n};\r\n\r\nexport const goToWizardConfig = (projet,Page,history) => {\r\n    return (dispatch) => {\r\n        // Detect intent Type \r\n        let intentDetection = projet.post.idPost === projet.post.page.idPage;\r\n\r\n        dispatch({\r\n            type: 'FROM_MY_AGENTS_TO_STEP_3_WIZARD',\r\n            payload: 2,\r\n            payload1: projet._id,\r\n            payload2: intentDetection ? \"generic\" : \"default\",\r\n        });\r\n\r\n        dispatch({\r\n            type: 'SELECT_WIZARD_PAGE', \r\n            payload: Page,\r\n        });\r\n        history.push('/home/auto-wizard'); \r\n    }\r\n};\r\n\r\n\r\n\r\nexport const setAgentsSelectedProject = (project,history) => {\r\n    return (dispatch) => {\r\n \r\n        dispatch({\r\n            type: 'SET_AGENTS_PROJECT',\r\n            payload: project,\r\n        });\r\n       \r\n        history.push('/home/my-agents-messages');\r\n    }\r\n};\r\n\r\nexport const getProjectByPage = (Page) => {\r\n    return (dispatch) => {\r\n \r\n        return axios.get(host + `/api/v1/secure/pages/get/project/${Page.id}`,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('getProjectByPage post APi Response =>', res.data.data);\r\n\r\n            dispatch({\r\n                type: 'GET_PROJECT_BY_PAGE',\r\n                payload: res.data.data,\r\n            });\r\n        })\r\n        .catch((err) => console.log(\"getProjectByPage post Api error  =>\", err) )\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}