{"ast":null,"code":"import _defineProperty from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import axios from'axios';import{connect}from'react-redux';import{connectInstagramPage,disconnectInstagramPage,deleteInstagramPage,makeOwnerInstagramPage,connectFacebookPage,disconnectFacebookPage,deleteFacebookPage,makeOwnerFacebookPage,getFbData,getInstaData}from'../../../redux/actions/socialMediaActions';import{useLocation}from'react-router-dom';import OwnerCheckbox from'./OwnerCheckbox';import Swal from'sweetalert2/dist/sweetalert2.js';import{Row,Col,Image,Modal,Spinner}from'react-bootstrap';import Lottie from'react-lottie';import animationData from'../../../assets/json/loadingSpinner.json';import notFoundAnimationData from'../../../assets/json/not-found.json';import{IoIosClose}from'react-icons/io';var DISC_ICON=require('../../../assets/images/home/disconnected-icon.png');var CONN_ICON=require('../../../assets/images/home/connected-icon.png');var DELETE_ICON=require('../../../assets/images/home/delete_trash.png');var USER_ICON=require('../../../assets/images/home/user.png');var USER_MEMBER_ICON=require('../../../assets/images/home/page-card-member.png');var INSTA_ICON=require('../../../assets/images/home/insta-icon.png');var FB_ICON=require('../../../assets/images/home/fb-icon.png');function PageCard(props){/* \r\n        ALL PROPS {\r\n            platform={\"fb\"} \r\n            isConnectedPage={page.isConnected} \r\n            namePage={page.name} \r\n            idPage={page.idPage} \r\n            picture={null} \r\n            accessToken={page.access_token}\r\n            status={key}\r\n        } \r\n    */var swalWithBootstrapButtons=Swal.mixin({customClass:{confirmButton:'wizard-pages-active-btn-alert'},buttonsStyling:false});var defaultOptionsNotFound={loop:true,autoplay:true,animationData:notFoundAnimationData,rendererSettings:{preserveAspectRatio:'xMidYMid slice'}};var defaultOptions={loop:true,autoplay:true,animationData:animationData,rendererSettings:{preserveAspectRatio:'xMidYMid slice'}};var location=useLocation();var fbHost=\"https://graph.facebook.com/v8.0\";var _useState=useState(null),_useState2=_slicedToArray(_useState,2),fbGraphData=_useState2[0],setFbGraphData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),instaGraphData=_useState4[0],setInstaGraphData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPopoverConnect=_useState6[0],setShowPopoverConnect=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loadingWhileConnecting=_useState8[0],setLoadingWhileConnecting=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showDisconnectModal=_useState10[0],setShowDisconnectModal=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showModalTeam=_useState12[0],setShowModalTeam=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),selectedOwner=_useState14[0],setSelectedOwner=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),ownerConfirmation=_useState16[0],setOwnerConfirmation=_useState16[1];var handleDisconnectModal=function handleDisconnectModal(){return setShowDisconnectModal(!showDisconnectModal);};var handleConnectPopover=function handleConnectPopover(){return setShowPopoverConnect(!showPopoverConnect);};var checkOwner=function checkOwner(){var userData=JSON.parse(localStorage.getItem('userData'));var found=null;if(props.admins.length>0){found=props.admins.find(function(admin){return admin.idFacebook===userData.user.idFacebook&&admin.role===\"owner\";});};return found;};var selectNewOwner=function selectNewOwner(idFacebook,firstName,lastName,idPage){if(selectedOwner.idFacebook===idFacebook){setSelectedOwner({});}else{// setSelectedOwner([idFacebook,`${firstName} ${lastName}`]);\nsetSelectedOwner({idFacebook:idFacebook,firstName:firstName,lastName:lastName,idPage:idPage});}};var confirmTheOwner=function confirmTheOwner(){// Mdoal reset \n// setShowDisconnectModal(false);\n// setShowModalTeam(false);\n// setOwnerConfirmation(false);\n// setSelectedOwner({});\nif(selectedOwner.idFacebook&&selectedOwner.idPage){if(props.platform===\"insta\"){props.makeOwnerInstagramPage(selectedOwner.idPage,selectedOwner.idFacebook).then(function(){// Confirm the new Owner: \nsetOwnerConfirmation(true);}).catch(function(){swalWithBootstrapButtons.fire({title:'Connexion error with the server. Try again !',confirmButtonText:'Okay'});});}else{props.makeOwnerFacebookPage(selectedOwner.idPage,selectedOwner.idFacebook).then(function(){// Confirm the new Owner: \nsetOwnerConfirmation(true);}).catch(function(){swalWithBootstrapButtons.fire({title:'Connexion error with the server. Try again !',confirmButtonText:'Okay'});});};}else{swalWithBootstrapButtons.fire({title:'Please select a new owner !',confirmButtonText:'Okay'});}// props.platform === \"insta\" ? props.makeOwnerInstagramPage(idPage,member.idFacebook) : props.makeOwnerFacebookPage(idPage,member.idFacebook)\n};var resetModal=function resetModal(){setShowDisconnectModal(false);setShowModalTeam(false);setOwnerConfirmation(false);setSelectedOwner({});};var renderPopover=function renderPopover(){return/*#__PURE__*/React.createElement(\"div\",{className:\"page-card-connect-popover d-flex\",onClick:function onClick(){// Popup Config\nvar swalWithBootstrapButtons=Swal.mixin({customClass:{confirmButton:'wizard-pages-active-btn'},buttonsStyling:false});if(props.platform===\"insta\"&&!props.isConnectedPage){// Instagram \nsetLoadingWhileConnecting(true);props.connectInstagramPage(props.idPage).then(function(){setLoadingWhileConnecting(false);props.setLoadingPages(true);props.getInstaData().then(function(){return props.setLoadingPages(false);}).catch(function(){setLoadingWhileConnecting(false);swalWithBootstrapButtons.fire({title:'Error while getting instagram pages',confirmButtonText:'Retry'});});}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while connecting the instagram page',confirmButtonText:'Retry'});});}else if(props.platform===\"fb\"&&!props.isConnectedPage){// Facebook\nsetLoadingWhileConnecting(true);props.connectFacebookPage(props.idPage).then(function(){setLoadingWhileConnecting(false);props.setLoadingPages(true);props.getFbData().then(function(){return props.setLoadingPages(false);}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while getting facebook pages',confirmButtonText:'Retry'});});;}).catch(function(){setLoadingWhileConnecting(false);swalWithBootstrapButtons.fire({title:'Error while connecting the facebook page',confirmButtonText:'Retry'});});}else{setShowDisconnectModal(true);}}},loadingWhileConnecting?/*#__PURE__*/React.createElement(\"div\",{className:\"px-3\"},/*#__PURE__*/React.createElement(Spinner,{animation:\"border\",size:\"sm\",variant:\"primary\",className:\"spinnerRose\"})):props.isConnectedPage?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},\"Disconnect\"):/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},\"Connect\"));};var renderDisconnectModal=function renderDisconnectModal(idPage){return/*#__PURE__*/React.createElement(Modal,{show:showDisconnectModal,onHide:handleDisconnectModal,size:\"lg\",centered:true},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column\"},!showModalTeam&&/*#__PURE__*/React.createElement(IoIosClose,{className:\"ml-auto mr-3 mt-2\",color:'#9F9F9F',size:'28',onClick:resetModal,style:{cursor:'pointer'}}),showModalTeam&&/*#__PURE__*/React.createElement(Modal.Header,null,/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-between d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto page-card-modal-small-title\",style:{fontSize:'17px'}},\"Make Owner\"),/*#__PURE__*/React.createElement(IoIosClose,{className:\"my-auto\",color:'#9F9F9F',size:'28',onClick:resetModal,style:{cursor:'pointer'}})))),/*#__PURE__*/React.createElement(Modal.Body,null,!showModalTeam&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Col,{className:\"d-flex flex-column m-auto\"},props.picture!==null?/*#__PURE__*/React.createElement(Image,{src:props.picture,fluid:true,className:\"m-auto pages-card-profile-picture\"}):fbGraphData!==null?/*#__PURE__*/React.createElement(Image,{src:fbGraphData.picture.data.url,fluid:true,className:\"m-auto pages-card-profile-picture\"}):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:150}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{zIndex:1,marginTop:'-20px'}},/*#__PURE__*/React.createElement(Col,{lg:6}),/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Image,{src:props.platform===\"fb\"?FB_ICON:INSTA_ICON,fluid:true,className:\"m-auto\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mb-3 mt-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\"},props.namePage))),!showModalTeam?/*#__PURE__*/React.createElement(Row,{className:\"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\"},/*#__PURE__*/React.createElement(Col,{lg:2}),/*#__PURE__*/React.createElement(Col,{lg:5,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column mr-auto\",onClick:function onClick(){return setShowModalTeam(true);}},/*#__PURE__*/React.createElement(\"div\",{className:\"page-card-modal-small-box m-auto d-flex\"},/*#__PURE__*/React.createElement(Image,{src:USER_ICON,className:\"m-auto\",style:{width:'25px'}})),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title mx-auto mt-2\"},\"Make Owner\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column ml-auto\",style:{cursor:'pointer'},onClick:function onClick(){var swalWithBootstrapButtons=Swal.mixin({customClass:{confirmButton:'wizard-pages-active-btn'},buttonsStyling:false});if(props.platform===\"insta\"){props.deleteInstagramPage(idPage).then(function(){setShowDisconnectModal(false);props.setLoadingPages(true);props.getInstaData().then(function(){props.setLoadingPages(false);}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while getting instagram pages',confirmButtonText:'Retry'});});}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while deleting the instagram page',confirmButtonText:'Retry'});});}else{props.deleteFacebookPage(idPage).then(function(){setShowDisconnectModal(false);props.setLoadingPages(true);props.getFbData().then(function(){props.setLoadingPages(false);}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while getting facebook pages',confirmButtonText:'Retry'});});}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while deleting the facebook page',confirmButtonText:'Retry'});});};}},/*#__PURE__*/React.createElement(\"div\",{className:\"page-card-modal-small-box m-auto d-flex\"},/*#__PURE__*/React.createElement(Image,{src:DELETE_ICON,className:\"m-auto\",style:{width:'23px'}})),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title mx-auto mt-2\"},\"Delete\"))),/*#__PURE__*/React.createElement(Col,{lg:2})):/*#__PURE__*/React.createElement(Row,{className:\"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\"},/*#__PURE__*/React.createElement(Col,{lg:1}),/*#__PURE__*/React.createElement(Col,{lg:10,className:\"d-flex flex-column\"},ownerConfirmation?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mb-3\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title m-auto\",style:{color:'#E5007D',fontSize:'17px'}},selectedOwner.firstName,\" \",selectedOwner.lastName))),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mb-3\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title m-auto\"},\"is now the new Owner of\"))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Col,{className:\"d-flex flex-column m-auto\"},props.picture!==null?/*#__PURE__*/React.createElement(Image,{src:props.picture,fluid:true,className:\"m-auto pages-card-profile-picture\"}):fbGraphData!==null?/*#__PURE__*/React.createElement(Image,{src:fbGraphData.picture.data.url,fluid:true,className:\"m-auto pages-card-profile-picture\"}):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:150}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{zIndex:1,marginTop:'-20px'}},/*#__PURE__*/React.createElement(Col,{lg:6}),/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Image,{src:props.platform===\"fb\"?FB_ICON:INSTA_ICON,fluid:true,className:\"m-auto\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mb-3 mt-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\"},props.namePage)),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-active-btn py-2 px-3\",style:{cursoir:'pointer'},onClick:resetModal},\"Close\"))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mb-3\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title m-auto\"},\"Select one team admin to make it the new Owner.\"))),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mb-1\"},/*#__PURE__*/React.createElement(Col,{lg:10},props.admins.length>0?props.admins.map(function(member){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{key:member.idFacebook+Math.random(),className:\"justify-content-between py-3\"// onClick={() => props.platform === \"insta\" ? props.makeOwnerInstagramPage(idPage,member.idFacebook) : props.makeOwnerFacebookPage(idPage,member.idFacebook)}\n,style:{borderBottom:'1px solid #EBEDF0'}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto page-card-owner-name\"},member.first_name,\" \",member.last_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",onClick:function onClick(){return member.role!==\"owner\"?selectNewOwner(member.idFacebook,member.first_name,member.last_name,idPage):null;}},member.role===\"owner\"?/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title m-auto\",style:{color:'#E4E6EB'}},\"Owner Already !\"):/*#__PURE__*/React.createElement(OwnerCheckbox,{checked:selectedOwner.idFacebook===member.idFacebook,className:\"m-auto\"}))));}):/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(Lottie,{options:defaultOptionsNotFound,width:200,className:\"m-auto\"/*height={400}*/})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto page-card-modal-small-title\"},\"Sorry ! You don't have any team member.\"))))),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mt-2\"},/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-inactive-btn py-2 px-3\",style:{cursor:'pointer'},onClick:function onClick(){return setShowModalTeam(false);}},\"Back\"),/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-active-btn py-2 px-3\",style:{cursoir:'pointer'},onClick:function onClick(){return confirmTheOwner();}},\"Next\")))))),/*#__PURE__*/React.createElement(Col,{lg:1})))));};useEffect(function(){if(props.platform===\"fb\"){axios.get(\"\".concat(fbHost,\"/\").concat(props.idPage,\"/?fields=fan_count,picture,new_like_count&access_token=\").concat(props.accessToken)).then(function(res){setFbGraphData(res.data);}).catch(function(err){console.log(\"PageCardFb\",err);});}else{// INSTA\naxios.get(\"\".concat(fbHost,\"/\").concat(props.idPage,\"/?fields=id,media,followers_count,media_count,profile_picture_url,username,name&access_token=\").concat(props.accessToken)).then(function(res){setInstaGraphData(res.data);}).catch(function(err){console.log(\"PageCard Insta\",err);});};},[]);return(/* card grisé */props.status===\"listPageConnectedOtherTeam\"?/*#__PURE__*/React.createElement(\"div\",{key:props.idPage+Math.random(),className:\"pages-card m-1\",style:{backgroundColor:\"#ECEDF0\",border:\"0\"}},/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Col,{className:\"d-flex flex-column\"},props.picture!==null?/*#__PURE__*/React.createElement(Image,{src:props.picture,fluid:true,className:\"m-auto pages-card-profile-picture\"}):fbGraphData!==null?/*#__PURE__*/React.createElement(Image,{src:fbGraphData.picture.data.url,fluid:true,className:\"m-auto pages-card-profile-picture\"}):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:150}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{zIndex:1,marginTop:'-20px'}},/*#__PURE__*/React.createElement(Col,{lg:6}),/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Image,{src:props.platform===\"fb\"?FB_ICON:INSTA_ICON,fluid:true,className:\"m-auto\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mb-3 mt-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\"},props.namePage)),/*#__PURE__*/React.createElement(Row,_defineProperty({className:\"d-flex\"},\"className\",\"page-card-disabled-title-container\"),/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto page-card-disabled-title\"},\"This page is managed by another team\")),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mt-3\"},/*#__PURE__*/React.createElement(Row,{className:\"m-auto justify-content-between\"},/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},instaGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},instaGraphData.followers_count):fbGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},fbGraphData.fan_count):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:100})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Total Fans\")))),/*#__PURE__*/React.createElement(Col,{lg:6,className:\"p-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},instaGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},instaGraphData.media_count):fbGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},fbGraphData.new_like_count):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:100})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex p-0\"},props.platform===\"fb\"?/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Total Interactions\"):/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Posts\"))))))):/*#__PURE__*/React.createElement(\"div\",{key:props.idPage+Math.random(),className:props.socialMediaPageSelected&&props.socialMediaPageSelected.id===props.idPage?\"pages-card-active ml-1\":\"pages-card m-1\",style:{backgroundColor:\"white\",border:props.status===\"listPageConnectedOwner\"?\"2px solid #E5007D\":props.status===\"listPageInvite\"?\"2px solid #139216\":props.status===\"listPageInviteAdmin\"?\"2px solid #199EE3\":\"1px solid #B4B4B4\"}},renderDisconnectModal(props.idPage),showPopoverConnect&&renderPopover(),location.pathname===\"/home/pages\"&&!props.isConnectedPage?/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:DISC_ICON,style:{cursor:'pointer'},className:\"mr-auto\",fluid:true,onClick:handleConnectPopover})):location.pathname===\"/home/pages\"&&props.isConnectedPage&&checkOwner()?/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:CONN_ICON,style:{cursor:'pointer'},className:\"mr-auto\",fluid:true,onClick:handleConnectPopover})):location.pathname===\"/home/pages\"&&/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:USER_MEMBER_ICON,style:{cursor:'pointer'},className:\"mr-auto\",fluid:true// onClick={handleConnectPopover}\n})),/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Col,{className:\"d-flex flex-column\"},props.picture!==null?/*#__PURE__*/React.createElement(Image,{src:props.picture,fluid:true,className:\"m-auto pages-card-profile-picture\"}):fbGraphData!==null?/*#__PURE__*/React.createElement(Image,{src:fbGraphData.picture.data.url,fluid:true,className:\"m-auto pages-card-profile-picture\"}):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:150}),/*#__PURE__*/React.createElement(Row,{className:\"d-flex\",style:{zIndex:1,marginTop:'-20px'}},/*#__PURE__*/React.createElement(Col,{lg:6}),/*#__PURE__*/React.createElement(Col,{lg:6,className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:props.platform===\"fb\"?FB_ICON:INSTA_ICON,fluid:true,className:\"mr-auto\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mb-3 mt-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\"},props.namePage)),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mt-3\"},/*#__PURE__*/React.createElement(Row,{className:\"m-auto justify-content-between\"},/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},instaGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},instaGraphData.followers_count):fbGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},fbGraphData.fan_count):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:100})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Total Fans\")))),/*#__PURE__*/React.createElement(Col,{lg:6,className:\"p-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},instaGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},instaGraphData.media_count):fbGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},fbGraphData.new_like_count):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:100})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex p-0\"},props.platform===\"fb\"?/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Total Interactions\"):/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Posts\"))))))));};var mapStateToProps=function mapStateToProps(state){return{socialMediaPageSelected:state.socialMediaR.socialMediaPageSelected};};export default connect(mapStateToProps,{connectInstagramPage:connectInstagramPage,disconnectInstagramPage:disconnectInstagramPage,deleteInstagramPage:deleteInstagramPage,makeOwnerInstagramPage:makeOwnerInstagramPage,connectFacebookPage:connectFacebookPage,disconnectFacebookPage:disconnectFacebookPage,deleteFacebookPage:deleteFacebookPage,makeOwnerFacebookPage:makeOwnerFacebookPage,getFbData:getFbData,getInstaData:getInstaData})(PageCard);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/Pages/PageCard.js"],"names":["React","useEffect","useState","useRef","axios","connect","connectInstagramPage","disconnectInstagramPage","deleteInstagramPage","makeOwnerInstagramPage","connectFacebookPage","disconnectFacebookPage","deleteFacebookPage","makeOwnerFacebookPage","getFbData","getInstaData","useLocation","OwnerCheckbox","Swal","Row","Col","Image","Modal","Spinner","Lottie","animationData","notFoundAnimationData","IoIosClose","DISC_ICON","require","CONN_ICON","DELETE_ICON","USER_ICON","USER_MEMBER_ICON","INSTA_ICON","FB_ICON","PageCard","props","swalWithBootstrapButtons","mixin","customClass","confirmButton","buttonsStyling","defaultOptionsNotFound","loop","autoplay","rendererSettings","preserveAspectRatio","defaultOptions","location","fbHost","fbGraphData","setFbGraphData","instaGraphData","setInstaGraphData","showPopoverConnect","setShowPopoverConnect","loadingWhileConnecting","setLoadingWhileConnecting","showDisconnectModal","setShowDisconnectModal","showModalTeam","setShowModalTeam","selectedOwner","setSelectedOwner","ownerConfirmation","setOwnerConfirmation","handleDisconnectModal","handleConnectPopover","checkOwner","userData","JSON","parse","localStorage","getItem","found","admins","length","find","admin","idFacebook","user","role","selectNewOwner","firstName","lastName","idPage","confirmTheOwner","platform","then","catch","fire","title","confirmButtonText","resetModal","renderPopover","isConnectedPage","setLoadingPages","renderDisconnectModal","cursor","fontSize","picture","data","url","zIndex","marginTop","namePage","width","color","cursoir","map","member","Math","random","borderBottom","first_name","last_name","get","accessToken","res","err","console","log","status","backgroundColor","border","followers_count","fan_count","media_count","new_like_count","socialMediaPageSelected","id","pathname","mapStateToProps","state","socialMediaR"],"mappings":"0SAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,oBAAT,CAA+BC,uBAA/B,CAAwDC,mBAAxD,CAA6EC,sBAA7E,CAAqGC,mBAArG,CAA0HC,sBAA1H,CAAiJC,kBAAjJ,CAAqKC,qBAArK,CAA4LC,SAA5L,CAAuMC,YAAvM,KAA2N,2CAA3N,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CAEA,MAAOC,CAAAA,IAAP,KAAiB,iCAAjB,CAEA,OACIC,GADJ,CAEIC,GAFJ,CAGIC,KAHJ,CAIIC,KAJJ,CAKIC,OALJ,KAMO,iBANP,CAOA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,0CAA1B,CACA,MAAOC,CAAAA,qBAAP,KAAkC,qCAAlC,CAIA,OAASC,UAAT,KAA2B,gBAA3B,CACA,GAAMC,CAAAA,SAAS,CAAGC,OAAO,CAAC,mDAAD,CAAzB,CACA,GAAMC,CAAAA,SAAS,CAAGD,OAAO,CAAC,gDAAD,CAAzB,CACA,GAAME,CAAAA,WAAW,CAAGF,OAAO,CAAC,8CAAD,CAA3B,CACA,GAAMG,CAAAA,SAAS,CAAGH,OAAO,CAAC,sCAAD,CAAzB,CACA,GAAMI,CAAAA,gBAAgB,CAAGJ,OAAO,CAAC,kDAAD,CAAhC,CACA,GAAMK,CAAAA,UAAU,CAAGL,OAAO,CAAC,4CAAD,CAA1B,CACA,GAAMM,CAAAA,OAAO,CAAGN,OAAO,CAAC,yCAAD,CAAvB,CAEA,QAASO,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACrB;;;;;;;;;;MAYD,GAAMC,CAAAA,wBAAwB,CAAGpB,IAAI,CAACqB,KAAL,CAAW,CACvCC,WAAW,CAAE,CACbC,aAAa,CAAE,+BADF,CAD0B,CAIvCC,cAAc,CAAE,KAJuB,CAAX,CAAjC,CAOC,GAAMC,CAAAA,sBAAsB,CAAG,CAC3BC,IAAI,CAAE,IADqB,CAE3BC,QAAQ,CAAE,IAFiB,CAG3BpB,aAAa,CAAEC,qBAHY,CAI3BoB,gBAAgB,CAAE,CAClBC,mBAAmB,CAAE,gBADH,CAJS,CAA/B,CASA,GAAMC,CAAAA,cAAc,CAAG,CACnBJ,IAAI,CAAE,IADa,CAEnBC,QAAQ,CAAE,IAFS,CAGnBpB,aAAa,CAAEA,aAHI,CAInBqB,gBAAgB,CAAE,CAChBC,mBAAmB,CAAE,gBADL,CAJC,CAAvB,CASA,GAAME,CAAAA,QAAQ,CAAGjC,WAAW,EAA5B,CACA,GAAMkC,CAAAA,MAAM,CAAG,iCAAf,CAvCqB,cAyCgBhD,QAAQ,CAAC,IAAD,CAzCxB,wCAyCdiD,WAzCc,eAyCFC,cAzCE,8BA0CsBlD,QAAQ,CAAC,IAAD,CA1C9B,yCA0CdmD,cA1Cc,eA0CCC,iBA1CD,8BA2C+BpD,QAAQ,CAAC,KAAD,CA3CvC,yCA2CdqD,kBA3Cc,eA2CMC,qBA3CN,8BA4CuCtD,QAAQ,CAAC,KAAD,CA5C/C,yCA4CduD,sBA5Cc,eA4CUC,yBA5CV,8BA6CiCxD,QAAQ,CAAC,KAAD,CA7CzC,0CA6CdyD,mBA7Cc,gBA6COC,sBA7CP,gCA8CoB1D,QAAQ,CAAC,KAAD,CA9C5B,2CA8Cd2D,aA9Cc,gBA8CAC,gBA9CA,gCAgDqB5D,QAAQ,CAAC,EAAD,CAhD7B,2CAgDd6D,aAhDc,gBAgDCC,gBAhDD,gCAiD6B9D,QAAQ,CAAC,IAAD,CAjDrC,2CAiDd+D,iBAjDc,gBAiDKC,oBAjDL,gBAmDrB,GAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,SAAMP,CAAAA,sBAAsB,CAAC,CAACD,mBAAF,CAA5B,EAA9B,CAEA,GAAMS,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,SAAOZ,CAAAA,qBAAqB,CAAC,CAACD,kBAAF,CAA5B,EAA7B,CAEA,GAAMc,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAIC,CAAAA,QAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAf,CACA,GAAIC,CAAAA,KAAK,CAAG,IAAZ,CAEA,GAAGtC,KAAK,CAACuC,MAAN,CAAaC,MAAb,CAAsB,CAAzB,CAA4B,CACxBF,KAAK,CAAGtC,KAAK,CAACuC,MAAN,CAAaE,IAAb,CAAkB,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,UAAN,GAAqBV,QAAQ,CAACW,IAAT,CAAcD,UAAnC,EAAiDD,KAAK,CAACG,IAAN,GAAe,OAApE,EAAvB,CAAR,CACH,EACD,MAAOP,CAAAA,KAAP,CACH,CARD,CAUA,GAAMQ,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACH,UAAD,CAAYI,SAAZ,CAAsBC,QAAtB,CAA+BC,MAA/B,CAA0C,CAE7D,GAAGvB,aAAa,CAACiB,UAAd,GAA6BA,UAAhC,CAA4C,CACxChB,gBAAgB,CAAC,EAAD,CAAhB,CACH,CAFD,IAEO,CACH;AACAA,gBAAgB,CAAC,CACbgB,UAAU,CAAEA,UADC,CAEbI,SAAS,CAAEA,SAFE,CAGbC,QAAQ,CAAEA,QAHG,CAIbC,MAAM,CAAEA,MAJK,CAAD,CAAhB,CAMH,CACJ,CAbD,CAeA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAE1B;AACA;AACA;AACA;AACA;AAEA,GAAGxB,aAAa,CAACiB,UAAd,EAA4BjB,aAAa,CAACuB,MAA7C,CAAqD,CAEjD,GAAGjD,KAAK,CAACmD,QAAN,GAAmB,OAAtB,CAA+B,CAC3BnD,KAAK,CAAC5B,sBAAN,CAA6BsD,aAAa,CAACuB,MAA3C,CAAkDvB,aAAa,CAACiB,UAAhE,EACCS,IADD,CACM,UAAM,CACR;AACAvB,oBAAoB,CAAC,IAAD,CAApB,CACH,CAJD,EAKCwB,KALD,CAKO,UAAM,CACTpD,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,8CADmB,CAE1BC,iBAAiB,CAAE,MAFO,CAA9B,EAIH,CAVD,EAWH,CAZD,IAYO,CACHxD,KAAK,CAACxB,qBAAN,CAA4BkD,aAAa,CAACuB,MAA1C,CAAiDvB,aAAa,CAACiB,UAA/D,EACCS,IADD,CACM,UAAM,CACR;AACAvB,oBAAoB,CAAC,IAAD,CAApB,CACH,CAJD,EAKCwB,KALD,CAKO,UAAM,CACTpD,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,8CADmB,CAE1BC,iBAAiB,CAAE,MAFO,CAA9B,EAIH,CAVD,EAWH,EAEJ,CA5BD,IA4BO,CAEHvD,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,6BADmB,CAE1BC,iBAAiB,CAAE,MAFO,CAA9B,EAIH,CAED;AACH,CA7CD,CAgDA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBlC,sBAAsB,CAAC,KAAD,CAAtB,CACAE,gBAAgB,CAAC,KAAD,CAAhB,CACAI,oBAAoB,CAAC,KAAD,CAApB,CACAF,gBAAgB,CAAC,EAAD,CAAhB,CACH,CALD,CAOA,GAAM+B,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,sBAClB,2BACI,SAAS,CAAC,kCADd,CAEI,OAAO,CAAE,kBAAM,CACP;AACA,GAAMzD,CAAAA,wBAAwB,CAAGpB,IAAI,CAACqB,KAAL,CAAW,CACxCC,WAAW,CAAE,CACbC,aAAa,CAAE,yBADF,CAD2B,CAIxCC,cAAc,CAAE,KAJwB,CAAX,CAAjC,CAOA,GAAGL,KAAK,CAACmD,QAAN,GAAmB,OAAnB,EAA8B,CAACnD,KAAK,CAAC2D,eAAxC,CAAyD,CACrD;AACAtC,yBAAyB,CAAC,IAAD,CAAzB,CACArB,KAAK,CAAC/B,oBAAN,CAA2B+B,KAAK,CAACiD,MAAjC,EACCG,IADD,CACM,UAAM,CACR/B,yBAAyB,CAAC,KAAD,CAAzB,CACArB,KAAK,CAAC4D,eAAN,CAAsB,IAAtB,EACA5D,KAAK,CAACtB,YAAN,GACC0E,IADD,CACM,iBAAMpD,CAAAA,KAAK,CAAC4D,eAAN,CAAsB,KAAtB,CAAN,EADN,EAECP,KAFD,CAEO,UAAM,CACThC,yBAAyB,CAAC,KAAD,CAAzB,CACApB,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,qCADmB,CAE1BC,iBAAiB,CAAE,OAFO,CAA9B,EAIH,CARD,EASH,CAbD,EAcCH,KAdD,CAcO,UAAM,CACTpD,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,2CADmB,CAE1BC,iBAAiB,CAAE,OAFO,CAA9B,EAIH,CAnBD,EAoBH,CAvBD,IAuBO,IAAGxD,KAAK,CAACmD,QAAN,GAAmB,IAAnB,EAA2B,CAACnD,KAAK,CAAC2D,eAArC,CAAsD,CACzD;AACAtC,yBAAyB,CAAC,IAAD,CAAzB,CACArB,KAAK,CAAC3B,mBAAN,CAA0B2B,KAAK,CAACiD,MAAhC,EACCG,IADD,CACM,UAAM,CACR/B,yBAAyB,CAAC,KAAD,CAAzB,CACArB,KAAK,CAAC4D,eAAN,CAAsB,IAAtB,EACA5D,KAAK,CAACvB,SAAN,GACC2E,IADD,CACM,iBAAMpD,CAAAA,KAAK,CAAC4D,eAAN,CAAsB,KAAtB,CAAN,EADN,EAECP,KAFD,CAEO,UAAM,CACTpD,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,oCADmB,CAE1BC,iBAAiB,CAAE,OAFO,CAA9B,EAIH,CAPD,EAOG,CACN,CAZD,EAaCH,KAbD,CAaO,UAAM,CACThC,yBAAyB,CAAC,KAAD,CAAzB,CACApB,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,0CADmB,CAE1BC,iBAAiB,CAAE,OAFO,CAA9B,EAIH,CAnBD,EAoBH,CAvBM,IAuBA,CACHjC,sBAAsB,CAAC,IAAD,CAAtB,CACH,CAEJ,CA7DT,EAgEKH,sBAAsB,cAElB,2BAAK,SAAS,CAAC,MAAf,eAAsB,oBAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,CAA4B,IAAI,CAAC,IAAjC,CAAsC,OAAO,CAAC,SAA9C,CAAwD,SAAS,CAAC,aAAlE,EAAtB,CAFkB,CAKfpB,KAAK,CAAC2D,eAAN,cAEA,yBAAG,SAAS,CAAC,QAAb,eAFA,cAIA,yBAAG,SAAS,CAAC,QAAb,YAzEZ,CADkB,EAAtB,CAiFA,GAAME,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACZ,MAAD,qBAC1B,oBAAC,KAAD,EAAO,IAAI,CAAE3B,mBAAb,CAAkC,MAAM,CAAEQ,qBAA1C,CAAiE,IAAI,CAAC,IAAtE,CAA2E,QAAQ,KAAnF,eACI,2BAAK,SAAS,CAAC,oBAAf,EAEK,CAACN,aAAD,eAED,oBAAC,UAAD,EAAY,SAAS,CAAC,mBAAtB,CAA0C,KAAK,CAAE,SAAjD,CAA4D,IAAI,CAAE,IAAlE,CAAwE,OAAO,CAAEiC,UAAjF,CAA6F,KAAK,CAAE,CAACK,MAAM,CAAE,SAAT,CAApG,EAJJ,CAOKtC,aAAa,eAEd,oBAAC,KAAD,CAAO,MAAP,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACI,oBAAC,GAAD,EAAK,SAAS,CAAC,gCAAf,eACI,yBAAG,SAAS,CAAC,qCAAb,CAAmD,KAAK,CAAE,CAACuC,QAAQ,CAAE,MAAX,CAA1D,eADJ,cAEI,oBAAC,UAAD,EAAY,SAAS,CAAC,SAAtB,CAAgC,KAAK,CAAE,SAAvC,CAAkD,IAAI,CAAE,IAAxD,CAA8D,OAAO,CAAEN,UAAvE,CAAmF,KAAK,CAAE,CAACK,MAAM,CAAE,SAAT,CAA1F,EAFJ,CADJ,CADJ,CATJ,cAmBI,oBAAC,KAAD,CAAO,IAAP,MACK,CAACtC,aAAD,eAED,qDACA,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,eACI,oBAAC,GAAD,EAAK,SAAS,CAAC,2BAAf,EAEQxB,KAAK,CAACgE,OAAN,GAAkB,IAAlB,cAEA,oBAAC,KAAD,EAAO,GAAG,CAAEhE,KAAK,CAACgE,OAAlB,CAA2B,KAAK,KAAhC,CAAiC,SAAS,CAAC,mCAA3C,EAFA,CAIAlD,WAAW,GAAK,IAAhB,cAEA,oBAAC,KAAD,EAAO,GAAG,CAAEA,WAAW,CAACkD,OAAZ,CAAoBC,IAApB,CAAyBC,GAArC,CAA0C,KAAK,KAA/C,CAAgD,SAAS,CAAC,mCAA1D,EAFA,cAIA,oBAAC,MAAD,EAAQ,OAAO,CAAEvD,cAAjB,CAAiC,KAAK,CAAE,GAAxC,EAVR,cAaI,2BAAK,SAAS,CAAC,QAAf,CAAwB,KAAK,CAAE,CAAEwD,MAAM,CAAE,CAAV,CAAaC,SAAS,CAAE,OAAxB,CAA/B,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EADJ,cAGI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,KAAD,EAAO,GAAG,CAAEpE,KAAK,CAACmD,QAAN,GAAmB,IAAnB,CAA0BrD,OAA1B,CAAoCD,UAAhD,CAA4D,KAAK,KAAjE,CAAkE,SAAS,CAAC,QAA5E,EADJ,CAHJ,CAbJ,CADJ,CADA,cAyBA,oBAAC,GAAD,EAAK,SAAS,CAAC,kBAAf,eACI,yBAAG,SAAS,CAAC,yBAAb,EAAyCG,KAAK,CAACqE,QAA/C,CADJ,CAzBA,CAHJ,CAkCK,CAAC7C,aAAD,cAED,oBAAC,GAAD,EAAK,SAAS,CAAC,mDAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EADJ,cAGI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,QAAtB,eAEI,2BAAK,SAAS,CAAC,4BAAf,CAA4C,OAAO,CAAE,yBAAMC,CAAAA,gBAAgB,CAAC,IAAD,CAAtB,EAArD,eACI,2BAAK,SAAS,CAAC,yCAAf,eACI,oBAAC,KAAD,EAAO,GAAG,CAAE9B,SAAZ,CAAuB,SAAS,CAAC,QAAjC,CAA2C,KAAK,CAAE,CAAE2E,KAAK,CAAE,MAAT,CAAlD,EADJ,CADJ,cAII,yBAAG,SAAS,CAAC,0CAAb,eAJJ,CAFJ,cA4EI,2BACI,SAAS,CAAC,4BADd,CAEI,KAAK,CAAE,CAACR,MAAM,CAAE,SAAT,CAFX,CAGI,OAAO,CAAE,kBAAM,CACP,GAAM7D,CAAAA,wBAAwB,CAAGpB,IAAI,CAACqB,KAAL,CAAW,CACxCC,WAAW,CAAE,CACbC,aAAa,CAAE,yBADF,CAD2B,CAIxCC,cAAc,CAAE,KAJwB,CAAX,CAAjC,CAOA,GAAGL,KAAK,CAACmD,QAAN,GAAmB,OAAtB,CAA+B,CAC3BnD,KAAK,CAAC7B,mBAAN,CAA0B8E,MAA1B,EACCG,IADD,CACM,UAAM,CACR7B,sBAAsB,CAAC,KAAD,CAAtB,CACAvB,KAAK,CAAC4D,eAAN,CAAsB,IAAtB,EACA5D,KAAK,CAACtB,YAAN,GACC0E,IADD,CACM,UAAM,CACRpD,KAAK,CAAC4D,eAAN,CAAsB,KAAtB,EACH,CAHD,EAICP,KAJD,CAIO,UAAM,CACTpD,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,qCADmB,CAE1BC,iBAAiB,CAAE,OAFO,CAA9B,EAIH,CATD,EAWH,CAfD,EAgBCH,KAhBD,CAgBO,UAAM,CACTpD,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,yCADmB,CAE1BC,iBAAiB,CAAE,OAFO,CAA9B,EAKH,CAtBD,EAwBH,CAzBD,IAyBO,CACHxD,KAAK,CAACzB,kBAAN,CAAyB0E,MAAzB,EACCG,IADD,CACM,UAAM,CACR7B,sBAAsB,CAAC,KAAD,CAAtB,CACAvB,KAAK,CAAC4D,eAAN,CAAsB,IAAtB,EACA5D,KAAK,CAACvB,SAAN,GACC2E,IADD,CACM,UAAM,CACRpD,KAAK,CAAC4D,eAAN,CAAsB,KAAtB,EACH,CAHD,EAICP,KAJD,CAIO,UAAM,CACTpD,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,oCADmB,CAE1BC,iBAAiB,CAAE,OAFO,CAA9B,EAKH,CAVD,EAWH,CAfD,EAgBCH,KAhBD,CAgBO,UAAM,CACTpD,wBAAwB,CAACqD,IAAzB,CAA8B,CAC1BC,KAAK,CAAE,wCADmB,CAE1BC,iBAAiB,CAAE,OAFO,CAA9B,EAIH,CArBD,EAsBH,EACJ,CA5DT,eA+DI,2BAAK,SAAS,CAAC,yCAAf,eACI,oBAAC,KAAD,EAAO,GAAG,CAAE9D,WAAZ,CAAyB,SAAS,CAAC,QAAnC,CAA4C,KAAK,CAAE,CAAE4E,KAAK,CAAE,MAAT,CAAnD,EADJ,CA/DJ,cAkEI,yBAAG,SAAS,CAAC,0CAAb,WAlEJ,CA5EJ,CAHJ,cAsJI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EAtJJ,CAFC,cA2JD,oBAAC,GAAD,EAAK,SAAS,CAAC,mDAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EADJ,cAGI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,oBAAvB,EAEK1C,iBAAiB,cAGV,qDACI,oBAAC,GAAD,EAAK,SAAS,CAAC,6BAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,eACI,yBAAG,SAAS,CAAC,oCAAb,CAAkD,KAAK,CAAE,CAAE2C,KAAK,CAAE,SAAT,CAAoBR,QAAQ,CAAE,MAA9B,CAAzD,EAAkGrC,aAAa,CAACqB,SAAhH,KAA4HrB,aAAa,CAACsB,QAA1I,CADJ,CADJ,CADJ,cAOI,oBAAC,GAAD,EAAK,SAAS,CAAC,6BAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,eACI,yBAAG,SAAS,CAAC,oCAAb,4BADJ,CADJ,CAPJ,cAaI,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,eACI,oBAAC,GAAD,EAAK,SAAS,CAAC,2BAAf,EAEQhD,KAAK,CAACgE,OAAN,GAAkB,IAAlB,cAEA,oBAAC,KAAD,EAAO,GAAG,CAAEhE,KAAK,CAACgE,OAAlB,CAA2B,KAAK,KAAhC,CAAiC,SAAS,CAAC,mCAA3C,EAFA,CAIAlD,WAAW,GAAK,IAAhB,cAEA,oBAAC,KAAD,EAAO,GAAG,CAAEA,WAAW,CAACkD,OAAZ,CAAoBC,IAApB,CAAyBC,GAArC,CAA0C,KAAK,KAA/C,CAAgD,SAAS,CAAC,mCAA1D,EAFA,cAIA,oBAAC,MAAD,EAAQ,OAAO,CAAEvD,cAAjB,CAAiC,KAAK,CAAE,GAAxC,EAVR,cAaI,2BAAK,SAAS,CAAC,QAAf,CAAwB,KAAK,CAAE,CAAEwD,MAAM,CAAE,CAAV,CAAaC,SAAS,CAAE,OAAxB,CAA/B,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EADJ,cAGI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,KAAD,EAAO,GAAG,CAAEpE,KAAK,CAACmD,QAAN,GAAmB,IAAnB,CAA0BrD,OAA1B,CAAoCD,UAAhD,CAA4D,KAAK,KAAjE,CAAkE,SAAS,CAAC,QAA5E,EADJ,CAHJ,CAbJ,CADJ,CAbJ,cAqCI,oBAAC,GAAD,EAAK,SAAS,CAAC,kBAAf,eACI,yBAAG,SAAS,CAAC,yBAAb,EAAyCG,KAAK,CAACqE,QAA/C,CADJ,CArCJ,cAyCI,oBAAC,GAAD,EAAK,SAAS,CAAC,6BAAf,eACI,2BAAK,SAAS,CAAC,mCAAf,CAAmD,KAAK,CAAE,CAACG,OAAO,CAAE,SAAV,CAA1D,CAAgF,OAAO,CAAEf,UAAzF,UADJ,CAzCJ,CAHU,cAqDV,qDACA,oBAAC,GAAD,EAAK,SAAS,CAAC,6BAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,eACI,yBAAG,SAAS,CAAC,oCAAb,oDADJ,CADJ,CADA,cAOA,oBAAC,GAAD,EAAK,SAAS,CAAC,6BAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,EACKzD,KAAK,CAACuC,MAAN,CAAaC,MAAb,CAAsB,CAAtB,CAGOxC,KAAK,CAACuC,MAAN,CAAakC,GAAb,CAAiB,SAAAC,MAAM,qBACnB,qDACI,oBAAC,GAAD,EACI,GAAG,CAAEA,MAAM,CAAC/B,UAAP,CAAkBgC,IAAI,CAACC,MAAL,EAD3B,CAEI,SAAS,CAAC,8BACV;AAHJ,CAII,KAAK,CAAE,CAACC,YAAY,CAAE,mBAAf,CAJX,eAMI,2BAAK,SAAS,CAAC,QAAf,eACI,yBAAG,SAAS,CAAC,6BAAb,EAA4CH,MAAM,CAACI,UAAnD,KAAgEJ,MAAM,CAACK,SAAvE,CADJ,CANJ,cAUI,2BACI,SAAS,CAAC,QADd,CAEI,OAAO,CAAE,yBAAML,CAAAA,MAAM,CAAC7B,IAAP,GAAgB,OAAhB,CAA0BC,cAAc,CAAC4B,MAAM,CAAC/B,UAAR,CAAoB+B,MAAM,CAACI,UAA3B,CAAuCJ,MAAM,CAACK,SAA9C,CAAwD9B,MAAxD,CAAxC,CAA0G,IAAhH,EAFb,EAIKyB,MAAM,CAAC7B,IAAP,GAAgB,OAAhB,cAED,yBAAG,SAAS,CAAC,oCAAb,CAAkD,KAAK,CAAE,CAAE0B,KAAK,CAAE,SAAT,CAAzD,oBAFC,cAID,oBAAC,aAAD,EAAe,OAAO,CAAE7C,aAAa,CAACiB,UAAd,GAA6B+B,MAAM,CAAC/B,UAA5D,CAAwE,SAAS,CAAE,QAAnF,EARJ,CAVJ,CADJ,CADmB,EAAvB,CAHP,cAgCO,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAc,SAAS,CAAC,QAAxB,eACI,oBAAC,MAAD,EAAQ,OAAO,CAAErC,sBAAjB,CAAyC,KAAK,CAAE,GAAhD,CAAqD,SAAS,CAAC,QAAS,gBAAxE,EADJ,CADJ,cAKI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAc,SAAS,CAAC,QAAxB,eACI,yBAAG,SAAS,CAAC,oCAAb,4CADJ,CALJ,CAjCZ,CADJ,CAPA,cA0DA,oBAAC,GAAD,EAAK,SAAS,CAAC,6BAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,eACI,oBAAC,GAAD,EAAK,SAAS,CAAC,yBAAf,eACI,2BAAK,SAAS,CAAC,qCAAf,CAAqD,KAAK,CAAE,CAACwD,MAAM,CAAE,SAAT,CAA5D,CAAiF,OAAO,CAAE,yBAAMrC,CAAAA,gBAAgB,CAAC,KAAD,CAAtB,EAA1F,SADJ,cAKI,2BAAK,SAAS,CAAC,mCAAf,CAAmD,KAAK,CAAE,CAAC+C,OAAO,CAAE,SAAV,CAA1D,CAAgF,OAAO,CAAE,yBAAMtB,CAAAA,eAAe,EAArB,EAAzF,SALJ,CADJ,CADJ,CA1DA,CAvDZ,CAHJ,cAsII,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EAtIJ,CA7LJ,CAnBJ,CADJ,CAD0B,EAA9B,CAkWAtF,SAAS,CAAC,UAAM,CACZ,GAAGoC,KAAK,CAACmD,QAAN,GAAmB,IAAtB,CAA4B,CACxBpF,KAAK,CAACiH,GAAN,WAAanE,MAAb,aAAuBb,KAAK,CAACiD,MAA7B,mEAA6FjD,KAAK,CAACiF,WAAnG,GACK7B,IADL,CACU,SAAA8B,GAAG,CAAI,CAAEnE,cAAc,CAACmE,GAAG,CAACjB,IAAL,CAAd,CAA2B,CAD9C,EAEKZ,KAFL,CAEW,SAAA8B,GAAG,CAAI,CAAEC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BF,GAA1B,EAAiC,CAFrD,EAGC,CAJL,IAIW,CACP;AACApH,KAAK,CAACiH,GAAN,WAAanE,MAAb,aAAuBb,KAAK,CAACiD,MAA7B,yGAAmIjD,KAAK,CAACiF,WAAzI,GACK7B,IADL,CACU,SAAA8B,GAAG,CAAI,CAAEjE,iBAAiB,CAACiE,GAAG,CAACjB,IAAL,CAAjB,CAA8B,CADjD,EAEKZ,KAFL,CAEW,SAAA8B,GAAG,CAAI,CAAEC,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BF,GAA9B,EAAqC,CAFzD,EAGH,EACJ,CAXQ,CAWN,EAXM,CAAT,CAaA,MACI,iBACAnF,KAAK,CAACsF,MAAN,GAAiB,4BAAjB,cAEA,2BACI,GAAG,CAAEtF,KAAK,CAACiD,MAAN,CAAe0B,IAAI,CAACC,MAAL,EADxB,CAEI,SAAS,CAAC,gBAFd,CAGI,KAAK,CAAE,CAAEW,eAAe,CAAE,SAAnB,CAA8BC,MAAM,CAAC,GAArC,CAHX,eAKI,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,eACI,oBAAC,GAAD,EAAK,SAAS,CAAC,oBAAf,EAEQxF,KAAK,CAACgE,OAAN,GAAkB,IAAlB,cAEA,oBAAC,KAAD,EAAO,GAAG,CAAEhE,KAAK,CAACgE,OAAlB,CAA2B,KAAK,KAAhC,CAAiC,SAAS,CAAC,mCAA3C,EAFA,CAIAlD,WAAW,GAAK,IAAhB,cAEA,oBAAC,KAAD,EAAO,GAAG,CAAEA,WAAW,CAACkD,OAAZ,CAAoBC,IAApB,CAAyBC,GAArC,CAA0C,KAAK,KAA/C,CAAgD,SAAS,CAAC,mCAA1D,EAFA,cAIA,oBAAC,MAAD,EAAQ,OAAO,CAAEvD,cAAjB,CAAiC,KAAK,CAAE,GAAxC,EAVR,cAaI,2BAAK,SAAS,CAAC,QAAf,CAAwB,KAAK,CAAE,CAAEwD,MAAM,CAAE,CAAV,CAAaC,SAAS,CAAE,OAAxB,CAA/B,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EADJ,cAGI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,KAAD,EAAO,GAAG,CAAEpE,KAAK,CAACmD,QAAN,GAAmB,IAAnB,CAA0BrD,OAA1B,CAAoCD,UAAhD,CAA4D,KAAK,KAAjE,CAAkE,SAAS,CAAC,QAA5E,EADJ,CAHJ,CAbJ,CADJ,CALJ,cA6BI,oBAAC,GAAD,EAAK,SAAS,CAAC,kBAAf,eACI,yBAAG,SAAS,CAAC,yBAAb,EAAyCG,KAAK,CAACqE,QAA/C,CADJ,CA7BJ,cAiCI,oBAAC,GAAD,kBAAK,SAAS,CAAC,QAAf,cAAkC,oCAAlC,eACI,yBAAG,SAAS,CAAC,iCAAb,yCADJ,CAjCJ,cAqCI,oBAAC,GAAD,EAAK,SAAS,CAAC,aAAf,eACI,oBAAC,GAAD,EAAK,SAAS,CAAC,gCAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,EAEIrD,cAAc,GAAK,IAAnB,cAEA,yBAAG,SAAS,CAAC,yBAAb,CAAuC,KAAK,CAAE,CAAC+C,QAAQ,CAAE,MAAX,CAA9C,EAAmE/C,cAAc,CAACyE,eAAlF,CAFA,CAIA3E,WAAW,GAAK,IAAhB,cAEI,yBAAG,SAAS,CAAC,yBAAb,CAAuC,KAAK,CAAE,CAACiD,QAAQ,CAAE,MAAX,CAA9C,EAAmEjD,WAAW,CAAC4E,SAA/E,CAFJ,cAII,oBAAC,MAAD,EAAQ,OAAO,CAAE/E,cAAjB,CAAiC,KAAK,CAAE,GAAxC,EAVR,CADJ,cAeI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,eACI,yBAAG,SAAS,CAAC,2BAAb,eADJ,CAfJ,CADJ,CADJ,cAuBI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,KAAtB,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,EAEIK,cAAc,GAAK,IAAnB,cAEI,yBAAG,SAAS,CAAC,yBAAb,CAAuC,KAAK,CAAE,CAAC+C,QAAQ,CAAE,MAAX,CAA9C,EAAmE/C,cAAc,CAAC2E,WAAlF,CAFJ,CAIA7E,WAAW,GAAK,IAAhB,cAEI,yBAAG,SAAS,CAAC,yBAAb,CAAuC,KAAK,CAAE,CAACiD,QAAQ,CAAE,MAAX,CAA9C,EAAmEjD,WAAW,CAAC8E,cAA/E,CAFJ,cAII,oBAAC,MAAD,EAAQ,OAAO,CAAEjF,cAAjB,CAAiC,KAAK,CAAE,GAAxC,EAVR,CADJ,cAeI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,YAAvB,EAEIX,KAAK,CAACmD,QAAN,GAAmB,IAAnB,cAEA,yBAAI,SAAS,CAAC,2BAAd,uBAFA,cAIA,yBAAI,SAAS,CAAC,2BAAd,UANJ,CAfJ,CADJ,CAvBJ,CADJ,CArCJ,CAFA,cA8FA,2BACI,GAAG,CAAEnD,KAAK,CAACiD,MAAN,CAAe0B,IAAI,CAACC,MAAL,EADxB,CAEI,SAAS,CAAE5E,KAAK,CAAC6F,uBAAN,EAAiC7F,KAAK,CAAC6F,uBAAN,CAA8BC,EAA9B,GAAqC9F,KAAK,CAACiD,MAA5E,CAAqF,wBAArF,CAAgH,gBAF/H,CAGI,KAAK,CAAE,CACHsC,eAAe,CAAE,OADd,CAEHC,MAAM,CACFxF,KAAK,CAACsF,MAAN,GAAiB,wBAAjB,CAEA,mBAFA,CAIAtF,KAAK,CAACsF,MAAN,GAAiB,gBAAjB,CAEA,mBAFA,CAIAtF,KAAK,CAACsF,MAAN,GAAiB,qBAAjB,CAEA,mBAFA,CAIA,mBAfD,CAHX,EAsBKzB,qBAAqB,CAAC7D,KAAK,CAACiD,MAAP,CAtB1B,CAyBK/B,kBAAkB,EAAIwC,aAAa,EAzBxC,CA4BI9C,QAAQ,CAACmF,QAAT,GAAsB,aAAtB,EACA,CAAC/F,KAAK,CAAC2D,eADP,cAGA,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,eACI,oBAAC,KAAD,EACI,GAAG,CAAEpE,SADT,CAEI,KAAK,CAAE,CAAEuE,MAAM,CAAE,SAAV,CAFX,CAGI,SAAS,CAAC,SAHd,CAII,KAAK,KAJT,CAKI,OAAO,CAAE/B,oBALb,EADJ,CAHA,CAaAnB,QAAQ,CAACmF,QAAT,GAAsB,aAAtB,EACA/F,KAAK,CAAC2D,eADN,EAEA3B,UAAU,EAFV,cAIA,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,eACI,oBAAC,KAAD,EACI,GAAG,CAAEvC,SADT,CAEI,KAAK,CAAE,CAAEqE,MAAM,CAAE,SAAV,CAFX,CAGI,SAAS,CAAC,SAHd,CAII,KAAK,KAJT,CAKI,OAAO,CAAE/B,oBALb,EADJ,CAJA,CAcAnB,QAAQ,CAACmF,QAAT,GAAsB,aAAtB,eACA,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,eACI,oBAAC,KAAD,EACI,GAAG,CAAEnG,gBADT,CAEI,KAAK,CAAE,CAAEkE,MAAM,CAAE,SAAV,CAFX,CAGI,SAAS,CAAC,SAHd,CAII,KAAK,KACL;AALJ,EADJ,CAxDJ,cAmEI,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,eACI,oBAAC,GAAD,EAAK,SAAS,CAAC,oBAAf,EAEQ9D,KAAK,CAACgE,OAAN,GAAkB,IAAlB,cAEA,oBAAC,KAAD,EAAO,GAAG,CAAEhE,KAAK,CAACgE,OAAlB,CAA2B,KAAK,KAAhC,CAAiC,SAAS,CAAC,mCAA3C,EAFA,CAIAlD,WAAW,GAAK,IAAhB,cAEA,oBAAC,KAAD,EAAO,GAAG,CAAEA,WAAW,CAACkD,OAAZ,CAAoBC,IAApB,CAAyBC,GAArC,CAA0C,KAAK,KAA/C,CAAgD,SAAS,CAAC,mCAA1D,EAFA,cAIA,oBAAC,MAAD,EAAQ,OAAO,CAAEvD,cAAjB,CAAiC,KAAK,CAAE,GAAxC,EAVR,cAaI,oBAAC,GAAD,EAAK,SAAS,CAAC,QAAf,CAAwB,KAAK,CAAE,CAAEwD,MAAM,CAAE,CAAV,CAAaC,SAAS,CAAE,OAAxB,CAA/B,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EADJ,cAII,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,QAAtB,eACI,oBAAC,KAAD,EAAO,GAAG,CAAEpE,KAAK,CAACmD,QAAN,GAAmB,IAAnB,CAA0BrD,OAA1B,CAAoCD,UAAhD,CAA4D,KAAK,KAAjE,CAAkE,SAAS,CAAC,SAA5E,EADJ,CAJJ,CAbJ,CADJ,CAnEJ,cA4FI,oBAAC,GAAD,EAAK,SAAS,CAAC,kBAAf,eACI,yBAAG,SAAS,CAAC,yBAAb,EAAyCG,KAAK,CAACqE,QAA/C,CADJ,CA5FJ,cAgGI,oBAAC,GAAD,EAAK,SAAS,CAAC,aAAf,eACI,oBAAC,GAAD,EAAK,SAAS,CAAC,gCAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,EAEIrD,cAAc,GAAK,IAAnB,cAEA,yBAAG,SAAS,CAAC,yBAAb,CAAuC,KAAK,CAAE,CAAC+C,QAAQ,CAAE,MAAX,CAA9C,EAAmE/C,cAAc,CAACyE,eAAlF,CAFA,CAIA3E,WAAW,GAAK,IAAhB,cAEA,yBAAG,SAAS,CAAC,yBAAb,CAAuC,KAAK,CAAE,CAACiD,QAAQ,CAAE,MAAX,CAA9C,EAAmEjD,WAAW,CAAC4E,SAA/E,CAFA,cAIA,oBAAC,MAAD,EAAQ,OAAO,CAAE/E,cAAjB,CAAiC,KAAK,CAAE,GAAxC,EAVJ,CADJ,cAeI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,eACI,yBAAG,SAAS,CAAC,2BAAb,eADJ,CAfJ,CADJ,CADJ,cAuBI,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,KAAtB,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,QAAvB,EAEIK,cAAc,GAAK,IAAnB,cAEI,yBAAG,SAAS,CAAC,yBAAb,CAAuC,KAAK,CAAE,CAAC+C,QAAQ,CAAE,MAAX,CAA9C,EAAmE/C,cAAc,CAAC2E,WAAlF,CAFJ,CAIA7E,WAAW,GAAK,IAAhB,cAEI,yBAAG,SAAS,CAAC,yBAAb,CAAuC,KAAK,CAAE,CAACiD,QAAQ,CAAE,MAAX,CAA9C,EAAmEjD,WAAW,CAAC8E,cAA/E,CAFJ,cAII,oBAAC,MAAD,EAAQ,OAAO,CAAEjF,cAAjB,CAAiC,KAAK,CAAE,GAAxC,EAVR,CADJ,cAeI,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,YAAvB,EAEIX,KAAK,CAACmD,QAAN,GAAmB,IAAnB,cAEA,yBAAI,SAAS,CAAC,2BAAd,uBAFA,cAIA,yBAAI,SAAS,CAAC,2BAAd,UANJ,CAfJ,CADJ,CAvBJ,CADJ,CAhGJ,CAhGJ,EAuPH,EAGD,GAAM6C,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/B,MAAO,CACHJ,uBAAuB,CAAGI,KAAK,CAACC,YAAN,CAAmBL,uBAD1C,CAAP,CAGH,CAJD,CAMA,cAAe7H,CAAAA,OAAO,CAACgI,eAAD,CAAkB,CAAE/H,oBAAoB,CAApBA,oBAAF,CAAuBC,uBAAuB,CAAvBA,uBAAvB,CAA+CC,mBAAmB,CAAnBA,mBAA/C,CAAmEC,sBAAsB,CAAtBA,sBAAnE,CAA2FC,mBAAmB,CAAnBA,mBAA3F,CAAgHC,sBAAsB,CAAtBA,sBAAhH,CAAwIC,kBAAkB,CAAlBA,kBAAxI,CAA4JC,qBAAqB,CAArBA,qBAA5J,CAAmLC,SAAS,CAATA,SAAnL,CAA8LC,YAAY,CAAZA,YAA9L,CAAlB,CAAP,CAAuOqB,QAAvO,CAAf","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { connectInstagramPage, disconnectInstagramPage, deleteInstagramPage, makeOwnerInstagramPage, connectFacebookPage, disconnectFacebookPage,deleteFacebookPage, makeOwnerFacebookPage, getFbData, getInstaData } from '../../../redux/actions/socialMediaActions';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport OwnerCheckbox from './OwnerCheckbox';\r\n\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Image,\r\n    Modal,\r\n    Spinner,\r\n} from 'react-bootstrap';\r\nimport Lottie from 'react-lottie';\r\nimport animationData from '../../../assets/json/loadingSpinner.json';\r\nimport notFoundAnimationData from '../../../assets/json/not-found.json';\r\n\r\n\r\n\r\nimport { IoIosClose } from 'react-icons/io';\r\nconst DISC_ICON = require('../../../assets/images/home/disconnected-icon.png');\r\nconst CONN_ICON = require('../../../assets/images/home/connected-icon.png');\r\nconst DELETE_ICON = require('../../../assets/images/home/delete_trash.png');\r\nconst USER_ICON = require('../../../assets/images/home/user.png');\r\nconst USER_MEMBER_ICON = require('../../../assets/images/home/page-card-member.png');\r\nconst INSTA_ICON = require('../../../assets/images/home/insta-icon.png');\r\nconst FB_ICON = require('../../../assets/images/home/fb-icon.png');\r\n\r\nfunction PageCard(props) {\r\n    /* \r\n        ALL PROPS {\r\n            platform={\"fb\"} \r\n            isConnectedPage={page.isConnected} \r\n            namePage={page.name} \r\n            idPage={page.idPage} \r\n            picture={null} \r\n            accessToken={page.access_token}\r\n            status={key}\r\n        } \r\n    */\r\n\r\n   const swalWithBootstrapButtons = Swal.mixin({\r\n        customClass: {\r\n        confirmButton: 'wizard-pages-active-btn-alert',\r\n        },\r\n        buttonsStyling: false\r\n    });\r\n\r\n    const defaultOptionsNotFound = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: notFoundAnimationData,\r\n        rendererSettings: {\r\n        preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };  \r\n\r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: animationData,\r\n        rendererSettings: {\r\n          preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n\r\n    const location = useLocation();\r\n    const fbHost = \"https://graph.facebook.com/v8.0\";\r\n\r\n    const [fbGraphData,setFbGraphData] = useState(null);\r\n    const [instaGraphData,setInstaGraphData] = useState(null);\r\n    const [showPopoverConnect, setShowPopoverConnect] = useState(false);\r\n    const [loadingWhileConnecting, setLoadingWhileConnecting] = useState(false);\r\n    const [showDisconnectModal, setShowDisconnectModal] = useState(false);\r\n    const [showModalTeam,setShowModalTeam] = useState(false);\r\n\r\n    const [selectedOwner, setSelectedOwner] = useState({});\r\n    const [ownerConfirmation, setOwnerConfirmation] = useState(null);\r\n\r\n    const handleDisconnectModal = () => setShowDisconnectModal(!showDisconnectModal);\r\n\r\n    const handleConnectPopover = () =>  setShowPopoverConnect(!showPopoverConnect);\r\n\r\n    const checkOwner = () => {\r\n        let userData = JSON.parse(localStorage.getItem('userData'));\r\n        let found = null;\r\n        \r\n        if(props.admins.length > 0) {\r\n            found = props.admins.find(admin => admin.idFacebook === userData.user.idFacebook && admin.role === \"owner\")\r\n        };\r\n        return found;\r\n    };\r\n\r\n    const selectNewOwner = (idFacebook,firstName,lastName,idPage) => {\r\n        \r\n        if(selectedOwner.idFacebook === idFacebook) {\r\n            setSelectedOwner({});\r\n        } else {\r\n            // setSelectedOwner([idFacebook,`${firstName} ${lastName}`]);\r\n            setSelectedOwner({\r\n                idFacebook: idFacebook,\r\n                firstName: firstName,\r\n                lastName: lastName,\r\n                idPage: idPage,\r\n            });\r\n        }\r\n    };\r\n\r\n    const confirmTheOwner = () => {\r\n\r\n        // Mdoal reset \r\n        // setShowDisconnectModal(false);\r\n        // setShowModalTeam(false);\r\n        // setOwnerConfirmation(false);\r\n        // setSelectedOwner({});\r\n\r\n        if(selectedOwner.idFacebook && selectedOwner.idPage) {\r\n\r\n            if(props.platform === \"insta\") {\r\n                props.makeOwnerInstagramPage(selectedOwner.idPage,selectedOwner.idFacebook)\r\n                .then(() => {\r\n                    // Confirm the new Owner: \r\n                    setOwnerConfirmation(true);\r\n                })\r\n                .catch(() => {\r\n                    swalWithBootstrapButtons.fire({\r\n                        title: 'Connexion error with the server. Try again !',\r\n                        confirmButtonText: 'Okay',\r\n                    }); \r\n                });\r\n            } else {\r\n                props.makeOwnerFacebookPage(selectedOwner.idPage,selectedOwner.idFacebook)\r\n                .then(() => {\r\n                    // Confirm the new Owner: \r\n                    setOwnerConfirmation(true);\r\n                })\r\n                .catch(() => {\r\n                    swalWithBootstrapButtons.fire({\r\n                        title: 'Connexion error with the server. Try again !',\r\n                        confirmButtonText: 'Okay',\r\n                    }); \r\n                });\r\n            };\r\n\r\n        } else {\r\n           \r\n            swalWithBootstrapButtons.fire({\r\n                title: 'Please select a new owner !',\r\n                confirmButtonText: 'Okay',\r\n            }); \r\n        }\r\n\r\n        // props.platform === \"insta\" ? props.makeOwnerInstagramPage(idPage,member.idFacebook) : props.makeOwnerFacebookPage(idPage,member.idFacebook)\r\n    };\r\n\r\n\r\n    const resetModal = () => {\r\n        setShowDisconnectModal(false);\r\n        setShowModalTeam(false);\r\n        setOwnerConfirmation(false);\r\n        setSelectedOwner({});\r\n    };\r\n\r\n    const renderPopover = () => (\r\n        <div \r\n            className=\"page-card-connect-popover d-flex\"\r\n            onClick={() => {\r\n                    // Popup Config\r\n                    const swalWithBootstrapButtons = Swal.mixin({\r\n                        customClass: {\r\n                        confirmButton: 'wizard-pages-active-btn',\r\n                        },\r\n                        buttonsStyling: false\r\n                    });\r\n\r\n                    if(props.platform === \"insta\" && !props.isConnectedPage) {\r\n                        // Instagram \r\n                        setLoadingWhileConnecting(true);\r\n                        props.connectInstagramPage(props.idPage)\r\n                        .then(() => {\r\n                            setLoadingWhileConnecting(false);\r\n                            props.setLoadingPages(true);\r\n                            props.getInstaData()\r\n                            .then(() => props.setLoadingPages(false))\r\n                            .catch(() => {\r\n                                setLoadingWhileConnecting(false);\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'Error while getting instagram pages',\r\n                                    confirmButtonText: 'Retry',\r\n                                });\r\n                            });\r\n                        })\r\n                        .catch(() => {\r\n                            swalWithBootstrapButtons.fire({\r\n                                title: 'Error while connecting the instagram page',\r\n                                confirmButtonText: 'Retry',\r\n                            });\r\n                        });\r\n                    } else if(props.platform === \"fb\" && !props.isConnectedPage) {\r\n                        // Facebook\r\n                        setLoadingWhileConnecting(true);\r\n                        props.connectFacebookPage(props.idPage)\r\n                        .then(() => {\r\n                            setLoadingWhileConnecting(false);\r\n                            props.setLoadingPages(true);\r\n                            props.getFbData()\r\n                            .then(() => props.setLoadingPages(false))\r\n                            .catch(() => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'Error while getting facebook pages',\r\n                                    confirmButtonText: 'Retry',\r\n                                });\r\n                            });;\r\n                        }) \r\n                        .catch(() => {\r\n                            setLoadingWhileConnecting(false);\r\n                            swalWithBootstrapButtons.fire({\r\n                                title: 'Error while connecting the facebook page',\r\n                                confirmButtonText: 'Retry',\r\n                            });\r\n                        });\r\n                    } else {\r\n                        setShowDisconnectModal(true)\r\n                    }\r\n                    \r\n                }\r\n            }\r\n        >\r\n            {loadingWhileConnecting \r\n            ?\r\n                (<div className=\"px-3\"><Spinner animation=\"border\" size=\"sm\" variant=\"primary\" className=\"spinnerRose\" /></div>)\r\n            :\r\n                (\r\n                    props.isConnectedPage\r\n                    ?\r\n                    <p className=\"m-auto\">Disconnect</p>\r\n                    :\r\n                    <p className=\"m-auto\">Connect</p>\r\n                    \r\n                )\r\n            }\r\n        </div>\r\n    )\r\n    \r\n    const renderDisconnectModal = (idPage) => (\r\n        <Modal show={showDisconnectModal} onHide={handleDisconnectModal} size=\"lg\" centered >\r\n            <div className=\"d-flex flex-column\">\r\n                \r\n                {!showModalTeam\r\n                &&\r\n                <IoIosClose className=\"ml-auto mr-3 mt-2\" color={'#9F9F9F'} size={'28'} onClick={resetModal} style={{cursor: 'pointer'}} />\r\n                }\r\n                \r\n                {showModalTeam\r\n                &&\r\n                <Modal.Header>\r\n                    <Col lg={12}>\r\n                        <Row className=\"justify-content-between d-flex\">\r\n                            <p className=\"my-auto page-card-modal-small-title\" style={{fontSize: '17px'}}>Make Owner</p>\r\n                            <IoIosClose className=\"my-auto\" color={'#9F9F9F'} size={'28'} onClick={resetModal} style={{cursor: 'pointer'}} />\r\n                        </Row>\r\n                    </Col>\r\n                </Modal.Header>\r\n                }\r\n\r\n                <Modal.Body>\r\n                    {!showModalTeam \r\n                    &&\r\n                    <>\r\n                    <Row className=\"d-flex\">\r\n                        <Col className=\"d-flex flex-column m-auto\">\r\n                            {\r\n                                props.picture !== null\r\n                                ?\r\n                                <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                                :\r\n                                fbGraphData !== null \r\n                                ?\r\n                                <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                                :\r\n                                <Lottie options={defaultOptions} width={150} />\r\n                            }\r\n                                \r\n                            <div className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                                <Col lg={6} />\r\n\r\n                                <Col lg={6}>\r\n                                    <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"m-auto\" />\r\n                                </Col>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <Row className=\"d-flex mb-3 mt-3\">\r\n                        <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n                    </Row>\r\n                    </>\r\n                    }\r\n\r\n                    {!showModalTeam\r\n                    ? \r\n                    <Row className=\"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\">\r\n                        <Col lg={2} />\r\n\r\n                        <Col lg={5} className=\"d-flex\">\r\n\r\n                            <div className=\"d-flex flex-column mr-auto\" onClick={() => setShowModalTeam(true)}>\r\n                                <div className=\"page-card-modal-small-box m-auto d-flex\">\r\n                                    <Image src={USER_ICON} className=\"m-auto\"  style={{ width: '25px'}} />\r\n                                </div>\r\n                                <p className=\"page-card-modal-small-title mx-auto mt-2\">Make Owner</p>\r\n                            </div>\r\n                            \r\n                            {/* Disconnect Na7awha faj2atan */}\r\n                            {/* <div \r\n                                className=\"d-flex flex-column m-auto\" \r\n                                style={{cursor: 'pointer'}} \r\n                                onClick={() => { \r\n                                        // Popup Config:\r\n                                        const swalWithBootstrapButtons = Swal.mixin({\r\n                                            customClass: {\r\n                                            confirmButton: 'wizard-pages-active-btn',\r\n                                            },\r\n                                            buttonsStyling: false\r\n                                        });\r\n                \r\n                                        if(props.platform === \"insta\") {\r\n                                            props.disconnectInstagramPage(idPage)\r\n                                            .then(() => {\r\n                                                props.setLoadingPages(true);\r\n                                                setShowDisconnectModal(false);\r\n                                                props.getInstaData()\r\n                                                .then(() => props.setLoadingPages(false))\r\n                                                .catch(() => {\r\n                                                    swalWithBootstrapButtons.fire({\r\n                                                        title: 'Error while getting instagram pages',\r\n                                                        confirmButtonText: 'Retry',\r\n                                                    });\r\n                                                    }\r\n                                                );\r\n                                            })\r\n                                            .catch(() => {\r\n                                                swalWithBootstrapButtons.fire({\r\n                                                    title: 'Error while disconnecting the instagram page',\r\n                                                    confirmButtonText: 'Retry',\r\n                                                });\r\n                                            });\r\n                                        } else {\r\n                                            props.disconnectFacebookPage(idPage)\r\n                                            .then(() => {\r\n                                                props.setLoadingPages(true);\r\n                                                setShowDisconnectModal(false);\r\n                                                props.getFbData()\r\n                                                .then(() => props.setLoadingPages(false))\r\n                                                .catch(() => {\r\n                                                    swalWithBootstrapButtons.fire({\r\n                                                        title: 'Error while getting facebook pages',\r\n                                                        confirmButtonText: 'Retry',\r\n                                                    });\r\n                                                });\r\n                                            })\r\n                                            .catch(() => {\r\n                                                swalWithBootstrapButtons.fire({\r\n                                                    title: 'Error while disconnecting the facebook page',\r\n                                                    confirmButtonText: 'Retry',\r\n                                                });\r\n                                            });\r\n                                        };\r\n                                    }\r\n                                } \r\n\r\n                            >\r\n                                <div className=\"page-card-modal-small-box m-auto d-flex\">\r\n                                    <Image src={DISC_ICON} className=\"m-auto\" style={{ width: '23px'}} />\r\n                                </div>\r\n                                <p className=\"page-card-modal-small-title mx-auto mt-2\">Disconnect</p>\r\n                            </div>\r\n                             */}\r\n                            \r\n                            {/* DELETE */}\r\n                            <div \r\n                                className=\"d-flex flex-column ml-auto\" \r\n                                style={{cursor: 'pointer'}} \r\n                                onClick={() => {\r\n                                        const swalWithBootstrapButtons = Swal.mixin({\r\n                                            customClass: {\r\n                                            confirmButton: 'wizard-pages-active-btn',\r\n                                            },\r\n                                            buttonsStyling: false\r\n                                        });\r\n                                        \r\n                                        if(props.platform === \"insta\") {\r\n                                            props.deleteInstagramPage(idPage)\r\n                                            .then(() => {\r\n                                                setShowDisconnectModal(false);\r\n                                                props.setLoadingPages(true);\r\n                                                props.getInstaData()\r\n                                                .then(() => {\r\n                                                    props.setLoadingPages(false)\r\n                                                })\r\n                                                .catch(() => {\r\n                                                    swalWithBootstrapButtons.fire({\r\n                                                        title: 'Error while getting instagram pages',\r\n                                                        confirmButtonText: 'Retry',\r\n                                                    });\r\n                                                });\r\n\r\n                                            })\r\n                                            .catch(() => {  \r\n                                                swalWithBootstrapButtons.fire({\r\n                                                    title: 'Error while deleting the instagram page',\r\n                                                    confirmButtonText: 'Retry',\r\n                                                });\r\n\r\n                                            });\r\n                                            \r\n                                        } else {\r\n                                            props.deleteFacebookPage(idPage)\r\n                                            .then(() => {\r\n                                                setShowDisconnectModal(false);\r\n                                                props.setLoadingPages(true);\r\n                                                props.getFbData()\r\n                                                .then(() => {\r\n                                                    props.setLoadingPages(false);\r\n                                                })\r\n                                                .catch(() => {\r\n                                                    swalWithBootstrapButtons.fire({\r\n                                                        title: 'Error while getting facebook pages',\r\n                                                        confirmButtonText: 'Retry',\r\n                                                    });\r\n\r\n                                                });\r\n                                            })\r\n                                            .catch(() => {\r\n                                                swalWithBootstrapButtons.fire({\r\n                                                    title: 'Error while deleting the facebook page',\r\n                                                    confirmButtonText: 'Retry',\r\n                                                });\r\n                                            });\r\n                                        };\r\n                                    }\r\n                                } \r\n                            >\r\n                                <div className=\"page-card-modal-small-box m-auto d-flex\">\r\n                                    <Image src={DELETE_ICON} className=\"m-auto\" style={{ width: '23px'}} />\r\n                                </div>\r\n                                <p className=\"page-card-modal-small-title mx-auto mt-2\">Delete</p>\r\n                            </div> \r\n\r\n                        </Col>\r\n\r\n                        <Col lg={2} />\r\n                    </Row>  \r\n                    :\r\n                    <Row className=\"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\">\r\n                        <Col lg={1} />\r\n\r\n                        <Col lg={10} className=\"d-flex flex-column\">\r\n\r\n                            {ownerConfirmation\r\n                            ?\r\n                                (\r\n                                    <>\r\n                                        <Row className=\"justify-content-center mb-3\">\r\n                                            <Col lg={12} className=\"d-flex\">\r\n                                                <p className=\"page-card-modal-small-title m-auto\" style={{ color: '#E5007D', fontSize: '17px' }}>{selectedOwner.firstName} {selectedOwner.lastName}</p>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row className=\"justify-content-center mb-3\">\r\n                                            <Col lg={12} className=\"d-flex\">\r\n                                                <p className=\"page-card-modal-small-title m-auto\">is now the new Owner of</p>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row className=\"d-flex\">\r\n                                            <Col className=\"d-flex flex-column m-auto\">\r\n                                                {\r\n                                                    props.picture !== null\r\n                                                    ?\r\n                                                    <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                                                    :\r\n                                                    fbGraphData !== null \r\n                                                    ?\r\n                                                    <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                                                    :\r\n                                                    <Lottie options={defaultOptions} width={150} />\r\n                                                }\r\n                                                    \r\n                                                <div className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                                                    <Col lg={6} />\r\n\r\n                                                    <Col lg={6}>\r\n                                                        <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"m-auto\" />\r\n                                                    </Col>\r\n                                                </div>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row className=\"d-flex mb-3 mt-3\">\r\n                                            <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n                                        </Row>\r\n\r\n                                        <Row className=\"justify-content-center mb-3\">\r\n                                            <div className=\"wizard-pages-active-btn py-2 px-3\" style={{cursoir: 'pointer'}} onClick={resetModal}>\r\n                                                Close\r\n                                            </div>\r\n                                        </Row>\r\n                                    </>\r\n                                )\r\n                            :\r\n                                (\r\n                                    <>\r\n                                    <Row className=\"justify-content-center mb-3\">\r\n                                        <Col lg={12} className=\"d-flex\">\r\n                                            <p className=\"page-card-modal-small-title m-auto\">Select one team admin to make it the new Owner.</p>\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                    <Row className=\"justify-content-center mb-1\">\r\n                                        <Col lg={10}>\r\n                                            {props.admins.length > 0\r\n                                            ? \r\n                                                (\r\n                                                    props.admins.map(member => (\r\n                                                        <>\r\n                                                            <Row \r\n                                                                key={member.idFacebook+Math.random()} \r\n                                                                className=\"justify-content-between py-3\" \r\n                                                                // onClick={() => props.platform === \"insta\" ? props.makeOwnerInstagramPage(idPage,member.idFacebook) : props.makeOwnerFacebookPage(idPage,member.idFacebook)}\r\n                                                                style={{borderBottom: '1px solid #EBEDF0'}}\r\n                                                            >   \r\n                                                                <div className=\"d-flex\">\r\n                                                                    <p className=\"m-auto page-card-owner-name\">{member.first_name} {member.last_name}</p>\r\n                                                                </div>\r\n\r\n                                                                <div \r\n                                                                    className=\"d-flex\" \r\n                                                                    onClick={() => member.role !== \"owner\" ? selectNewOwner(member.idFacebook, member.first_name, member.last_name,idPage) : null}\r\n                                                                >   \r\n                                                                    {member.role === \"owner\" \r\n                                                                    ?\r\n                                                                    <p className=\"page-card-modal-small-title m-auto\" style={{ color: '#E4E6EB' }}>Owner Already !</p>\r\n                                                                    :\r\n                                                                    <OwnerCheckbox checked={selectedOwner.idFacebook === member.idFacebook} className={\"m-auto\"} />\r\n                                                                    }\r\n                                                                </div>\r\n                                                            </Row>\r\n                                                        </>\r\n                                                    ))\r\n                                                )\r\n                                            :\r\n                                                (\r\n                                                    <Row>\r\n                                                        <Col lg={12}  className=\"d-flex\">\r\n                                                            <Lottie options={defaultOptionsNotFound} width={200} className=\"m-auto\" /*height={400}*/ />\r\n                                                        </Col>\r\n\r\n                                                        <Col lg={12}  className=\"d-flex\">\r\n                                                            <p className=\"m-auto page-card-modal-small-title\">\r\n                                                                Sorry ! You don't have any team member.\r\n                                                            </p>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                )\r\n\r\n                                            }\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                    <Row className=\"justify-content-center mt-2\">\r\n                                        <Col lg={12} >\r\n                                            <Row className=\"justify-content-between\">\r\n                                                <div className=\"wizard-pages-inactive-btn py-2 px-3\" style={{cursor: 'pointer'}} onClick={() => setShowModalTeam(false)}>\r\n                                                    Back\r\n                                                </div>\r\n\r\n                                                <div className=\"wizard-pages-active-btn py-2 px-3\" style={{cursoir: 'pointer'}} onClick={() => confirmTheOwner()}>\r\n                                                    Next\r\n                                                </div>\r\n                                            </Row>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    </>                                    \r\n                                )\r\n                            }\r\n                        </Col>\r\n\r\n                        <Col lg={1} />\r\n                    </Row>           \r\n                    }\r\n\r\n                </Modal.Body>\r\n            </div>\r\n            \r\n        </Modal>\r\n    );\r\n\r\n    useEffect(() => {\r\n        if(props.platform === \"fb\") {\r\n            axios.get(`${fbHost}/${props.idPage}/?fields=fan_count,picture,new_like_count&access_token=${props.accessToken}`)\r\n                .then(res => { setFbGraphData(res.data); })\r\n                .catch(err => { console.log(\"PageCardFb\",(err)) })\r\n            } else {\r\n            // INSTA\r\n            axios.get(`${fbHost}/${props.idPage}/?fields=id,media,followers_count,media_count,profile_picture_url,username,name&access_token=${props.accessToken}`)\r\n                .then(res => { setInstaGraphData(res.data); })\r\n                .catch(err => { console.log(\"PageCard Insta\",(err)) })\r\n        };\r\n    }, [])\r\n\r\n    return (\r\n        /* card grisé */\r\n        props.status === \"listPageConnectedOtherTeam\" \r\n        ?\r\n        <div \r\n            key={props.idPage + Math.random()} \r\n            className=\"pages-card m-1\" \r\n            style={{ backgroundColor: \"#ECEDF0\", border:\"0\"}}\r\n        >   \r\n            <Row className=\"d-flex\">\r\n                <Col className=\"d-flex flex-column\">\r\n                    {\r\n                        props.picture !== null\r\n                        ?\r\n                        <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        fbGraphData !== null \r\n                        ?\r\n                        <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        <Lottie options={defaultOptions} width={150} />\r\n                    }\r\n                        \r\n                    <div className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                        <Col lg={6} />\r\n\r\n                        <Col lg={6}>\r\n                            <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"m-auto\" />\r\n                        </Col>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mb-3 mt-3\">\r\n                <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex\" className=\"page-card-disabled-title-container\">\r\n                <p className=\"m-auto page-card-disabled-title\">This page is managed by another team</p>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mt-3\">\r\n                <Row className=\"m-auto justify-content-between\">    \r\n                    <Col lg={6}>\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{instaGraphData.followers_count}</p>\r\n                                :\r\n                                fbGraphData !== null \r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{fbGraphData.fan_count}</p>\r\n                                :\r\n                                    <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex\" >\r\n                                <p className=\"mx-auto pages-card-desc-2\">Total Fans</p>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col lg={6} className=\"p-0\">\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{instaGraphData.media_count}</p>\r\n                                :\r\n                                fbGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{fbGraphData.new_like_count}</p>\r\n                                :\r\n                                    <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex p-0\">\r\n                                {\r\n                                props.platform === \"fb\"\r\n                                ?\r\n                                <p  className=\"mx-auto pages-card-desc-2\">Total Interactions</p>\r\n                                :\r\n                                <p  className=\"mx-auto pages-card-desc-2\">Posts</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Row>\r\n        </div>\r\n        :\r\n        <div \r\n            key={props.idPage + Math.random()} \r\n            className={props.socialMediaPageSelected && props.socialMediaPageSelected.id === props.idPage ? \"pages-card-active ml-1\" : \"pages-card m-1\"} \r\n            style={{\r\n                backgroundColor: \"white\",\r\n                border: \r\n                    props.status === \"listPageConnectedOwner\" \r\n                    ? \r\n                    \"2px solid #E5007D\" \r\n                    : \r\n                    props.status === \"listPageInvite\" \r\n                    ?\r\n                    \"2px solid #139216\"\r\n                    : \r\n                    props.status === \"listPageInviteAdmin\" \r\n                    ?\r\n                    \"2px solid #199EE3\" \r\n                    :\r\n                    \"1px solid #B4B4B4\"\r\n            }}\r\n        >\r\n            {/* Disconnect Modal */}\r\n            {renderDisconnectModal(props.idPage)}\r\n   \r\n            {/* Connect / Disconnect popover */}\r\n            {showPopoverConnect && renderPopover()}\r\n        \r\n            {\r\n            location.pathname === \"/home/pages\" && \r\n            !props.isConnectedPage\r\n            ?\r\n            <Row className=\"d-flex\">\r\n                <Image \r\n                    src={DISC_ICON}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"mr-auto\" \r\n                    fluid \r\n                    onClick={handleConnectPopover}\r\n                />\r\n            </Row>\r\n            :\r\n            location.pathname === \"/home/pages\" && \r\n            props.isConnectedPage && \r\n            checkOwner() \r\n            ? \r\n            <Row className=\"d-flex\">\r\n                <Image \r\n                    src={CONN_ICON}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"mr-auto\" \r\n                    fluid \r\n                    onClick={handleConnectPopover}\r\n                />\r\n            </Row>\r\n            :\r\n            location.pathname === \"/home/pages\" &&\r\n            <Row className=\"d-flex\">\r\n                <Image \r\n                    src={USER_MEMBER_ICON}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"mr-auto\" \r\n                    fluid \r\n                    // onClick={handleConnectPopover}\r\n                />\r\n            </Row>\r\n            }\r\n                \r\n            <Row className=\"d-flex\">\r\n                <Col className=\"d-flex flex-column\">\r\n                    {\r\n                        props.picture !== null\r\n                        ?\r\n                        <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        fbGraphData !== null \r\n                        ?\r\n                        <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        <Lottie options={defaultOptions} width={150} />\r\n                    }\r\n                        \r\n                    <Row className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                        <Col lg={6} />\r\n                        \r\n\r\n                        <Col lg={6} className=\"d-flex\">\r\n                            <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"mr-auto\" />\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mb-3 mt-3\">\r\n                <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mt-3\">\r\n                <Row className=\"m-auto justify-content-between\">    \r\n                    <Col lg={6}>\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{instaGraphData.followers_count}</p>\r\n                                :\r\n                                fbGraphData !== null \r\n                                ?\r\n                                <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{fbGraphData.fan_count}</p>\r\n                                :\r\n                                <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex\" >\r\n                                <p className=\"mx-auto pages-card-desc-2\">Total Fans</p>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col lg={6} className=\"p-0\">\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{instaGraphData.media_count}</p>\r\n                                :\r\n                                fbGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{fbGraphData.new_like_count}</p>\r\n                                :\r\n                                    <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex p-0\">\r\n                                {\r\n                                props.platform === \"fb\"\r\n                                ?\r\n                                <p  className=\"mx-auto pages-card-desc-2\">Total Interactions</p>\r\n                                :\r\n                                <p  className=\"mx-auto pages-card-desc-2\">Posts</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Row>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        socialMediaPageSelected : state.socialMediaR.socialMediaPageSelected,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { connectInstagramPage,disconnectInstagramPage,deleteInstagramPage,makeOwnerInstagramPage, connectFacebookPage, disconnectFacebookPage, deleteFacebookPage, makeOwnerFacebookPage, getFbData, getInstaData })(PageCard);\r\n"]},"metadata":{},"sourceType":"module"}