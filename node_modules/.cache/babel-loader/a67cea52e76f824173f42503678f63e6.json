{"ast":null,"code":"import React,{useEffect}from'react';import{connect}from'react-redux';import{nextWizardStep,getWizardPagesPosts,setWizardSelectedPost,prevWizardStep,addProject,resetWizardPageSelected}from'../../../redux/actions/wizardActions';import{getConnectedPagesProject}from'../../../redux/actions/socialMediaActions';import{Row,Col,Image// Table,\n// Spinner,\n}from'react-bootstrap';// import { Link } from 'react-router-dom';\nimport Lottie from'react-lottie';import Swal from'sweetalert2/dist/sweetalert2.js';import animationData from'../../../assets/json/loading.json';import{FaLink}from'react-icons/fa';import{AiFillPicture}from'react-icons/ai';import{ReactComponent as IconAwesomeSort}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/images/home/Icon-awesome-sort.svg\";function WizardPosts(props){// const tableTitles = [\n//     {title : 'Post'},\n//     {title : 'Type'},\n//     {title : 'Published'},\n//     {title : 'Status'},\n// ];\n// const [loading, setLoading] = useState(true);\nvar defaultOptions={loop:true,autoplay:true,animationData:animationData,rendererSettings:{preserveAspectRatio:'xMidYMid slice'}};useEffect(function(){props.getWizardPagesPosts(props.wizardSelectedPage);},[]);var checkNextStep=function checkNextStep(){if(props.wizardSelectedPost===null){var swalWithBootstrapButtons=Swal.mixin({customClass:{confirmButton:'wizard-pages-active-btn-alert'},buttonsStyling:false});swalWithBootstrapButtons.fire({title:'Please select a post',confirmButtonText:'Okay'});}};var nextMove=function nextMove(post){props.setWizardSelectedPost(post);props.addProject(props.wizardSelectedPage,post).then(function(){props.nextWizardStep();});};var handleBackFromStep2To1=function handleBackFromStep2To1(){props.resetWizardPageSelected();props.prevWizardStep();};return/*#__PURE__*/React.createElement(Row,{className:\"d-flex mt-5\"},/*#__PURE__*/React.createElement(Col,{lg:1}),/*#__PURE__*/React.createElement(Col,{lg:9,className:\"wizard-pages-container\",style:{backgroundColor:'white'}},/*#__PURE__*/React.createElement(Row,{className:\"my-5 mx-4\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto wizard-pages-title\"},\"Select one post to active the iModo moderation.\")),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mt-5 mb-5\"},/*#__PURE__*/React.createElement(\"div\",null,props.wizardPagePosts?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,style:{borderBottom:'1px solid #EBEDF0'}},/*#__PURE__*/React.createElement(Row,{className:\"py-2\"},/*#__PURE__*/React.createElement(Col,{lg:4,key:0,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"my-auto wizard-pages-page-title-table\"},\"Post\")),/*#__PURE__*/React.createElement(Col,{lg:2,key:1,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto wizard-pages-page-title-table\"},\"Type\",/*#__PURE__*/React.createElement(IconAwesomeSort,{className:\"ml-1\",width:\"10\",height:\"10\"}))),/*#__PURE__*/React.createElement(Col,{lg:3,key:2,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto wizard-pages-page-title-table\"},\"Published\",/*#__PURE__*/React.createElement(IconAwesomeSort,{className:\"ml-1\",width:\"10\",height:\"10\"}))),/*#__PURE__*/React.createElement(Col,{lg:3,key:3,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto wizard-pages-page-title-table\"},\"Agent status\",/*#__PURE__*/React.createElement(IconAwesomeSort,{className:\"ml-1\",width:\"10\",height:\"10\"}))))),/*#__PURE__*/React.createElement(Col,{lg:12},props.wizardPagePosts.map(function(post,index){var createdTime=new Date(Date.parse(post.created_time));var publishedDate=\"\".concat(createdTime.getDate(),\"/\").concat(createdTime.getMonth()+1,\"/\").concat(createdTime.getFullYear());var checkedMinutes=createdTime.getMinutes()<10?\"0\"+createdTime.getMinutes():createdTime.getMinutes();var publishedTime=\"\".concat(createdTime.getHours(),\":\").concat(checkedMinutes);return/*#__PURE__*/React.createElement(Row,{className:\"py-2\",key:index,onClick:function onClick(){nextMove(post);},style:{cursor:'pointer',borderBottom:'1px solid #EBEDF0'}},/*#__PURE__*/React.createElement(Col,{lg:4,className:\"d-flex \"},post.picture?/*#__PURE__*/React.createElement(Image,{src:post.picture,className:\"my-auto\",style:{maxWidth:'38px'}}):/*#__PURE__*/React.createElement(Image,{src:props.wizardSelectedPage.picture_url,className:\"my-auto\",style:{maxWidth:'38px'}}),/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto ml-2 wizard-pages-page-title\",style:{cursor:'pointer'}},post.message&&post.message.length>40?post.message.substring(0,10)+\"...\":post.message?post.message:props.wizardSelectedPage.name)),/*#__PURE__*/React.createElement(Col,{lg:2,className:\"d-flex\"},post.picture?/*#__PURE__*/React.createElement(AiFillPicture,{color:\"#B4B4B4\",size:\"22\",className:\"m-auto\"})// <AiFillPicture color={\"#B4B4B4\"} size={\"22\"} className=\"mt-2 ml-2\" />\n:/*#__PURE__*/React.createElement(FaLink,{color:\"#B4B4B4\",size:\"22\",className:\"m-auto\"})),/*#__PURE__*/React.createElement(Col,{lg:3,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-column m-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto wizard-pages-page-date\"},publishedDate),/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto wizard-pages-page-time\"},publishedTime))),/*#__PURE__*/React.createElement(Col,{lg:3,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto wizard-posts-status-text\"},post.type)));}))):/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto\"},/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:200})))))),/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,{className:\"mb-3\"},/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-inactive-btn d-flex py-2 px-4 ml-3 mr-auto my-auto\",onClick:handleBackFromStep2To1},\"Back\"))),/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-inactive-btn ml-auto py-2 px-4 mr-3\"},\"Save Draft\"),/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-active-btn py-2 px-4 mr-3\",onClick:function onClick(){return checkNextStep();}},\"Next\")))))),/*#__PURE__*/React.createElement(Col,{lg:2}));}var mapStateToProps=function mapStateToProps(state){return{wizardStep:state.wizardR.wizardStep,wizardSelectedPage:state.wizardR.wizardSelectedPage,wizardSelectedPost:state.wizardR.wizardSelectedPost,wizardPagePosts:state.wizardR.wizardPagePosts,wizardActivePagePosts:state.wizardR.wizardActivePagePosts};};export default connect(mapStateToProps,{nextWizardStep:nextWizardStep,getWizardPagesPosts:getWizardPagesPosts,getConnectedPagesProject:getConnectedPagesProject,setWizardSelectedPost:setWizardSelectedPost,prevWizardStep:prevWizardStep,addProject:addProject,resetWizardPageSelected:resetWizardPageSelected})(WizardPosts);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/AutoWizard/WizardPosts.js"],"names":["React","useEffect","connect","nextWizardStep","getWizardPagesPosts","setWizardSelectedPost","prevWizardStep","addProject","resetWizardPageSelected","getConnectedPagesProject","Row","Col","Image","Lottie","Swal","animationData","FaLink","AiFillPicture","WizardPosts","props","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","wizardSelectedPage","checkNextStep","wizardSelectedPost","swalWithBootstrapButtons","mixin","customClass","confirmButton","buttonsStyling","fire","title","confirmButtonText","nextMove","post","then","handleBackFromStep2To1","backgroundColor","wizardPagePosts","borderBottom","map","index","createdTime","Date","parse","created_time","publishedDate","getDate","getMonth","getFullYear","checkedMinutes","getMinutes","publishedTime","getHours","cursor","picture","maxWidth","picture_url","message","length","substring","name","type","mapStateToProps","state","wizardStep","wizardR","wizardActivePagePosts"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { nextWizardStep, getWizardPagesPosts, setWizardSelectedPost,prevWizardStep, addProject, resetWizardPageSelected } from '../../../redux/actions/wizardActions';\r\nimport { getConnectedPagesProject } from '../../../redux/actions/socialMediaActions';\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Image,\r\n    // Table,\r\n    // Spinner,\r\n} from 'react-bootstrap';\r\n\r\n// import { Link } from 'react-router-dom';\r\n\r\nimport Lottie from 'react-lottie';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\n\r\n\r\nimport animationData from '../../../assets/json/loading.json';\r\n\r\nimport { FaLink } from 'react-icons/fa';\r\nimport { AiFillPicture } from 'react-icons/ai';\r\nimport {ReactComponent as IconAwesomeSort} from '../../../assets/images/home/Icon-awesome-sort.svg';\r\n\r\nfunction WizardPosts(props) {\r\n    \r\n    // const tableTitles = [\r\n    //     {title : 'Post'},\r\n    //     {title : 'Type'},\r\n    //     {title : 'Published'},\r\n    //     {title : 'Status'},\r\n    // ];\r\n\r\n    // const [loading, setLoading] = useState(true);\r\n   \r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: animationData,\r\n        rendererSettings: {\r\n          preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        props.getWizardPagesPosts(props.wizardSelectedPage);\r\n    }, []);\r\n\r\n\r\n    const checkNextStep = () => {\r\n\r\n        if(props.wizardSelectedPost === null) {\r\n            const swalWithBootstrapButtons = Swal.mixin({\r\n                customClass: {\r\n                  confirmButton: 'wizard-pages-active-btn-alert',\r\n                },\r\n                buttonsStyling: false\r\n            });\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'Please select a post',\r\n                confirmButtonText: 'Okay',\r\n            });\r\n        }\r\n    };\r\n\r\n    const nextMove = (post) => {\r\n        props.setWizardSelectedPost(post); \r\n\r\n        props.addProject(props.wizardSelectedPage,post)\r\n        .then(() =>{\r\n            props.nextWizardStep();\r\n        });\r\n        \r\n    };\r\n\r\n    const handleBackFromStep2To1 = () => {\r\n        props.resetWizardPageSelected();\r\n        props.prevWizardStep();\r\n    };\r\n\r\n    return (\r\n    <Row className=\"d-flex mt-5\">  \r\n        <Col lg={1} />\r\n\r\n        <Col lg={9} className=\"wizard-pages-container\" style={{backgroundColor: 'white'}}>\r\n            {/* Title */}\r\n            <Row className=\"my-5 mx-4\">\r\n            <Col lg={12} className=\"d-flex\">\r\n                <p className=\"my-auto wizard-pages-title\">Select one post to active the iModo moderation.</p>\r\n            </Col>\r\n            \r\n            {/* POSTS LIST */}\r\n            <Col lg={12}  className=\"mt-5 mb-5\">\r\n                {/* <Col lg={1} /> */}\r\n\r\n                <div>\r\n                    {props.wizardPagePosts\r\n                    ?\r\n                        (\r\n                            <Row>\r\n                            <Col lg={12} style={{borderBottom: '1px solid #EBEDF0'}}>\r\n                                <Row className=\"py-2\" >\r\n                                    {/* {tableTitles.map((item,index) => \r\n                                        <Col lg={3} key={index}>{item.title}</Col>    \r\n                                    )} */}\r\n\r\n                                <Col lg={4} key={0} className=\"d-flex\" ><div className=\"my-auto wizard-pages-page-title-table\" >Post</div></Col>    \r\n                                <Col lg={2} key={1} className=\"d-flex\" >\r\n                                    <div className=\"m-auto wizard-pages-page-title-table\" >\r\n                                        Type<IconAwesomeSort className={\"ml-1\"}  width=\"10\" height=\"10\" />\r\n                                    </div>\r\n                                </Col>    \r\n                                <Col lg={3} key={2} className=\"d-flex\" >\r\n                                    <div className=\"m-auto wizard-pages-page-title-table\" >\r\n                                        Published<IconAwesomeSort className={\"ml-1\"}  width=\"10\" height=\"10\" />\r\n                                    </div>\r\n                                </Col>    \r\n                                <Col lg={3} key={3} className=\"d-flex\" >\r\n                                    <div className=\"m-auto wizard-pages-page-title-table\" >\r\n                                        Agent status<IconAwesomeSort className={\"ml-1\"}  width=\"10\" height=\"10\" />\r\n                                    </div>\r\n                                </Col>    \r\n\r\n                                </Row>\r\n                            </Col>\r\n                            <Col lg={12}>\r\n                            {\r\n                                props.wizardPagePosts.map( (post,index) => {\r\n                                    let createdTime = new Date(Date.parse(post.created_time));\r\n                                    let publishedDate = `${createdTime.getDate()}/${createdTime.getMonth()+ 1}/${createdTime.getFullYear()}`;\r\n                                    let checkedMinutes = createdTime.getMinutes() < 10 ? \"0\" + createdTime.getMinutes() : createdTime.getMinutes();\r\n                                    let publishedTime = `${createdTime.getHours()}:${checkedMinutes}`\r\n                                \r\n                                    return (\r\n                                        <Row className=\"py-2\" key={index}  onClick={() => { nextMove(post) }} style={{ cursor: 'pointer',borderBottom: '1px solid #EBEDF0' }}>\r\n                                            {/* <td></td> */}\r\n                                            <Col lg={4} className=\"d-flex \">\r\n                                                {/* <Row className=\"d-flex\"> */}\r\n                                                    {\r\n                                                        post.picture\r\n                                                        ?\r\n                                                        <Image src={post.picture} className=\"my-auto\" style={{maxWidth: '38px'}} />\r\n                                                        :\r\n                                                        <Image src={props.wizardSelectedPage.picture_url} className=\"my-auto\" style={{maxWidth: '38px'}} />\r\n                                                    }\r\n                                                    <p className=\"my-auto ml-2 wizard-pages-page-title\" style={{cursor: 'pointer'}}>\r\n                                                        {post.message && post.message.length > 40\r\n                                                        ?\r\n                                                        post.message.substring(0,10) + \"...\"\r\n                                                        :                                                        \r\n                                                        post.message\r\n                                                        ?\r\n                                                        post.message\r\n                                                        :\r\n                                                        props.wizardSelectedPage.name\r\n                                                        }\r\n                                                    </p>\r\n                                                {/* </Row> */}\r\n                                            </Col>\r\n\r\n                                            <Col lg={2} className=\"d-flex\">\r\n                                                {\r\n                                                post.picture\r\n                                                ?\r\n                                                <AiFillPicture color={\"#B4B4B4\"} size={\"22\"} className=\"m-auto\" />\r\n                                                // <AiFillPicture color={\"#B4B4B4\"} size={\"22\"} className=\"mt-2 ml-2\" />\r\n                                                :\r\n                                                <FaLink color={\"#B4B4B4\"} size={\"22\"} className=\"m-auto\" />\r\n                                                }\r\n                                            </Col>\r\n\r\n                                            <Col lg={3} className=\"d-flex\">\r\n                                                <div className=\"flex-column m-auto\">\r\n                                                    <p className=\"m-auto wizard-pages-page-date\">{publishedDate}</p>\r\n                                                    <p  className=\"m-auto wizard-pages-page-time\">{publishedTime}</p>\r\n                                                </div>\r\n                                            </Col>\r\n\r\n                                            <Col lg={3} className=\"d-flex\" >\r\n                                                    {/* {props.wizardActivePagePosts\r\n                                                    ?\r\n                                                        (\r\n                                                        isPostActive(post.id,props.wizardActivePagePosts) \r\n                                                        ? \r\n                                                        <p className=\"ml-3 wizard-posts-status-text\" style={{color: '#E5137D'}}>Active</p>\r\n                                                        : \r\n                                                        <p className=\"ml-3 wizard-posts-status-text\">Not active</p>   \r\n                                                        )\r\n                                                        :\r\n                                                        <Spinner animation=\"border\" variant=\"dark\" />\r\n                                                    } */}\r\n                                                    <p className=\"m-auto wizard-posts-status-text\">{post.type}</p>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    )\r\n                                } \r\n                                )\r\n                            }\r\n                            </Col>\r\n                        </Row>\r\n                        )\r\n                    : \r\n                        (\r\n                            <Row className=\"d-flex\">\r\n                                <div className=\"m-auto\">\r\n                                    <Lottie options={defaultOptions} width={200} />\r\n                                </div>\r\n                            </Row>\r\n                        )\r\n                    }\r\n              \r\n                </div>\r\n\r\n                {/* <Col lg={1} /> */}\r\n                </Col>\r\n            </Row>\r\n\r\n            \r\n            {/* BTNS */}\r\n            <Col lg={12}>\r\n                <Row className=\"mb-3\">\r\n                    <Col lg={6}>\r\n                        <Row className=\"d-flex\">\r\n                            <div className=\"wizard-pages-inactive-btn d-flex py-2 px-4 ml-3 mr-auto my-auto\" onClick={handleBackFromStep2To1}>\r\n                                Back\r\n                            </div>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col lg={6}>\r\n                        <Row className=\"d-flex\">\r\n                            <div className={\"wizard-pages-inactive-btn ml-auto py-2 px-4 mr-3\"}>Save Draft</div>\r\n                            \r\n                            <div className={\"wizard-pages-active-btn py-2 px-4 mr-3\"} onClick={() => checkNextStep()}>\r\n                                Next\r\n                            </div>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n\r\n            {/* <Row className=\"d-flex justify-content-between pl-4 pr-4\">\r\n                <div className=\"wizard-pages-inactive-btn mb-3\">\r\n                    Back\r\n                </div>\r\n\r\n                <div className=\"mb-3\">\r\n                    <Row>\r\n                        <div className=\"wizard-pages-inactive-btn mr-3\">\r\n                            Save Draft\r\n                        </div>\r\n\r\n                        <div className=\"wizard-pages-active-btn\" onClick={() => props.nextWizardStep()}>\r\n                            Next\r\n                        </div>\r\n                    </Row>\r\n                </div>\r\n            </Row> */}\r\n\r\n        </Col>\r\n\r\n        <Col lg={2} />\r\n    </Row>\r\n    );\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        wizardStep: state.wizardR.wizardStep,\r\n        wizardSelectedPage: state.wizardR.wizardSelectedPage,\r\n        wizardSelectedPost: state.wizardR.wizardSelectedPost,\r\n        wizardPagePosts: state.wizardR.wizardPagePosts,\r\n        wizardActivePagePosts: state.wizardR.wizardActivePagePosts,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { nextWizardStep, getWizardPagesPosts, getConnectedPagesProject, setWizardSelectedPost, prevWizardStep, addProject, resetWizardPageSelected  })(WizardPosts)\r\n"]},"metadata":{},"sourceType":"module"}