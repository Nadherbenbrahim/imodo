{"ast":null,"code":"import axios from'axios';import{host}from'../../config';import Swal from'sweetalert2/dist/sweetalert2.js';// Popup Config: \nvar popup=Swal.mixin({customClass:{confirmButton:'wizard-pages-active-btn'},buttonsStyling:false});// Public reply:\nexport var detectCurrency=function detectCurrency(){return function(dispatch){return axios.get(\"https://ipapi.co/json/\").then(function(res){// console.log('detecting Currency =>', res.data);\nif(res.data.in_eu){// Europeen ip adress:\ndispatch({type:'DETECT_CURRENCY',payload:{id:\"EUR\",value:\"€\"}});}else{// Not europeen ip adress\nif(res.data.currency===\"TND\"){// Tunisian IP\ndispatch({type:'DETECT_CURRENCY',payload:{id:\"TND\",value:\"TND\"}});}else{// ASIA & AMERICA\ndispatch({type:'DETECT_CURRENCY',payload:{id:\"USD\",value:\"$\"}});}}}).catch(function(err){return console.log(\"detecting Currency err\",err);});};};// Public reply:\nexport var getPricingInfos=function getPricingInfos(){return function(dispatch){return axios.get(host+\"/api/v1/pricing/pricing\").then(function(res){console.log('getPricingInfos =>',res.data.data);dispatch({type:'GET_PRICING_INFO',payload:res.data.data});}).catch(function(err){return console.log(\"getPricingInfos err\",err);});};};","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/redux/actions/billingActions.js"],"names":["axios","host","Swal","popup","mixin","customClass","confirmButton","buttonsStyling","detectCurrency","dispatch","get","then","res","data","in_eu","type","payload","id","value","currency","catch","err","console","log","getPricingInfos"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,cAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,iCAAjB,CAEA;AACA,GAAMC,CAAAA,KAAK,CAAGD,IAAI,CAACE,KAAL,CAAW,CACrBC,WAAW,CAAE,CACbC,aAAa,CAAE,yBADF,CADQ,CAIrBC,cAAc,CAAE,KAJK,CAAX,CAAd,CAOA;AACA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAChC,MAAO,UAACC,QAAD,CAAc,CAEjB,MAAOT,CAAAA,KAAK,CAACU,GAAN,2BACNC,IADM,CACD,SAAAC,GAAG,CAAI,CACT;AAEA,GAAGA,GAAG,CAACC,IAAJ,CAASC,KAAZ,CAAmB,CACf;AACAL,QAAQ,CAAC,CACLM,IAAI,CAAE,iBADD,CAELC,OAAO,CAAE,CAACC,EAAE,CAAE,KAAL,CAAYC,KAAK,CAAE,GAAnB,CAFJ,CAAD,CAAR,CAKH,CAPD,IAOO,CACH;AACA,GAAGN,GAAG,CAACC,IAAJ,CAASM,QAAT,GAAsB,KAAzB,CAAgC,CAC5B;AACAV,QAAQ,CAAC,CACLM,IAAI,CAAE,iBADD,CAELC,OAAO,CAAE,CAACC,EAAE,CAAE,KAAL,CAAYC,KAAK,CAAE,KAAnB,CAFJ,CAAD,CAAR,CAIH,CAND,IAMO,CACH;AACAT,QAAQ,CAAC,CACLM,IAAI,CAAE,iBADD,CAELC,OAAO,CAAE,CAACC,EAAE,CAAE,KAAL,CAAYC,KAAK,CAAE,GAAnB,CAFJ,CAAD,CAAR,CAIH,CACJ,CAGJ,CA7BM,EA8BNE,KA9BM,CA8BA,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsCF,GAAtC,CAAT,EA9BA,CAAP,CA+BH,CAjCD,CAkCH,CAnCM,CAqCP;AACA,MAAO,IAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACjC,MAAO,UAACf,QAAD,CAAc,CAEjB,MAAOT,CAAAA,KAAK,CAACU,GAAN,CAAUT,IAAI,0BAAd,EACNU,IADM,CACD,SAAAC,GAAG,CAAI,CACTU,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCX,GAAG,CAACC,IAAJ,CAASA,IAA3C,EAEAJ,QAAQ,CAAC,CACLM,IAAI,CAAE,kBADD,CAELC,OAAO,CAAEJ,GAAG,CAACC,IAAJ,CAASA,IAFb,CAAD,CAAR,CAIH,CARM,EASNO,KATM,CASA,SAACC,GAAD,QAASC,CAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmCF,GAAnC,CAAT,EATA,CAAP,CAUH,CAZD,CAaH,CAdM","sourcesContent":["import axios from 'axios'\r\nimport { host } from '../../config';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\n// Popup Config: \r\nconst popup = Swal.mixin({\r\n    customClass: {\r\n    confirmButton: 'wizard-pages-active-btn',\r\n    },\r\n    buttonsStyling: false\r\n});\r\n\r\n// Public reply:\r\nexport const detectCurrency = () => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(`https://ipapi.co/json/`)\r\n        .then(res => {\r\n            // console.log('detecting Currency =>', res.data);\r\n\r\n            if(res.data.in_eu) {\r\n                // Europeen ip adress:\r\n                dispatch({\r\n                    type: 'DETECT_CURRENCY',\r\n                    payload: {id: \"EUR\", value: \"€\"},\r\n                });\r\n\r\n            } else {\r\n                // Not europeen ip adress\r\n                if(res.data.currency === \"TND\") {\r\n                    // Tunisian IP\r\n                    dispatch({\r\n                        type: 'DETECT_CURRENCY',\r\n                        payload: {id: \"TND\", value: \"TND\"},\r\n                    });\r\n                } else {\r\n                    // ASIA & AMERICA\r\n                    dispatch({\r\n                        type: 'DETECT_CURRENCY',\r\n                        payload: {id: \"USD\", value: \"$\"},\r\n                    });\r\n                }\r\n            }\r\n            \r\n            \r\n        })\r\n        .catch((err) => console.log(\"detecting Currency err\", err));\r\n    }\r\n};\r\n\r\n// Public reply:\r\nexport const getPricingInfos = () => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + `/api/v1/pricing/pricing`)\r\n        .then(res => {\r\n            console.log('getPricingInfos =>', res.data.data);\r\n\r\n            dispatch({\r\n                type: 'GET_PRICING_INFO',\r\n                payload: res.data.data,\r\n            });\r\n        })\r\n        .catch((err) => console.log(\"getPricingInfos err\", err));\r\n    }\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}