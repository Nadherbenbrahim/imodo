{"ast":null,"code":"import axios from'axios';import{host}from'../../config';import Swal from'sweetalert2/dist/sweetalert2.js';var sha1=require('sha1');// const md5Password = \"bd$inC96\";\n// Popup Config: \nvar popup=Swal.mixin({customClass:{confirmButton:'wizard-pages-active-btn'},buttonsStyling:false});var paymentHost=\"https://preprod.gpgcheckout.com/Paiement_test/Validation_paiement.php\";// const paymentHost = \"https://preprod.gpgcheckout.com/Paiement_test\";\nvar userNamePayment=\"MAR868\";var md5Password=\"6677f06ff9439a26d5dd81d49931662f\";export var payPlan=function payPlan(lang){return function(dispatch){// Devise TND\n// let objectToSend = {\n//     NumSite: \"MAR868\",\n//     Password: \"6677f06ff9439a26d5dd81d49931662f\",\n//     orderID: \"modo69\",\n//     orderId: \"modo69\",\n//     EMAIL: \"enis@msl.com\",\n//     CustLastName: \"Ayechi\",\n//     CustFirstName: \"Enis\",\n//     CustAddress: \"CUN\",\n//     CustTel: \"58000111\",\n//     Langue: \"fr\",\n//     Amount: 50000,\n//     Currency: \"TND\",\n//     PayementType: \"1\",\n//     orderProducts: \"ProPlanmodo\",\n//     // signature: sha1(\"MAR868\"+\"bd$inC96\"+\"MODO-TEST-255\"+50000+\"TND\"),\n//     signature: sha1(\"MAR868\"+\"bd$inC96\"+\"modo69\"+50000+\"TND\"),\n//     vad: \"258500003\",\n// };\nvar formData=new FormData();var config={headers:{'Content-Type':'application/x-www-form-urlencoded'//'Content-Type': 'multipart/form-data',\n}};formData.append('NumSite',\"MAR868\");formData.append('Password',\"6677f06ff9439a26d5dd81d49931662f\");formData.append('orderID',\"jd16545\");formData.append('EMAIL',\"enis@msl.com\");formData.append('CustLastName',\"Ayechi\");formData.append('CustFirstName',\"Enis\");formData.append('CustAddress',\"CUN\");formData.append('CustTel',\"58000111\");formData.append('Langue',\"fr\");formData.append('Amount',50000);formData.append('Currency','788');formData.append('PayementType',1);formData.append('orderProducts','ProPlanmodo');formData.append('signature',\"a4e89069986101358797b5bc27779c4fd93dd676\");formData.append('vad','258500003');formData.append('Terminal',parseInt(\"001\"));return axios.post(\"https://preprod.gpgcheckout.com/Paiement_test/Validation_paiement.php\",formData,config).then(function(res){console.log('payPlan =>',res.data);}).catch(function(err){return console.log(\"payPlan err\",err);});// return axios.post(paymentHost,objectToSend,config)\n// Devise etrangere\n// let objectToSend = {\n//     NumSite: userNamePayment,\n//     Password: md5Password,\n//     orderID: \"MODO-TEST-1\",\n//     Langue: lang,\n//     AmountSecond: 10,\n// };\n};};export var detectCurrency=function detectCurrency(){return function(dispatch){return axios.get(\"https://ipapi.co/json/\").then(function(res){// console.log('detecting Currency =>', res.data);\nif(res.data.in_eu){// Europeen ip adress:\ndispatch({type:'DETECT_CURRENCY',payload:{id:\"EUR\",key:978,value:\"€\"}});}else{// Not europeen ip adress\nif(res.data.currency===\"TND\"){// Tunisian IP\ndispatch({type:'DETECT_CURRENCY',payload:{id:\"TND\",key:840,value:\"TND\"}});}else{// ASIA & AMERICA\ndispatch({type:'DETECT_CURRENCY',payload:{id:\"USD\",key:788,value:\"$\"}});}}}).catch(function(err){return console.log(\"detecting Currency err\",err);});};};export var getPricingInfos=function getPricingInfos(){return function(dispatch){return axios.get(host+\"/api/v1/pricing/pricing\").then(function(res){console.log('getPricingInfos =>',res.data.data);dispatch({type:'GET_PRICING_INFO',payload:res.data.data});}).catch(function(err){return console.log(\"getPricingInfos err\",err);});};};","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/redux/actions/billingActions.js"],"names":["axios","host","Swal","sha1","require","popup","mixin","customClass","confirmButton","buttonsStyling","paymentHost","userNamePayment","md5Password","payPlan","lang","dispatch","formData","FormData","config","headers","append","parseInt","post","then","res","console","log","data","catch","err","detectCurrency","get","in_eu","type","payload","id","key","value","currency","getPricingInfos"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { host } from '../../config';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\nvar sha1 = require('sha1');\r\n// const md5Password = \"bd$inC96\";\r\n\r\n// Popup Config: \r\nconst popup = Swal.mixin({\r\n    customClass: {\r\n    confirmButton: 'wizard-pages-active-btn',\r\n    },\r\n    buttonsStyling: false\r\n});\r\n\r\nconst paymentHost = \"https://preprod.gpgcheckout.com/Paiement_test/Validation_paiement.php\";\r\n// const paymentHost = \"https://preprod.gpgcheckout.com/Paiement_test\";\r\nconst userNamePayment = \"MAR868\";\r\nconst md5Password = \"6677f06ff9439a26d5dd81d49931662f\";\r\n\r\nexport const payPlan = (lang) => {\r\n    return (dispatch) => {\r\n\r\n        \r\n        // Devise TND\r\n        // let objectToSend = {\r\n            //     NumSite: \"MAR868\",\r\n            //     Password: \"6677f06ff9439a26d5dd81d49931662f\",\r\n            //     orderID: \"modo69\",\r\n            //     orderId: \"modo69\",\r\n            //     EMAIL: \"enis@msl.com\",\r\n            //     CustLastName: \"Ayechi\",\r\n            //     CustFirstName: \"Enis\",\r\n            //     CustAddress: \"CUN\",\r\n            //     CustTel: \"58000111\",\r\n            //     Langue: \"fr\",\r\n            //     Amount: 50000,\r\n            //     Currency: \"TND\",\r\n            //     PayementType: \"1\",\r\n            //     orderProducts: \"ProPlanmodo\",\r\n            //     // signature: sha1(\"MAR868\"+\"bd$inC96\"+\"MODO-TEST-255\"+50000+\"TND\"),\r\n            //     signature: sha1(\"MAR868\"+\"bd$inC96\"+\"modo69\"+50000+\"TND\"),\r\n            //     vad: \"258500003\",\r\n            // };\r\n            \r\n        \r\n        let formData = new FormData();\r\n        \r\n        const config = {\r\n            headers: {\r\n              'Content-Type': 'application/x-www-form-urlencoded',\r\n            //'Content-Type': 'multipart/form-data',\r\n            }\r\n        };\r\n\r\n        formData.append('NumSite', \"MAR868\");\r\n        formData.append('Password', \"6677f06ff9439a26d5dd81d49931662f\");\r\n        formData.append('orderID', \"jd16545\");\r\n        formData.append('EMAIL', \"enis@msl.com\");\r\n        formData.append('CustLastName', \"Ayechi\");\r\n        formData.append('CustFirstName', \"Enis\");\r\n        formData.append('CustAddress', \"CUN\");\r\n        formData.append('CustTel', \"58000111\");\r\n        formData.append('Langue', \"fr\");\r\n        formData.append('Amount', 50000);\r\n        formData.append('Currency', '788');\r\n        formData.append('PayementType', 1);\r\n        formData.append('orderProducts', 'ProPlanmodo');\r\n        formData.append('signature', \"a4e89069986101358797b5bc27779c4fd93dd676\");\r\n        formData.append('vad', '258500003');\r\n        formData.append('Terminal', parseInt(\"001\"));\r\n\r\n\r\n    \r\n        return axios.post(\"https://preprod.gpgcheckout.com/Paiement_test/Validation_paiement.php\",formData,config)\r\n        .then(res => {\r\n            console.log('payPlan =>', res.data);\r\n        })\r\n        .catch((err) => console.log(\"payPlan err\", err));\r\n        \r\n        \r\n        // return axios.post(paymentHost,objectToSend,config)\r\n        // Devise etrangere\r\n        // let objectToSend = {\r\n        //     NumSite: userNamePayment,\r\n        //     Password: md5Password,\r\n        //     orderID: \"MODO-TEST-1\",\r\n        //     Langue: lang,\r\n        //     AmountSecond: 10,\r\n        // };\r\n    }\r\n};\r\n\r\nexport const detectCurrency = () => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(`https://ipapi.co/json/`)\r\n        .then(res => {\r\n            // console.log('detecting Currency =>', res.data);\r\n\r\n            if(res.data.in_eu) {\r\n                // Europeen ip adress:\r\n                dispatch({\r\n                    type: 'DETECT_CURRENCY',\r\n                    payload: {id: \"EUR\", key: 978, value: \"€\"},\r\n                });\r\n\r\n            } else {\r\n                // Not europeen ip adress\r\n                if(res.data.currency === \"TND\") {\r\n                    // Tunisian IP\r\n                    dispatch({\r\n                        type: 'DETECT_CURRENCY',\r\n                        payload: {id: \"TND\", key: 840,  value: \"TND\"},\r\n                    });\r\n                } else {\r\n                    // ASIA & AMERICA\r\n                    dispatch({\r\n                        type: 'DETECT_CURRENCY',\r\n                        payload: {id: \"USD\", key: 788,  value: \"$\"},\r\n                    });\r\n                }\r\n            }\r\n            \r\n            \r\n        })\r\n        .catch((err) => console.log(\"detecting Currency err\", err));\r\n    }\r\n};\r\n\r\nexport const getPricingInfos = () => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + `/api/v1/pricing/pricing`)\r\n        .then(res => {\r\n            console.log('getPricingInfos =>', res.data.data);\r\n\r\n            dispatch({\r\n                type: 'GET_PRICING_INFO',\r\n                payload: res.data.data,\r\n            });\r\n        })\r\n        .catch((err) => console.log(\"getPricingInfos err\", err));\r\n    }\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}