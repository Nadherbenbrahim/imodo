{"ast":null,"code":"import _objectSpread from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{host,trainAgentHost}from'../../config';// Step 4 train agent:\nexport var testAgent=function testAgent(msg,intentType,selectedPage,selectedPost){return function(dispatch){// Object to send\nvar message={message:{text:msg},idPost:intentType===\"generic\"?selectedPage.id:selectedPost.id};console.log(\"Test agent to send ya nadher\",message);return axios.post(host+\"/api/v1/secure/logEvent/test/wizard\",message,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('testAgent post APi Response =>',res.data.data);dispatch({type:'RECEIVE_MSG_STEP_4',payload:res.data.data});}).catch(function(err){return console.log(\"testAgent post Api error  =>\",err);});};};export var trainAgentPost=function trainAgentPost(selectedIntents,idProject){return function(dispatch){var intentsToStr='';var entitiesToStr='';selectedIntents.map(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(intent){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:intentsToStr+=\"\".concat(intent.name,\",\");if(!(intent.products.length>0)){_context.next=4;break;}_context.next=4;return intent.products.map(function(product){return entitiesToStr+=\"\".concat(product.product,\",\");});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());var objectToNlp={intents:intentsToStr,entiti:entitiesToStr,idProject:idProject};console.log(\"Send Train agent Post to nadher =>\",objectToNlp);return axios.post(trainAgentHost+\"/trainagentpos\",objectToNlp,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('Train Agent Post =>',res.data);}).catch(function(err){return console.log(\"ERRRROOOOR while train agent Post =>\",err);});};};export var trainAgentPage=function trainAgentPage(selectedIntents,idProject){return function(dispatch){var intentsToStr='';var entitiesToStr='';selectedIntents.map(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(intent){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:intentsToStr+=\"\".concat(intent.name,\",\");if(!(intent.products.length>0)){_context2.next=4;break;}_context2.next=4;return intent.products.map(function(product){return entitiesToStr+=\"\".concat(product.product,\",\");});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());var objectToNlp={intents:intentsToStr,entiti:entitiesToStr,idProject:idProject};console.log(\"Train agent page to nadher =>\",objectToNlp);return axios.post(trainAgentHost+\"/trainagentpag\",objectToNlp,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('Train Agent Page =>',res.data);}).catch(function(err){return console.log(\"ERRRROOOOR while train agent page =>\",err);});};};// Step 3: config agent :\nexport var resetStep3Wizard=function resetStep3Wizard(){return function(dispatch){dispatch({type:'RESET_STEP_3'});};};export var resetWizardPostSelected=function resetWizardPostSelected(){return function(dispatch){dispatch({type:'RESET_WIZARD_POST'});};};export var resetWizardPageSelected=function resetWizardPageSelected(){return function(dispatch){dispatch({type:'RESET_WIZARD_PAGE'});};};export var getExistingProject=function getExistingProject(idProject){return function(dispatch){return axios.get(host+\"/api/v1/secure/project/get/project/\".concat(idProject),{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('getExistingProject response redux =>',res.data.data);if(res.data.data[0].intents.length>0){dispatch({type:'IS_EXISTING_PROJECT',payload:res.data.data[0],payload1:res.data.data[0].intents});}}).catch(function(err){return console.log(\"ERRRROOOOR while getExistingProject =>\",err);});};};export var addGenericResponse=function addGenericResponse(project,idproject){return function(dispatch){return axios.put(host+\"/api/v1/secure/project/generiqueadd/\".concat(idproject),project,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('addReponseGeneric Redux =>',res.data);}).catch(function(err){return console.log(\"AddGenericResponse errorrr\",err);});};};export var updateGenericResponse=function updateGenericResponse(project,idproject){return function(dispatch){return axios.put(host+\"/api/v1/secure/project/generiqueupdate/\".concat(idproject),project,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){return console.log('updateReponseGeneric redux ',res.data);}).catch(function(err){return console.log(\"Update GenericResponse err\",err);});};};export var addProject=function addProject(wizardSelectedPage,wizardSelectedPost){return function(dispatch){var post;if(wizardSelectedPage.platform===\"instagram\"){post={post:{idPage:wizardSelectedPage.id,name:wizardSelectedPage.name,typePage:wizardSelectedPage.platform,idPost:wizardSelectedPost!==null?wizardSelectedPost.idPost:[],picture:wizardSelectedPost!==null?wizardSelectedPost.picture:null,message:wizardSelectedPost!==null?wizardSelectedPost.message:null,status:wizardSelectedPost!==null?wizardSelectedPost.type:null,published:wizardSelectedPost!==null?wizardSelectedPost.created_time:null}};}else{post={post:{idPage:wizardSelectedPage.id,name:wizardSelectedPage.name,typePage:wizardSelectedPage.platform,idPost:wizardSelectedPost!==null?wizardSelectedPost.id:[],picture:wizardSelectedPost!==null?wizardSelectedPost.picture:null,message:wizardSelectedPost!==null?wizardSelectedPost.message:null,status:wizardSelectedPost!==null?wizardSelectedPost.type:null,published:wizardSelectedPost!==null?wizardSelectedPost.created_time:null}};}return axios.post(host+\"/api/v1/secure/project/add\",post,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('project added his id is =>',res.data.data);dispatch({type:'ADD_ID_PROJECT',payload:res.data.data});}).catch(function(err){console.log(\"addProject action\",err);});};};export var getAllIntents=function getAllIntents(intentType){return function(dispatch){return axios.get(host+(intentType===\"generic\"?\"/api/v1/intent/generiqueintent/all\":\"/api/v1/intent/defaulintent/all\"),{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){// console.log(`get ${intentType} intents`, res.data.data);\nvar obj=[];var newData={};for(var i=0;i<res.data.data.length;i++){obj=_defineProperty({},res.data.data[i]['intent'],{id:res.data.data[i]['id'],name:res.data.data[i]['intent'],date:res.data.data[i]['date']});newData=_objectSpread(_objectSpread({},newData),obj);};/*\r\n                     if u want full intent object send newData :D \r\n                    // console.log(\"Hey new data filtered :D\", newData);\r\n                */dispatch({type:'GET_ALL_WIZARD_INTENTS',payload:Object.keys(newData)});}).catch(function(err){return console.log(\"Get all intents action\",err);});};};export var getWizardPagesPosts=function getWizardPagesPosts(wizardPage){return function(dispatch){return axios.get(host+\"/api/v1/secure/post/get/\".concat(wizardPage.id,\"/\").concat(wizardPage.platform,\"/all\"),{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){// console.log(\"posts ya haaaaaiiderrr\",res.data.data);\n// res.data.data.map((post, index) => {\n//     let createdTime = new Date(Date.parse(post.created_time));\n//     console.log(index, ' :=> ', createdTime)\n// });\n// let toSort = res.data.data;\nres.data.data.sort(function(a,b){// Turn your strings into dates, and then subtract them\n// to get a value that is either negative, positive, or zero.\nreturn new Date(Date.parse(b.created_time))-new Date(Date.parse(a.created_time));});// console.log(\"Final\", toSort);\ndispatch({type:'GET_WIZARD_PAGE_POSTS',payload:res.data.data});}).catch(function(err){return console.log(\"getWizardPagesPosts \",err);});};};export var setWizardSelectedPost=function setWizardSelectedPost(post){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:'SELECT_WIZARD_POST',payload:post});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var setWizardIntentType=function setWizardIntentType(intentType,navigation){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:'SELECT_WIZARD_INTENT_TYPE',payload:intentType});navigation.push('/home/auto-wizard');case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var setWizardSelectedPage=function setWizardSelectedPage(platform,pageName,picture,idPage,accessToken,status){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var selectedPage;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:selectedPage={platform:platform===\"insta\"?\"instagram\":\"facebook\",name:pageName,picture_url:picture!==null?picture:\"https://graph.facebook.com/v8.0/\".concat(idPage,\"/picture?access_token=\").concat(accessToken),id:idPage,accessToken:accessToken,status:status};dispatch({type:'SELECT_WIZARD_PAGE',payload:selectedPage});case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var nextSpecificWizardStep=function nextSpecificWizardStep(step){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:dispatch({type:'NEXT_SPECIFIC_WIZARD_STEP',payload:step});case 1:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var nextWizardStep=function nextWizardStep(){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispatch({type:'NEXT_WIZARD_STEP'});case 1:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var prevWizardStep=function prevWizardStep(){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:dispatch({type:'PREV_WIZARD_STEP'});case 1:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x8){return _ref8.apply(this,arguments);};}();};export var resetWizardStep=function resetWizardStep(){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:dispatch({type:'RESET_WIZARD_STEP'});case 1:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x9){return _ref9.apply(this,arguments);};}();};export var resetَAllWizard=function resetَAllWizard(){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:dispatch({type:'RESET_ALL_WIZARD'});case 1:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x10){return _ref10.apply(this,arguments);};}();};","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/redux/actions/wizardActions.js"],"names":["axios","host","trainAgentHost","testAgent","msg","intentType","selectedPage","selectedPost","dispatch","message","text","idPost","id","console","log","post","headers","localStorage","getItem","then","res","data","type","payload","catch","err","trainAgentPost","selectedIntents","idProject","intentsToStr","entitiesToStr","map","intent","name","products","length","product","objectToNlp","intents","entiti","trainAgentPage","resetStep3Wizard","resetWizardPostSelected","resetWizardPageSelected","getExistingProject","get","payload1","addGenericResponse","project","idproject","put","updateGenericResponse","addProject","wizardSelectedPage","wizardSelectedPost","platform","idPage","typePage","picture","status","published","created_time","getAllIntents","obj","newData","i","date","Object","keys","getWizardPagesPosts","wizardPage","sort","a","b","Date","parse","setWizardSelectedPost","setWizardIntentType","navigation","push","setWizardSelectedPage","pageName","accessToken","picture_url","nextSpecificWizardStep","step","nextWizardStep","prevWizardStep","resetWizardStep","resetَAllWizard"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { host,trainAgentHost } from '../../config';\r\n\r\n\r\n// Step 4 train agent:\r\nexport const testAgent = (msg,intentType,selectedPage,selectedPost) => {\r\n    return (dispatch) => {\r\n        \r\n        // Object to send\r\n        let message = {\r\n            message: { text: msg},\r\n            idPost: intentType === \"generic\" ? selectedPage.id : selectedPost.id,\r\n        };\r\n\r\n        console.log(\"Test agent to send ya nadher\", message);\r\n\r\n       \r\n        return axios.post(host + `/api/v1/secure/logEvent/test/wizard`,message,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('testAgent post APi Response =>', res.data.data);\r\n\r\n            dispatch({\r\n                type: 'RECEIVE_MSG_STEP_4',\r\n                payload: res.data.data,\r\n            });\r\n        })\r\n        .catch((err) => console.log(\"testAgent post Api error  =>\", err) )\r\n    }\r\n};\r\n\r\nexport const trainAgentPost = (selectedIntents,idProject) => {\r\n    return (dispatch) => {\r\n        let intentsToStr = ''; \r\n        let entitiesToStr= '';\r\n\r\n        selectedIntents.map( async (intent) => {\r\n            intentsToStr += `${intent.name},`\r\n            if(intent.products.length > 0) {\r\n                await intent.products.map((product) => \r\n                    entitiesToStr += `${product.product},`\r\n                );\r\n            }\r\n        });\r\n\r\n        let objectToNlp = {\r\n            intents: intentsToStr,\r\n            entiti: entitiesToStr,\r\n            idProject: idProject,\r\n        }  \r\n        console.log(\"Send Train agent Post to nadher =>\", objectToNlp);\r\n\r\n        return axios.post(trainAgentHost + `/trainagentpos`,objectToNlp,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n               console.log('Train Agent Post =>', res.data)\r\n                \r\n        }).catch((err) => console.log(\"ERRRROOOOR while train agent Post =>\", err) )\r\n    }\r\n};\r\n\r\nexport const trainAgentPage = (selectedIntents,idProject) => {\r\n    return (dispatch) => {\r\n        let intentsToStr = ''; \r\n        let entitiesToStr= '';\r\n\r\n        selectedIntents.map( async (intent) => {\r\n            intentsToStr += `${intent.name},`\r\n            if(intent.products.length > 0) {\r\n                await intent.products.map((product) => \r\n                    entitiesToStr += `${product.product},`\r\n                );\r\n            }\r\n        });\r\n\r\n        let objectToNlp = {\r\n            intents: intentsToStr,\r\n            entiti: entitiesToStr,\r\n            idProject: idProject,\r\n        }\r\n\r\n        console.log(\"Train agent page to nadher =>\", objectToNlp);\r\n\r\n        return axios.post(trainAgentHost + `/trainagentpag`,objectToNlp,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('Train Agent Page =>', res.data) \r\n        }).catch((err) => console.log(\"ERRRROOOOR while train agent page =>\", err) )\r\n    }\r\n};\r\n\r\n\r\n// Step 3: config agent :\r\n\r\n\r\nexport const resetStep3Wizard = () => {\r\n    return (dispatch) => {\r\n        dispatch({ type: 'RESET_STEP_3' });\r\n    }\r\n};\r\n\r\nexport const resetWizardPostSelected = () => {\r\n    return (dispatch) => {\r\n        dispatch({ type: 'RESET_WIZARD_POST' });\r\n    }\r\n};\r\n\r\nexport const resetWizardPageSelected = () => {\r\n    return (dispatch) => {\r\n        dispatch({ type: 'RESET_WIZARD_PAGE' });\r\n    }\r\n};\r\n\r\nexport const getExistingProject = (idProject) => {\r\n    return (dispatch) => {\r\n        return axios.get(host + `/api/v1/secure/project/get/project/${idProject}`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('getExistingProject response redux =>', res.data.data);\r\n\r\n            if(res.data.data[0].intents.length > 0) {\r\n                dispatch({\r\n                    type: 'IS_EXISTING_PROJECT',\r\n                    payload: res.data.data[0],\r\n                    payload1: res.data.data[0].intents,\r\n                });\r\n            }\r\n        })\r\n        .catch(err => console.log(\"ERRRROOOOR while getExistingProject =>\", err))\r\n    }\r\n};\r\n\r\n\r\nexport const addGenericResponse = (project, idproject) => {\r\n    return (dispatch) => {\r\n       \r\n        return axios.put(host + `/api/v1/secure/project/generiqueadd/${idproject}`, project, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {  console.log('addReponseGeneric Redux =>', res.data) })\r\n        .catch((err) => console.log(\"AddGenericResponse errorrr\", err))\r\n    }\r\n};\r\n\r\nexport const updateGenericResponse = (project, idproject) => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.put(host + `/api/v1/secure/project/generiqueupdate/${idproject}`, project, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => console.log('updateReponseGeneric redux ', res.data))\r\n        .catch((err) => console.log(\"Update GenericResponse err\", err))\r\n    }\r\n};\r\n\r\nexport const addProject = (wizardSelectedPage,wizardSelectedPost) => {\r\n    return (dispatch) => {\r\n\r\n        let post;\r\n\r\n        if(wizardSelectedPage.platform === \"instagram\") {\r\n            post = {\r\n                post : {\r\n                    idPage: wizardSelectedPage.id,\r\n                    name: wizardSelectedPage.name,\r\n                    typePage: wizardSelectedPage.platform,\r\n                    idPost: wizardSelectedPost !== null ? wizardSelectedPost.idPost : [],\r\n                    picture: wizardSelectedPost !== null ? wizardSelectedPost.picture : null,\r\n                    message: wizardSelectedPost !== null ? wizardSelectedPost.message : null,\r\n                    status: wizardSelectedPost !== null ? wizardSelectedPost.type : null,\r\n                    published: wizardSelectedPost !== null ? wizardSelectedPost.created_time : null,\r\n\r\n                }\r\n            };\r\n        } else {\r\n                post = {\r\n                    post : {\r\n                        idPage: wizardSelectedPage.id,\r\n                        name: wizardSelectedPage.name,\r\n                        typePage: wizardSelectedPage.platform,\r\n                        idPost: wizardSelectedPost !== null ? wizardSelectedPost.id : [],\r\n                        picture: wizardSelectedPost !== null ? wizardSelectedPost.picture : null,\r\n                        message: wizardSelectedPost !== null ? wizardSelectedPost.message : null,\r\n                        status: wizardSelectedPost !== null ? wizardSelectedPost.type : null,\r\n                        published: wizardSelectedPost !== null ? wizardSelectedPost.created_time : null,\r\n                    }\r\n                };\r\n        }\r\n\r\n        return axios.post(host + `/api/v1/secure/project/add`,post,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('project added his id is =>', res.data.data);\r\n\r\n            dispatch({\r\n                type: 'ADD_ID_PROJECT',\r\n                payload: res.data.data\r\n            })\r\n        }).catch(err => {\r\n            console.log(\"addProject action\", err);\r\n        })\r\n    }\r\n};\r\n\r\nexport const getAllIntents = (intentType) => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + (intentType === \"generic\" ? `/api/v1/intent/generiqueintent/all` : `/api/v1/intent/defaulintent/all`), {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n            .then(res => {\r\n                // console.log(`get ${intentType} intents`, res.data.data);\r\n\r\n                let obj = [];\r\n                let newData = {}\r\n\r\n                for (let i = 0; i < res.data.data.length; i++) {\r\n                    obj = {\r\n                      [res.data.data[i]['intent']]: {\r\n                          id: res.data.data[i]['id'],\r\n                          name: res.data.data[i]['intent'],\r\n                          date: res.data.data[i]['date']\r\n                      }\r\n                    }\r\n                    newData = { ...newData, ...obj }\r\n                };\r\n\r\n                /*\r\n                     if u want full intent object send newData :D \r\n                    // console.log(\"Hey new data filtered :D\", newData);\r\n                */\r\n\r\n                dispatch({\r\n                    type: 'GET_ALL_WIZARD_INTENTS',\r\n                    payload: Object.keys(newData)\r\n                })\r\n               \r\n            }).catch((err) => console.log(\"Get all intents action\", err))\r\n    }\r\n};\r\n\r\nexport const getWizardPagesPosts = (wizardPage) => {\r\n    return (dispatch) => {\r\n\r\n        return axios.get(host + `/api/v1/secure/post/get/${wizardPage.id}/${wizardPage.platform}/all`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log(\"posts ya haaaaaiiderrr\",res.data.data);\r\n\r\n            // res.data.data.map((post, index) => {\r\n            //     let createdTime = new Date(Date.parse(post.created_time));\r\n\r\n            //     console.log(index, ' :=> ', createdTime)\r\n            // });\r\n            \r\n            // let toSort = res.data.data;\r\n\r\n            res.data.data.sort(function(a,b){\r\n                // Turn your strings into dates, and then subtract them\r\n                // to get a value that is either negative, positive, or zero.\r\n                return new Date(Date.parse(b.created_time)) - new Date(Date.parse(a.created_time));\r\n            });\r\n\r\n\r\n\r\n            // console.log(\"Final\", toSort);\r\n\r\n            dispatch({\r\n                type: 'GET_WIZARD_PAGE_POSTS',\r\n                payload: res.data.data\r\n            })\r\n        }).catch((err) => console.log(\"getWizardPagesPosts \", err))\r\n    }\r\n};\r\n\r\nexport const setWizardSelectedPost = (post) => {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'SELECT_WIZARD_POST', \r\n            payload: post,\r\n        });\r\n    }\r\n};\r\n\r\nexport const setWizardIntentType = (intentType,navigation) => {\r\n    return async (dispatch) => {\r\n\r\n        dispatch({\r\n            type: 'SELECT_WIZARD_INTENT_TYPE', \r\n            payload: intentType,\r\n        });\r\n        navigation.push('/home/auto-wizard')\r\n    }\r\n};\r\n\r\nexport const setWizardSelectedPage = (platform,pageName,picture,idPage,accessToken,status) => {\r\n    return async (dispatch) => {\r\n\r\n        const selectedPage = {\r\n            platform: platform === \"insta\" ? \"instagram\" : \"facebook\",\r\n            name: pageName,\r\n            picture_url : picture !== null ? picture : `https://graph.facebook.com/v8.0/${idPage}/picture?access_token=${accessToken}`,\r\n            id: idPage,\r\n            accessToken: accessToken,\r\n            status: status\r\n        };\r\n\r\n        dispatch({\r\n            type: 'SELECT_WIZARD_PAGE', \r\n            payload: selectedPage,\r\n        });\r\n    }\r\n};\r\n\r\nexport const nextSpecificWizardStep = (step) => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: 'NEXT_SPECIFIC_WIZARD_STEP',payload: step });\r\n    }\r\n};\r\n\r\nexport const nextWizardStep = () => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: 'NEXT_WIZARD_STEP' });\r\n    }\r\n};\r\n\r\nexport const prevWizardStep = () => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: 'PREV_WIZARD_STEP' });\r\n    }\r\n};\r\n\r\nexport const resetWizardStep = () => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: 'RESET_WIZARD_STEP' });\r\n    }\r\n};\r\n\r\nexport const resetَAllWizard = () => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: 'RESET_ALL_WIZARD' });\r\n    }\r\n};\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}