{"ast":null,"code":"import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,Fragment,useState}from'react';import TopMenu from'../components/TopMenu';import{withRouter,Link}from'react-router-dom';import{connect}from'react-redux';import{nlptest,trainagent,unTrained,removechatAction as _removechatAction}from'../actions';import socket,{sendMessage,getMessage}from'../sockets/chat';import{chatAction}from'../actions/index';import Chat from'../components/Chat';import Loader from'react-loader-spinner';import ActivateAgent from'../components/ActivateAgent';function TestAgent(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),submited=_useState2[0],setsubmited=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showlive=_useState4[0],_setshowlive=_useState4[1];useEffect(function(){props.unTrainedAgent();if(!props.porject.trained){props.train(props.porject);}console.log(\"test Agent\",props.porject.post.page.idPage,props.porject.post.idPost);var data={idProject:props.porject._id,intents:props.porject.intents.map(function(el){return el.name;}),entiti:props.porject.entities.filter(function(el){return el.default==false;}).map(function(el){return el.name;}),idPost:props.porject.post.idPost,idPage:props.porject.post.page.idPage};console.log(\"datafiltred \",data);props.trainAgent(data).then(function(){return getMessage(props.chat,setsubmited);});},[]);var handelSubmit=function handelSubmit(e){e.preventDefault();if(!e.target.message.value)return;var obj={message:{text:e.target.message.value,dateSend:Date.now().toString()},idPost:props.porject.post.idPost};setsubmited(true);sendMessage(obj);e.currentTarget.reset();};function getUnique(arr){// // store the comparison  values in array\n// const unique = arr.map(e => e[\"send\"][\"text\"])\n//     // store the indexes of the unique objects\n//     .map((e, i, final) => final.indexOf(e) === i && i)\n//     // eliminate the false indexes & return unique objects\n//     .filter((e) => arr[e]).map(e => arr[e]);\n// console.log(\"unique \", unique)\n// return unique;\nvar b=arr.filter(function(item,pos,arr){// Always keep the 0th element as there is nothing before it\n// Then check if each element is different than the one before it\nreturn pos===0||item[\"send\"][\"text\"]!==arr[pos-1][\"send\"][\"text\"];});return b;}return React.createElement(\"div\",null,React.createElement(TopMenu,null),React.createElement(\"div\",{style:{paddingLeft:30,paddingRight:30,paddingTop:30}},React.createElement(\"h1\",{style:{fontSize:30,color:\"rgba(45, 47, 57, 1)\",textAlign:\"center\"}},\"iModo Wizard\"),React.createElement(\"svg\",{style:{marginTop:50,marginBottom:50,marginLeft:\"auto\",marginRight:\"auto\",display:\"block\"},xmlns:\"http://www.w3.org/2000/svg\",width:\"828\",height:\"63\",viewBox:\"0 0 828 63\"},React.createElement(\"g\",{id:\"Groupe_1164\",\"data-name\":\"Groupe 1164\",transform:\"translate(-684 -251)\"},React.createElement(\"g\",{id:\"step\",transform:\"translate(-509 -438)\"},React.createElement(\"text\",{id:\"Page_Selection\",\"data-name\":\"Page Selection\",transform:\"translate(1249 747)\",fill:\"#e5007d\",\"font-size\":\"15\",\"font-family\":\"Poppins-Medium, Poppins\",\"font-weight\":\"500\"},React.createElement(\"tspan\",{x:\"-55.898\",y:\"0\"},\"Page Selection\")),React.createElement(\"circle\",{id:\"Ellipse\",cx:\"19\",cy:\"19\",r:\"19\",transform:\"translate(1230 689)\",fill:\"#e5007d\",opacity:\"0.25\"}),React.createElement(\"path\",{id:\"Line\",d:\"M0,0H1V180H0Z\",transform:\"translate(1457.702 708.5) rotate(90)\",fill:\"#e5007d\"}),React.createElement(\"path\",{id:\"Icon_awesome-check\",\"data-name\":\"Icon awesome-check\",d:\"M4.94,15.21.213,10.483a.727.727,0,0,1,0-1.028L1.241,8.426a.727.727,0,0,1,1.028,0L5.454,11.61l6.82-6.82a.727.727,0,0,1,1.028,0l1.028,1.028a.727.727,0,0,1,0,1.028L5.968,15.21A.727.727,0,0,1,4.94,15.21Z\",transform:\"translate(1242.001 698.423)\",fill:\"#fff\"})),React.createElement(\"g\",{id:\"step-2\",\"data-name\":\"step\",transform:\"translate(-273 -438)\"},React.createElement(\"text\",{id:\"Post_Selection\",\"data-name\":\"Post Selection\",transform:\"translate(1249 747)\",fill:\"#e5007d\",\"font-size\":\"15\",\"font-family\":\"Poppins-Medium, Poppins\",\"font-weight\":\"500\"},React.createElement(\"tspan\",{x:\"-52.68\",y:\"0\"},\"Post Selection\")),React.createElement(\"circle\",{id:\"Ellipse-2\",\"data-name\":\"Ellipse\",cx:\"19\",cy:\"19\",r:\"19\",transform:\"translate(1230 689)\",fill:\"#e5007d\",opacity:\"0.25\"}),React.createElement(\"path\",{id:\"Line-2\",\"data-name\":\"Line\",d:\"M0,0H1V180H0Z\",transform:\"translate(1457.702 708.5) rotate(90)\",fill:\"#e5007d\"}),React.createElement(\"path\",{id:\"Icon_awesome-check-2\",\"data-name\":\"Icon awesome-check\",d:\"M4.94,15.21.213,10.483a.727.727,0,0,1,0-1.028L1.241,8.426a.727.727,0,0,1,1.028,0L5.454,11.61l6.82-6.82a.727.727,0,0,1,1.028,0l1.028,1.028a.727.727,0,0,1,0,1.028L5.968,15.21A.727.727,0,0,1,4.94,15.21Z\",transform:\"translate(1242.001 698.423)\",fill:\"#fff\"})),React.createElement(\"g\",{id:\"step-3\",\"data-name\":\"step\",transform:\"translate(-37 -438)\"},React.createElement(\"text\",{id:\"Automation_config\",\"data-name\":\"Automation config\",transform:\"translate(1249 747)\",fill:\"#e5007d\",\"font-size\":\"15\",\"font-family\":\"Poppins-Medium, Poppins\",\"font-weight\":\"500\"},React.createElement(\"tspan\",{x:\"-70.628\",y:\"0\"},\"Automation config\")),React.createElement(\"circle\",{id:\"Ellipse-3\",\"data-name\":\"Ellipse\",cx:\"19\",cy:\"19\",r:\"19\",transform:\"translate(1230 689)\",fill:\"#e5007d\",opacity:\"0.25\"}),React.createElement(\"path\",{id:\"Line-3\",\"data-name\":\"Line\",d:\"M0,0H1V180H0Z\",transform:\"translate(1457.702 708.5) rotate(90)\",fill:\"#e5007d\"}),React.createElement(\"path\",{id:\"Icon_awesome-check-3\",\"data-name\":\"Icon awesome-check\",d:\"M4.94,15.21.213,10.483a.727.727,0,0,1,0-1.028L1.241,8.426a.727.727,0,0,1,1.028,0L5.454,11.61l6.82-6.82a.727.727,0,0,1,1.028,0l1.028,1.028a.727.727,0,0,1,0,1.028L5.968,15.21A.727.727,0,0,1,4.94,15.21Z\",transform:\"translate(1242.001 698.423)\",fill:\"#fff\"})),React.createElement(\"g\",{id:\"step-4\",\"data-name\":\"step\",transform:\"translate(199 -438)\"},React.createElement(\"text\",{id:\"Test_validation\",\"data-name\":\"Test & validation\",transform:\"translate(1249 747)\",fill:\"#e5007d\",\"font-size\":\"15\",\"font-family\":\"Poppins-Medium, Poppins\",\"font-weight\":\"500\"},React.createElement(\"tspan\",{x:\"-63.217\",y:\"0\"},\"Test & validation\")),React.createElement(\"circle\",{id:\"Ellipse-4\",\"data-name\":\"Ellipse\",cx:\"19\",cy:\"19\",r:\"19\",transform:\"translate(1230 689)\",fill:\"#e5007d\",opacity:\"0.25\"}),React.createElement(\"text\",{id:\"_4\",\"data-name\":\"4\",transform:\"translate(1249 714)\",fill:\"#e5007d\",\"font-size\":\"16\",\"font-family\":\"Poppins-SemiBold, Poppins\",\"font-weight\":\"600\"},React.createElement(\"tspan\",{x:\"-5.288\",y:\"0\"},\"4\"))))),React.createElement(\"div\",{style:{background:'#fff',paddingTop:40,paddingLeft:70,paddingRight:70,paddingBottom:40,width:\"70%\",margin:\"auto\"}},React.createElement(\"h3\",null,\"Test Interaction\"),showlive&&React.createElement(ActivateAgent,{porject:props.porject,setshowlive:function setshowlive(){return _setshowlive(false);}}),props.trained?React.createElement(Fragment,null,React.createElement(\"div\",{style:{height:\"400px\",border:\"1px solid lightgray\",margin:\"30px auto\",padding:\"30px\",position:\"relative\",overflowY:\"scroll\",width:\"60%\"}},submited&&React.createElement(\"div\",{className:\"loaderStyle\"},React.createElement(Loader,{type:\"Puff\",color:\"#E5007D\",height:100,width:100,visible:submited})),props.messages.map(function(el){return React.createElement(Chat,{key:el.id,response:el[\"0\"].response,send:el[\"0\"].send});})),React.createElement(\"form\",{onSubmit:handelSubmit,style:{width:\"68%\",margin:\"auto\"}},React.createElement(\"input\",{type:\"text\",style:{height:\"75px\",width:\"93%\",border:\"1px solid lightgray\",padding:\"0 20px\",display:\"block\"},placeholder:\"Your Message...\",name:\"message\",disabled:submited}),React.createElement(\"div\",{style:{textAlign:\"center\"}},React.createElement(\"button\",{type:\"submit\",style:{border:\"none\",background:\"transparent\",padding:0,margin:0,marginTop:\"30px\",cursor:\"pointer\"}},React.createElement(\"svg\",{style:{marginLeft:\"auto\",marginRight:\"auto\",display:\"block\"},xmlns:\"http://www.w3.org/2000/svg\",width:\"153\",height:\"40\",viewBox:\"0 0 153 40\"},React.createElement(\"g\",{id:\"Button\",transform:\"translate(-675 -531)\"},React.createElement(\"rect\",{id:\"Rectangle_1551\",\"data-name\":\"Rectangle 1551\",width:\"153\",height:\"40\",rx:\"4\",transform:\"translate(675 531)\",fill:\"#4080ff\"}),React.createElement(\"text\",{id:\"Test_interaction\",\"data-name\":\"Test interaction\",transform:\"translate(688 557)\",fill:\"#fff\",\"font-size\":\"16\",\"font-family\":\"Poppins-SemiBold, Poppins\",\"font-weight\":\"600\"},React.createElement(\"tspan\",{x:\"0\",y:\"0\"},\"Test interaction\"))))))),React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginTop:\"50px\"}},React.createElement(\"div\",{onClick:function onClick(){props.history.goBack();props.removechatAction();}},React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"125\",height:\"50\",viewBox:\"0 0 125 50\"},React.createElement(\"g\",{id:\"Button\",transform:\"translate(-1376 -914)\"},React.createElement(\"rect\",{id:\"Rectangle_1549\",\"data-name\":\"Rectangle 1549\",width:\"125\",height:\"50\",rx:\"4\",transform:\"translate(1376 914)\",fill:\"#e4e6eb\"}),React.createElement(\"text\",{id:\"Back\",transform:\"translate(1416 946)\",fill:\"#818e94\",\"font-size\":\"20\",\"font-family\":\"Roboto-Bold, Roboto\",\"font-weight\":\"700\"},React.createElement(\"tspan\",{x:\"0\",y:\"0\"},\"Back\"))))),!props.porject.live&&React.createElement(\"div\",{onClick:function onClick(){_setshowlive(true);props.removechatAction();}},React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"122\",height:\"50\",viewBox:\"0 0 122 50\"},React.createElement(\"g\",{id:\"Button\",transform:\"translate(-1427 -914)\"},React.createElement(\"rect\",{id:\"Rectangle_1549\",\"data-name\":\"Rectangle 1549\",width:\"122\",height:\"50\",rx:\"4\",transform:\"translate(1427 914)\",fill:\"#e5007d\"}),React.createElement(\"text\",{id:\"Next\",transform:\"translate(1467 946)\",fill:\"#fff\",\"font-size\":\"20\",\"font-family\":\"Roboto-Bold, Roboto\",\"font-weight\":\"700\"},React.createElement(\"tspan\",{x:\"0\",y:\"0\"},\"Finish\"))))),props.porject.live&&React.createElement(\"div\",{onClick:function onClick(){return props.removechatAction();}},React.createElement(\"div\",{onClick:function onClick(){props.history.push(\"/dachboard/agent/?page=\".concat(props.match.params.id));}},React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"122\",height:\"50\",viewBox:\"0 0 122 50\"},React.createElement(\"g\",{id:\"Button\",transform:\"translate(-1427 -914)\"},React.createElement(\"rect\",{id:\"Rectangle_1549\",\"data-name\":\"Rectangle 1549\",width:\"122\",height:\"50\",rx:\"4\",transform:\"translate(1427 914)\",fill:\"#e5007d\"}),React.createElement(\"text\",{id:\"Next\",transform:\"translate(1460 946)\",fill:\"#fff\",\"font-size\":\"20\",\"font-family\":\"Roboto-Bold, Roboto\",\"font-weight\":\"700\"},React.createElement(\"tspan\",{x:\"0\",y:\"0\"},\"Update\")))))))):React.createElement(\"div\",{style:{textAlign:\"center\"}},React.createElement(Loader,{type:\"Puff\",color:\"#E5007D\",height:100,width:100,visible:!props.trained})))));}var mapStateToProps=function mapStateToProps(state,owenProps){var porject=state.allProjects.find(function(el){return el.post.idPost==owenProps.match.params.idpost;});console.log('test ',porject);return{porject:porject,messages:state.messages,// loadingBar: state.loadingBar,\ntrained:state.trainagent};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{train:function train(projet,id){return dispatch(nlptest(projet,id));},trainAgent:function trainAgent(data){return dispatch(trainagent(data));},chat:function chat(message){return dispatch(chatAction(message));},unTrainedAgent:function unTrainedAgent(){return dispatch(unTrained());},removechatAction:function removechatAction(){return dispatch(_removechatAction());}};};export default withRouter(connect(mapStateToProps,mapDispatchToProps)(TestAgent));","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/dachboard/TestAgent.js"],"names":["React","useEffect","Fragment","useState","TopMenu","withRouter","Link","connect","nlptest","trainagent","unTrained","removechatAction","socket","sendMessage","getMessage","chatAction","Chat","Loader","ActivateAgent","TestAgent","props","submited","setsubmited","showlive","setshowlive","unTrainedAgent","porject","trained","train","console","log","post","page","idPage","idPost","data","idProject","_id","intents","map","el","name","entiti","entities","filter","default","trainAgent","then","chat","handelSubmit","e","preventDefault","target","message","value","obj","text","dateSend","Date","now","toString","currentTarget","reset","getUnique","arr","b","item","pos","paddingLeft","paddingRight","paddingTop","fontSize","color","textAlign","marginTop","marginBottom","marginLeft","marginRight","display","background","paddingBottom","width","margin","height","border","padding","position","overflowY","messages","id","response","send","cursor","justifyContent","history","goBack","live","push","match","params","mapStateToProps","state","owenProps","allProjects","find","idpost","mapDispatchToProps","dispatch","projet"],"mappings":"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","sourcesContent":["import React, { useEffect, Fragment, useState } from 'react'\r\nimport TopMenu from '../components/TopMenu'\r\nimport { withRouter, Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { nlptest, trainagent, unTrained, removechatAction } from '../actions'\r\nimport socket, { sendMessage, getMessage } from '../sockets/chat'\r\nimport { chatAction } from '../actions/index'\r\nimport Chat from '../components/Chat'\r\nimport Loader from 'react-loader-spinner'\r\nimport ActivateAgent from '../components/ActivateAgent'\r\n\r\nfunction TestAgent(props) {\r\n    const [submited, setsubmited] = useState(false)\r\n    const [showlive, setshowlive] = useState(false)\r\n    useEffect(() => {\r\n\r\n        props.unTrainedAgent()\r\n        if (!props.porject.trained) {\r\n            props.train(props.porject)\r\n        }\r\n        console.log(\"test Agent\", props.porject.post.page.idPage, props.porject.post.idPost)\r\n        const data = {\r\n            idProject: props.porject._id,\r\n            intents: props.porject.intents.map(el => el.name),\r\n            entiti: props.porject.entities.filter(el => el.default == false).map(el => el.name),\r\n            idPost: props.porject.post.idPost,\r\n            idPage: props.porject.post.page.idPage\r\n        }\r\n        console.log(\"datafiltred \", data)\r\n        props.trainAgent(data)\r\n            .then(() => getMessage(props.chat, setsubmited))\r\n\r\n    }, [])\r\n    const handelSubmit = (e) => {\r\n        e.preventDefault()\r\n        if (!e.target.message.value) return;\r\n        let obj = {\r\n            message: { text: e.target.message.value, dateSend: Date.now().toString() },\r\n            idPost: props.porject.post.idPost\r\n\r\n        }\r\n        setsubmited(true)\r\n        sendMessage(obj)\r\n        e.currentTarget.reset()\r\n    }\r\n    function getUnique(arr) {\r\n\r\n        // // store the comparison  values in array\r\n        // const unique = arr.map(e => e[\"send\"][\"text\"])\r\n\r\n        //     // store the indexes of the unique objects\r\n        //     .map((e, i, final) => final.indexOf(e) === i && i)\r\n\r\n        //     // eliminate the false indexes & return unique objects\r\n        //     .filter((e) => arr[e]).map(e => arr[e]);\r\n        // console.log(\"unique \", unique)\r\n        // return unique;\r\n\r\n\r\n        var b = arr.filter(function (item, pos, arr) {\r\n            // Always keep the 0th element as there is nothing before it\r\n            // Then check if each element is different than the one before it\r\n            return pos === 0 || item[\"send\"][\"text\"] !== arr[pos - 1][\"send\"][\"text\"];\r\n        });\r\n\r\n        return b\r\n    }\r\n    return (\r\n        <div>\r\n            <TopMenu />\r\n            <div style={{ paddingLeft: 30, paddingRight: 30, paddingTop: 30 }}>\r\n                <h1 style={{ fontSize: 30, color: \"rgba(45, 47, 57, 1)\", textAlign: \"center\" }}>iModo Wizard</h1>\r\n                <svg style={{\r\n                    marginTop: 50,\r\n                    marginBottom: 50,\r\n                    marginLeft: \"auto\",\r\n                    marginRight: \"auto\",\r\n                    display: \"block\"\r\n                }} xmlns=\"http://www.w3.org/2000/svg\" width=\"828\" height=\"63\" viewBox=\"0 0 828 63\">\r\n                    <g id=\"Groupe_1164\" data-name=\"Groupe 1164\" transform=\"translate(-684 -251)\">\r\n                        <g id=\"step\" transform=\"translate(-509 -438)\">\r\n                            <text id=\"Page_Selection\" data-name=\"Page Selection\" transform=\"translate(1249 747)\" fill=\"#e5007d\" font-size=\"15\" font-family=\"Poppins-Medium, Poppins\" font-weight=\"500\"><tspan x=\"-55.898\" y=\"0\">Page Selection</tspan></text>\r\n                            <circle id=\"Ellipse\" cx=\"19\" cy=\"19\" r=\"19\" transform=\"translate(1230 689)\" fill=\"#e5007d\" opacity=\"0.25\" />\r\n                            <path id=\"Line\" d=\"M0,0H1V180H0Z\" transform=\"translate(1457.702 708.5) rotate(90)\" fill=\"#e5007d\" />\r\n                            <path id=\"Icon_awesome-check\" data-name=\"Icon awesome-check\" d=\"M4.94,15.21.213,10.483a.727.727,0,0,1,0-1.028L1.241,8.426a.727.727,0,0,1,1.028,0L5.454,11.61l6.82-6.82a.727.727,0,0,1,1.028,0l1.028,1.028a.727.727,0,0,1,0,1.028L5.968,15.21A.727.727,0,0,1,4.94,15.21Z\" transform=\"translate(1242.001 698.423)\" fill=\"#fff\" />\r\n                        </g>\r\n                        <g id=\"step-2\" data-name=\"step\" transform=\"translate(-273 -438)\">\r\n                            <text id=\"Post_Selection\" data-name=\"Post Selection\" transform=\"translate(1249 747)\" fill=\"#e5007d\" font-size=\"15\" font-family=\"Poppins-Medium, Poppins\" font-weight=\"500\"><tspan x=\"-52.68\" y=\"0\">Post Selection</tspan></text>\r\n                            <circle id=\"Ellipse-2\" data-name=\"Ellipse\" cx=\"19\" cy=\"19\" r=\"19\" transform=\"translate(1230 689)\" fill=\"#e5007d\" opacity=\"0.25\" />\r\n                            <path id=\"Line-2\" data-name=\"Line\" d=\"M0,0H1V180H0Z\" transform=\"translate(1457.702 708.5) rotate(90)\" fill=\"#e5007d\" />\r\n                            <path id=\"Icon_awesome-check-2\" data-name=\"Icon awesome-check\" d=\"M4.94,15.21.213,10.483a.727.727,0,0,1,0-1.028L1.241,8.426a.727.727,0,0,1,1.028,0L5.454,11.61l6.82-6.82a.727.727,0,0,1,1.028,0l1.028,1.028a.727.727,0,0,1,0,1.028L5.968,15.21A.727.727,0,0,1,4.94,15.21Z\" transform=\"translate(1242.001 698.423)\" fill=\"#fff\" />\r\n                        </g>\r\n                        <g id=\"step-3\" data-name=\"step\" transform=\"translate(-37 -438)\">\r\n                            <text id=\"Automation_config\" data-name=\"Automation config\" transform=\"translate(1249 747)\" fill=\"#e5007d\" font-size=\"15\" font-family=\"Poppins-Medium, Poppins\" font-weight=\"500\"><tspan x=\"-70.628\" y=\"0\">Automation config</tspan></text>\r\n                            <circle id=\"Ellipse-3\" data-name=\"Ellipse\" cx=\"19\" cy=\"19\" r=\"19\" transform=\"translate(1230 689)\" fill=\"#e5007d\" opacity=\"0.25\" />\r\n                            <path id=\"Line-3\" data-name=\"Line\" d=\"M0,0H1V180H0Z\" transform=\"translate(1457.702 708.5) rotate(90)\" fill=\"#e5007d\" />\r\n                            <path id=\"Icon_awesome-check-3\" data-name=\"Icon awesome-check\" d=\"M4.94,15.21.213,10.483a.727.727,0,0,1,0-1.028L1.241,8.426a.727.727,0,0,1,1.028,0L5.454,11.61l6.82-6.82a.727.727,0,0,1,1.028,0l1.028,1.028a.727.727,0,0,1,0,1.028L5.968,15.21A.727.727,0,0,1,4.94,15.21Z\" transform=\"translate(1242.001 698.423)\" fill=\"#fff\" />\r\n                        </g>\r\n                        <g id=\"step-4\" data-name=\"step\" transform=\"translate(199 -438)\">\r\n                            <text id=\"Test_validation\" data-name=\"Test &amp; validation\" transform=\"translate(1249 747)\" fill=\"#e5007d\" font-size=\"15\" font-family=\"Poppins-Medium, Poppins\" font-weight=\"500\"><tspan x=\"-63.217\" y=\"0\">Test &amp; validation</tspan></text>\r\n                            <circle id=\"Ellipse-4\" data-name=\"Ellipse\" cx=\"19\" cy=\"19\" r=\"19\" transform=\"translate(1230 689)\" fill=\"#e5007d\" opacity=\"0.25\" />\r\n                            <text id=\"_4\" data-name=\"4\" transform=\"translate(1249 714)\" fill=\"#e5007d\" font-size=\"16\" font-family=\"Poppins-SemiBold, Poppins\" font-weight=\"600\"><tspan x=\"-5.288\" y=\"0\">4</tspan></text>\r\n                        </g>\r\n                    </g>\r\n                </svg>\r\n                {/* <Chat response={\"el.response\"} send={\"el.send\"} /> */}\r\n                <div style={{ background: '#fff', paddingTop: 40, paddingLeft: 70, paddingRight: 70, paddingBottom: 40, width: \"70%\", margin: \"auto\" }}>\r\n                    <h3>Test Interaction</h3>\r\n                    {\r\n                        showlive &&\r\n                        <ActivateAgent porject={props.porject} setshowlive={() => setshowlive(false)} />\r\n                    }\r\n                    {props.trained ?\r\n                        <Fragment>\r\n                            <div style={{\r\n                                height: \"400px\",\r\n                                border: \"1px solid lightgray\",\r\n                                margin: \"30px auto\",\r\n                                padding: \"30px\",\r\n                                position: \"relative\",\r\n                                overflowY: \"scroll\",\r\n                                width: \"60%\"\r\n\r\n                            }}>\r\n                                {\r\n                                    submited &&\r\n                                    <div className=\"loaderStyle\">\r\n                                        <Loader\r\n                                            type=\"Puff\"\r\n                                            color=\"#E5007D\"\r\n                                            height={100}\r\n                                            width={100}\r\n                                            visible={submited}\r\n                                        />\r\n                                    </div>\r\n                                }\r\n                                {props.messages.map(el => <Chat key={el.id} response={el[\"0\"].response} send={el[\"0\"].send} />)}\r\n                            </div>\r\n                            <form onSubmit={handelSubmit} style={{\r\n                                width: \"68%\",\r\n                                margin: \"auto\"\r\n                            }}>\r\n                                <input type=\"text\" style={{\r\n                                    height: \"75px\",\r\n                                    width: \"93%\",\r\n                                    border: \"1px solid lightgray\",\r\n                                    padding: \"0 20px\",\r\n                                    display: \"block\"\r\n                                }} placeholder=\"Your Message...\" name=\"message\" disabled={submited} />\r\n                                <div style={{ textAlign: \"center\" }}>\r\n                                    <button type=\"submit\" style={{\r\n                                        border: \"none\",\r\n                                        background: \"transparent\",\r\n                                        padding: 0,\r\n                                        margin: 0,\r\n                                        marginTop: \"30px\",\r\n                                        cursor: \"pointer\"\r\n                                    }}>\r\n                                        <svg style={{\r\n                                            marginLeft: \"auto\",\r\n                                            marginRight: \"auto\",\r\n                                            display: \"block\",\r\n                                        }} xmlns=\"http://www.w3.org/2000/svg\" width=\"153\" height=\"40\" viewBox=\"0 0 153 40\">\r\n                                            <g id=\"Button\" transform=\"translate(-675 -531)\">\r\n                                                <rect id=\"Rectangle_1551\" data-name=\"Rectangle 1551\" width=\"153\" height=\"40\" rx=\"4\" transform=\"translate(675 531)\" fill=\"#4080ff\" />\r\n                                                <text id=\"Test_interaction\" data-name=\"Test interaction\" transform=\"translate(688 557)\" fill=\"#fff\" font-size=\"16\" font-family=\"Poppins-SemiBold, Poppins\" font-weight=\"600\"><tspan x=\"0\" y=\"0\">Test interaction</tspan></text>\r\n                                            </g>\r\n                                        </svg>\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                            <div style={{\r\n                                display: \"flex\",\r\n                                justifyContent: \"space-between\",\r\n                                marginTop: \"50px\"\r\n                            }}>\r\n                                <div onClick={() => { props.history.goBack(); props.removechatAction() }}>\r\n\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"125\" height=\"50\" viewBox=\"0 0 125 50\">\r\n                                        <g id=\"Button\" transform=\"translate(-1376 -914)\">\r\n                                            <rect id=\"Rectangle_1549\" data-name=\"Rectangle 1549\" width=\"125\" height=\"50\" rx=\"4\" transform=\"translate(1376 914)\" fill=\"#e4e6eb\" />\r\n                                            <text id=\"Back\" transform=\"translate(1416 946)\" fill=\"#818e94\" font-size=\"20\" font-family=\"Roboto-Bold, Roboto\" font-weight=\"700\"><tspan x=\"0\" y=\"0\">Back</tspan></text>\r\n                                        </g>\r\n                                    </svg>\r\n\r\n                                </div>\r\n                                {\r\n                                    !props.porject.live &&\r\n                                    <div onClick={() => { setshowlive(true); props.removechatAction() }}>\r\n\r\n                                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"122\" height=\"50\" viewBox=\"0 0 122 50\">\r\n                                            <g id=\"Button\" transform=\"translate(-1427 -914)\">\r\n                                                <rect id=\"Rectangle_1549\" data-name=\"Rectangle 1549\" width=\"122\" height=\"50\" rx=\"4\" transform=\"translate(1427 914)\" fill=\"#e5007d\" />\r\n                                                <text id=\"Next\" transform=\"translate(1467 946)\" fill=\"#fff\" font-size=\"20\" font-family=\"Roboto-Bold, Roboto\" font-weight=\"700\"><tspan x=\"0\" y=\"0\">Finish</tspan></text>\r\n                                            </g>\r\n                                        </svg>\r\n\r\n                                    </div>\r\n                                }\r\n                                {\r\n                                    props.porject.live &&\r\n                                    <div onClick={() => props.removechatAction()}>\r\n                                        <div onClick={() => { props.history.push(`/dachboard/agent/?page=${props.match.params.id}`) }}>\r\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"122\" height=\"50\" viewBox=\"0 0 122 50\">\r\n                                                <g id=\"Button\" transform=\"translate(-1427 -914)\">\r\n                                                    <rect id=\"Rectangle_1549\" data-name=\"Rectangle 1549\" width=\"122\" height=\"50\" rx=\"4\" transform=\"translate(1427 914)\" fill=\"#e5007d\" />\r\n                                                    <text id=\"Next\" transform=\"translate(1460 946)\" fill=\"#fff\" font-size=\"20\" font-family=\"Roboto-Bold, Roboto\" font-weight=\"700\"><tspan x=\"0\" y=\"0\">Update</tspan></text>\r\n                                                </g>\r\n                                            </svg>\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                        </Fragment> :\r\n                        <div style={{ textAlign: \"center\" }}>\r\n                            <Loader\r\n                                type=\"Puff\"\r\n                                color=\"#E5007D\"\r\n                                height={100}\r\n                                width={100}\r\n                                visible={!props.trained}\r\n                            />\r\n                        </div>\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state, owenProps) => {\r\n    const porject = state.allProjects.find(el => el.post.idPost == owenProps.match.params.idpost)\r\n    console.log('test ', porject)\r\n    return {\r\n        porject,\r\n        messages: state.messages,\r\n        // loadingBar: state.loadingBar,\r\n        trained: state.trainagent,\r\n\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        train: (projet, id) => dispatch(nlptest(projet, id)),\r\n        trainAgent: (data) => dispatch(trainagent(data)),\r\n        chat: (message) => dispatch(chatAction(message)),\r\n        unTrainedAgent: () => dispatch(unTrained()),\r\n        removechatAction: () => dispatch(removechatAction())\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TestAgent))\r\n"]},"metadata":{},"sourceType":"module"}