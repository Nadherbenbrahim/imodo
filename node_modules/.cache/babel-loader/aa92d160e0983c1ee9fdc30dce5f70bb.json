{"ast":null,"code":"import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import{connect}from'react-redux';import{Row}from'react-bootstrap';import{MdAddCircleOutline}from'react-icons/md';import Swal from'sweetalert2/dist/sweetalert2.js';export var AddSynonymInput=function AddSynonymInput(props){var product=props.product,index=props.index,categorySelected=props.categorySelected,socialMediaPageSelected=props.socialMediaPageSelected,addSynonym=props.addSynonym,addStaticSynonym=props.addStaticSynonym;var inputRef=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),enableSynonymInput=_useState2[0],setEnableSynonymInput=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),Synonym=_useState4[0],setSynonym=_useState4[1];useEffect(function(){enableSynonymInput&&inputRef.current.focus();},[enableSynonymInput]);var newSynonym=function newSynonym(){if(addStaticSynonym){addStaticSynonym(index,Synonym);setSynonym('');setEnableSynonymInput(false);props.setSynonymBoxBorder(false);}else{addSynonym(Synonym,categorySelected,product,socialMediaPageSelected).then(function(){setSynonym('');setEnableSynonymInput(false);props.setSynonymBoxBorder(false);}).catch(function(){Swal.fire({position:'center',icon:'error',title:'Error while adding the synonym',showConfirmButton:false,timer:2000});setSynonym('');setEnableSynonymInput(false);props.setSynonymBoxBorder(false);});}};return/*#__PURE__*/React.createElement(\"div\",null,enableSynonymInput?/*#__PURE__*/React.createElement(Row,{className:\"d-flex mx-auto\",style:{cursor:'pointer'}},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"add-new-product-input w-100\",ref:inputRef,value:Synonym,onChange:function onChange(e){return setSynonym(e.target.value);},onKeyDown:function onKeyDown(e){return e.key==='Enter'&&newSynonym();}})):/*#__PURE__*/React.createElement(Row,{className:\"d-flex mx-auto\",style:{cursor:'pointer'},onClick:function onClick(){setEnableSynonymInput(true);}},/*#__PURE__*/React.createElement(MdAddCircleOutline,{className:\"my-auto mr-1\",color:'#818E94',size:'17'}),/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto\"},\"Add Synonym\")));};var mapStateToProps=function mapStateToProps(state){return{socialMediaPageSelected:state.socialMediaR.socialMediaPageSelected,categorySelected:state.productsR.categorySelected,productSelected:state.productsR.productSelected};};export default connect(mapStateToProps,{})(AddSynonymInput);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/ManageProducts/AddSynonymInput.js"],"names":["React","useState","useRef","useEffect","connect","Row","MdAddCircleOutline","Swal","AddSynonymInput","props","product","index","categorySelected","socialMediaPageSelected","addSynonym","addStaticSynonym","inputRef","enableSynonymInput","setEnableSynonymInput","Synonym","setSynonym","current","focus","newSynonym","setSynonymBoxBorder","then","catch","fire","position","icon","title","showConfirmButton","timer","cursor","e","target","value","key","mapStateToProps","state","socialMediaR","productsR","productSelected"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Row, } from 'react-bootstrap';\r\n\r\nimport { MdAddCircleOutline } from 'react-icons/md';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\nexport const AddSynonymInput = (props) => {\r\n\r\n    let {\r\n        product,\r\n        index,\r\n        categorySelected,\r\n        socialMediaPageSelected,\r\n\r\n        // Functions\r\n        addSynonym,\r\n        addStaticSynonym,\r\n    } = props;\r\n\r\n    const inputRef = useRef();\r\n    const [enableSynonymInput,setEnableSynonymInput] = useState(false);\r\n    const [Synonym,setSynonym] = useState('');\r\n\r\n    useEffect(() => {\r\n        enableSynonymInput && inputRef.current.focus();\r\n    },[enableSynonymInput]);\r\n\r\n\r\n    const newSynonym = () => {\r\n        \r\n        if(addStaticSynonym) {\r\n            addStaticSynonym(index,Synonym);\r\n            setSynonym(''); \r\n            setEnableSynonymInput(false); \r\n            props.setSynonymBoxBorder(false); \r\n        } else {\r\n            addSynonym(Synonym,categorySelected,product,socialMediaPageSelected)\r\n            .then(() => {\r\n                setSynonym(''); \r\n                setEnableSynonymInput(false); \r\n                props.setSynonymBoxBorder(false); \r\n            }) \r\n            .catch(() => {\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'error',\r\n                    title: 'Error while adding the synonym',\r\n                    showConfirmButton: false,\r\n                    timer: 2000\r\n                })\r\n                setSynonym(''); \r\n                setEnableSynonymInput(false); \r\n                props.setSynonymBoxBorder(false); \r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {\r\n            enableSynonymInput\r\n            ?\r\n            <Row className=\"d-flex mx-auto\" style={{ cursor: 'pointer' }}>\r\n                <input \r\n                    type=\"text\" \r\n                    className=\"add-new-product-input w-100\" \r\n                    ref={inputRef} \r\n                    value={Synonym} \r\n                    onChange={(e) => setSynonym(e.target.value)} \r\n                    onKeyDown={(e) => e.key === 'Enter' && newSynonym()} \r\n                />\r\n            </Row>\r\n            : \r\n            <Row className=\"d-flex mx-auto\" style={{ cursor: 'pointer' }} onClick={() => { setEnableSynonymInput(true); }}>\r\n                <MdAddCircleOutline className=\"my-auto mr-1\" color={'#818E94'} size={'17'} />\r\n                <p className=\"my-auto\">Add Synonym</p>\r\n            </Row>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    socialMediaPageSelected : state.socialMediaR.socialMediaPageSelected,\r\n    categorySelected : state.productsR.categorySelected,\r\n    productSelected: state.productsR.productSelected, \r\n})\r\n\r\nexport default connect(mapStateToProps,{})(AddSynonymInput)\r\n"]},"metadata":{},"sourceType":"module"}