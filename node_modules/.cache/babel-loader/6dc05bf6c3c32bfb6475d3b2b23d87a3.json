{"ast":null,"code":"import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{host}from'../../config';export var setPreferences=function setPreferences(spam,likes,delay,Page){return function(dispatch){var objectToSend=null;if(delay===\"immediatly\"){objectToSend={platforme:Page.platform,likesComment:likes,spam:spam,respReplies:{status:'immediatly',time:[0]}};}else if(delay===\"Exactly\"){objectToSend={platforme:Page.platform,likesComment:likes,spam:spam,respReplies:{statut:'Exactly',time:[5000]}};}else{objectToSend={platforme:Page.platform,likesComment:likes,spam:spam,respReplies:{statut:'Randomly',time:[2000,1000]}};}console.log(\"Preferences sending to nour\",objectToSend);return axios.put(host+\"/api/v1/secure/pages/preference/\".concat(Page.id,\"/\").concat(Page.platform),objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('setPreferences Response =>',res.data.data);}).catch(function(err){return console.log(\"setPreferences err\",err);});};};export var getConnectedPagesProject=function getConnectedPagesProject(){return function(dispatch){return axios.get(host+\"/api/v1/secure/project/get/user\",{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('all projects for this user',res.data.data);dispatch({type:'GET_WIZARD_ACTIVE_PAGE_POSTS',payload:res.data.data});}).catch(function(err){return console.log(\"err getConnectedPagesProject\",err);});};};export var addPageEntity=function addPageEntity(page){return function(dispatch){return axios.get(host+\"/api/v1/secure/pages/entities/add/\".concat(page.id),{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('add entity',res.data.data);// dispatch({\n//     type: 'GET_ENTITIES_OF_A_PAGE',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"err addPageEntity\",err);});};};export var getPageEntities=function getPageEntities(page){return function(dispatch){return axios.get(host+\"/api/v1/secure/project/get/entitiesproject/\".concat(page.platform,\"/\").concat(page.id),{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){// console.log('entities mtaaa page', res.data.data);\nvar categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_ENTITIES_OF_A_PAGE',payload:categories});}).catch(function(err){return console.log(\"err getPageEntities\",err);});};};// TEAM:\nexport var sendMailTeam=function sendMailTeam(wizardSelectedPage,emailTeamMember){return function(dispatch){return axios.post(host+\"/api/v1/secure/membership/sendMail/\".concat(wizardSelectedPage.id,\"/\").concat(wizardSelectedPage.platform,\"/\"),{email:emailTeamMember},{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('Sending the maiiiiiil  => ',res.data.data);// dispatch({\n//     type: 'GET_ALL_PRODUCT_CATEGORIES',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"err getConnectedPagesProject\",err);});};};export var inviteMember=function inviteMember(page){return function(dispatch){return axios.get(host+\"/api/v1/secure/membership/get/\".concat(page.id,\"/\").concat(page.platform),{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}});// .then(res => {\n//     console.log('Token of invitation', res.data.data);\n//     // dispatch({\n//     //     type: 'GET_ENTITIES_OF_A_PAGE',\n//     //     payload: res.data.data\n//     // })\n// })\n// .catch((err) => console.log(\"err inviteMember\", err))\n};};export var deleteTeamMember=function deleteTeamMember(page,idFacebook){return function(dispatch){var type=page.platform;var idPage=page.id;return axios.post(host+\"/api/v1/secure/membership/deleteMember/\",{idFacebook:idFacebook,idPage:idPage,type:type},{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){// console.log('deleteTeamMember', res.data.data);\n// dispatch({\n//     type: 'GET_ENTITIES_OF_A_PAGE',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"deleteTeamMember error\",err);});};};/* INSTAGRAM */export var connectInstagramPage=function connectInstagramPage(idPage){return function(dispatch){var page={id:idPage};return axios.post(host+\"/api/v1/secure/pagesInsta/connect/\",page,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('retour de connect page insta',res.data);// dispatch({\n//     type: 'GET_ENTITIES_OF_A_PAGE',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"err connect page insta\",err);});};};export var disconnectInstagramPage=function disconnectInstagramPage(idPage){return function(dispatch){var page={id:idPage};return axios.post(host+\"/api/v1/secure/pagesInsta/disconnect/disconnect\",page,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('retour de disconnect page insta',res.data);// dispatch({\n//     type: 'GET_ENTITIES_OF_A_PAGE',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"err disconnect page instagram\",err);});};};export var deleteInstagramPage=function deleteInstagramPage(idPage){return function(dispatch){var page={id:idPage};return axios.post(host+\"/api/v1/secure/pagesInsta/disconnect/delete\",page,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('retour de disconnect page insta',res.data);// dispatch({\n//     type: 'GET_ENTITIES_OF_A_PAGE',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"err disconnect page instagram\",err);});};};export var makeOwnerInstagramPage=function makeOwnerInstagramPage(idPage,idFacebook){return function(dispatch){var page={id:idPage,idFacebook:idFacebook// idFacebook of the new owner\n};return axios.post(host+\"/api/v1/secure/pagesInsta/disconnect/owner\",page,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('retour de owner page insta',res.data);// dispatch({\n//     type: 'GET_ENTITIES_OF_A_PAGE',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"err owner page instagram\",err);});};};/* FACEBOOK */export var connectFacebookPage=function connectFacebookPage(idPage){return function(dispatch){var page={id:idPage};return axios.post(host+\"/api/v1/secure/pages/connect/\",page,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('retour de connect page facebook',res.data);// dispatch({\n//     type: 'GET_ENTITIES_OF_A_PAGE',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"err de connect page facebook\",err);});};};export var disconnectFacebookPage=function disconnectFacebookPage(idPage){return function(dispatch){var page={id:idPage};return axios.post(host+\"/api/v1/secure/pages/disconnect/disconnect\",page,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('retour de disconnect page facebok',res.data);// dispatch({\n//     type: 'GET_ENTITIES_OF_A_PAGE',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"err de disconnect page facebok\",err);});};};export var deleteFacebookPage=function deleteFacebookPage(idPage,idFacebook){return function(dispatch){var page={id:idPage};return axios.post(host+\"/api/v1/secure/pages/disconnect/delete\",page,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('retour de disconnect page facebok',res.data);// dispatch({\n//     type: 'GET_ENTITIES_OF_A_PAGE',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"err de disconnect page facebok\",err);});};};export var makeOwnerFacebookPage=function makeOwnerFacebookPage(idPage,idFacebook){return function(dispatch){var page={id:idPage,idFacebook:idFacebook// idFacebook of the new owner\n};return axios.post(host+\"/api/v1/secure/pages/disconnect/owner\",page,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('retour de owner page facebook',res.data);// dispatch({\n//     type: 'GET_ENTITIES_OF_A_PAGE',\n//     payload: res.data.data\n// })\n}).catch(function(err){return console.log(\"err owner page facebook\",err);});};};export var selectSocialMediaPage=function selectSocialMediaPage(page,platform,status){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var selectedPage;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// console.log(\"Full page data =>\", page );\n// let userData = JSON.parse(localStorage.getItem('userData'));\n// console.log(\"Full userData\", userData.user.idFacebook);\n/*\r\n            ALL STATUS :\r\n            props.status === \"listPageConnectedOwner\" \r\n            ? \r\n            #E5007D\" \r\n            : \r\n            props.status === \"listPageInvite\" \r\n            ?\r\n            #139216\"\r\n            : \r\n            \"listPageInviteAdmin\" \r\n            ?\r\n            #199EE3\" \r\n            :\r\n            #B4B4B4\"\r\n        */selectedPage={platform:platform===\"fb\"?\"facebook\":\"instagram\",name:page.name,picture_url:page.imageUrl?page.imageUrl:\"https://graph.facebook.com/v8.0/\".concat(page.idPage,\"/picture?access_token=\").concat(page.access_token),id:page.idPage,accessToken:page.access_token,team:page.user,admins:page.admins,status:status};dispatch({type:'SELECT_SOCIAL_MEDIA_PAGE',payload:selectedPage});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getFbData=function getFbData(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var token;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return localStorage.getItem('authtoken');case 2:token=_context2.sent;return _context2.abrupt(\"return\",axios.get(host+'/api/v1/secure/pages/get/all/',{headers:{'authorization':'Bearer '+token}}).then(function(res){var allFbPages=[];Object.entries(res.data.data).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],tab=_ref4[1];return tab.map(function(page){page.status=key;allFbPages.push(page);});});allFbPages.sort(function(page,nextPage){var nameA=page.name.toLowerCase(),nameB=nextPage.name.toLowerCase();//sort ascending \nif(nameA<nameB)return-1;if(nameA>nameB)return 1;return 0;// default return value (no sorting)\n});dispatch({type:'GET_FB_DATA',payload:allFbPages,payload2:res.data.data});}).catch(function(err){console.log(\"GetFbData err\",JSON.stringify(err));}));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getInstaData=function getInstaData(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var token;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return localStorage.getItem('authtoken');case 2:token=_context3.sent;return _context3.abrupt(\"return\",axios.get(host+'/api/v1/secure/pagesInsta/get/all/',{headers:{'authorization':'Bearer '+token}}).then(function(res){// console.log('Instagram pages ya haider =>', res.data.data)\nvar allInstaPages=[];Object.entries(res.data.data).map(function(_ref6){var _ref7=_slicedToArray(_ref6,2),key=_ref7[0],tab=_ref7[1];return tab.map(function(page){page.status=key;allInstaPages.push(page);});});allInstaPages.sort(function(page,nextPage){var nameA=page.name.toLowerCase(),nameB=nextPage.name.toLowerCase();//sort ascending \nif(nameA<nameB)return-1;if(nameA>nameB)return 1;return 0;// default return value (no sorting)\n});dispatch({type:'GET_INSTA_DATA',payload:allInstaPages,payload2:res.data.data});}).catch(function(err){console.log(\"getInstaData error\",JSON.stringify(err));}));case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref5.apply(this,arguments);};}();};export var resetSocialMediaSelections=function resetSocialMediaSelections(){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:return _context4.abrupt(\"return\",dispatch({type:'RESET_SM_SELECTIONS'}));case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref8.apply(this,arguments);};}();};","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/redux/actions/socialMediaActions.js"],"names":["axios","host","setPreferences","spam","likes","delay","Page","dispatch","objectToSend","platforme","platform","likesComment","respReplies","status","time","statut","console","log","put","id","headers","localStorage","getItem","then","res","data","catch","err","getConnectedPagesProject","get","type","payload","addPageEntity","page","getPageEntities","categories","length","map","cat","index","default","splice","sendMailTeam","wizardSelectedPage","emailTeamMember","post","email","inviteMember","deleteTeamMember","idFacebook","idPage","connectInstagramPage","disconnectInstagramPage","deleteInstagramPage","makeOwnerInstagramPage","connectFacebookPage","disconnectFacebookPage","deleteFacebookPage","makeOwnerFacebookPage","selectSocialMediaPage","selectedPage","name","picture_url","imageUrl","access_token","accessToken","team","user","admins","getFbData","token","allFbPages","Object","entries","key","tab","push","sort","nextPage","nameA","toLowerCase","nameB","payload2","JSON","stringify","getInstaData","allInstaPages","resetSocialMediaSelections"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { host } from '../../config';\r\n\r\n\r\nexport const setPreferences = (spam,likes,delay,Page) => {\r\n    return (dispatch) => {\r\n        \r\n        let objectToSend = null;\r\n\r\n        if(delay === \"immediatly\") {\r\n            objectToSend = {\r\n                platforme: Page.platform,\r\n                likesComment:likes,\r\n                spam: spam,\r\n                respReplies: {\r\n                    status: 'immediatly',\r\n                    time: [0]\r\n                }\r\n            }\r\n\r\n        } else if(delay === \"Exactly\") {\r\n            objectToSend = {\r\n                platforme: Page.platform,\r\n                likesComment:likes,\r\n                spam: spam,\r\n                respReplies: {\r\n                    statut: 'Exactly',\r\n                    time: [5000],\r\n                }\r\n            }\r\n        } else {\r\n            objectToSend = {\r\n                platforme: Page.platform,\r\n                likesComment:likes,\r\n                spam: spam,\r\n                respReplies: {\r\n                    statut: 'Randomly',\r\n                    time: [2000,1000],\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        console.log(\"Preferences sending to nour\", objectToSend);\r\n\r\n        return axios.put(host + `/api/v1/secure/pages/preference/${Page.id}/${Page.platform}`,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('setPreferences Response =>', res.data.data)\r\n        \r\n        })\r\n        .catch((err) => console.log(\"setPreferences err\", err))\r\n    }\r\n};\r\n\r\nexport const getConnectedPagesProject = () => {\r\n    return (dispatch) => {\r\n    \r\n        return axios.get(host + `/api/v1/secure/project/get/user`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('all projects for this user', res.data.data)\r\n            \r\n            dispatch({\r\n                type: 'GET_WIZARD_ACTIVE_PAGE_POSTS',\r\n                payload: res.data.data\r\n            })\r\n        })\r\n        .catch((err) => console.log(\"err getConnectedPagesProject\", err))\r\n    }\r\n};\r\n\r\nexport const addPageEntity = (page) => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + `/api/v1/secure/pages/entities/add/${page.id}`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('add entity', res.data.data);\r\n            \r\n            // dispatch({\r\n            //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"err addPageEntity\", err))\r\n    }\r\n};\r\n\r\nexport const getPageEntities = (page) => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + `/api/v1/secure/project/get/entitiesproject/${page.platform}/${page.id}`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log('entities mtaaa page', res.data.data);\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n\r\n            dispatch({\r\n                type: 'GET_ENTITIES_OF_A_PAGE',\r\n                payload: categories\r\n            })\r\n        })\r\n        .catch((err) => console.log(\"err getPageEntities\", err))\r\n    }\r\n};\r\n\r\n\r\n// TEAM:\r\nexport const sendMailTeam = (wizardSelectedPage,emailTeamMember) => {\r\n    return (dispatch) => {\r\n    \r\n        return axios.post(host + `/api/v1/secure/membership/sendMail/${wizardSelectedPage.id}/${wizardSelectedPage.platform}/`, {\r\n            email: emailTeamMember,\r\n        },\r\n        {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('Sending the maiiiiiil  => ', res.data.data)\r\n            \r\n            // dispatch({\r\n            //     type: 'GET_ALL_PRODUCT_CATEGORIES',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"err getConnectedPagesProject\", err))\r\n    }\r\n};\r\n\r\nexport const inviteMember = (page) => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + `/api/v1/secure/membership/get/${page.id}/${page.platform}`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        // .then(res => {\r\n        //     console.log('Token of invitation', res.data.data);\r\n        \r\n        //     // dispatch({\r\n        //     //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n        //     //     payload: res.data.data\r\n        //     // })\r\n        // })\r\n        // .catch((err) => console.log(\"err inviteMember\", err))\r\n    }\r\n};\r\n\r\nexport const deleteTeamMember = (page,idFacebook) => {\r\n    return (dispatch) => {\r\n       let type = page.platform;\r\n       let idPage = page.id;\r\n\r\n        return axios.post(host + `/api/v1/secure/membership/deleteMember/`,{\r\n            idFacebook,\r\n            idPage,\r\n            type,\r\n        },{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log('deleteTeamMember', res.data.data);\r\n        \r\n            // dispatch({\r\n            //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"deleteTeamMember error\", err))\r\n    }\r\n};\r\n\r\n\r\n/* INSTAGRAM */\r\nexport const connectInstagramPage = (idPage) => {\r\n    return (dispatch) => {\r\n\r\n        let page = {\r\n            id: idPage,\r\n        };\r\n        \r\n        return axios.post(host + `/api/v1/secure/pagesInsta/connect/`,page,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('retour de connect page insta', res.data);\r\n            \r\n            // dispatch({\r\n            //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"err connect page insta\", err))\r\n    }\r\n};\r\n\r\nexport const disconnectInstagramPage = (idPage) => {\r\n    return (dispatch) => {\r\n     \r\n        let page = {\r\n            id: idPage,\r\n        };\r\n        \r\n        return axios.post(host + `/api/v1/secure/pagesInsta/disconnect/disconnect`,page,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('retour de disconnect page insta', res.data);\r\n            \r\n            // dispatch({\r\n            //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"err disconnect page instagram\", err))\r\n    };\r\n};\r\n\r\nexport const deleteInstagramPage = (idPage) => {\r\n    return (dispatch) => {\r\n     \r\n        let page = {\r\n            id: idPage,\r\n        };\r\n        \r\n        return axios.post(host + `/api/v1/secure/pagesInsta/disconnect/delete`,page,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('retour de disconnect page insta', res.data);\r\n            \r\n            // dispatch({\r\n            //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"err disconnect page instagram\", err))\r\n    };\r\n};\r\n\r\nexport const makeOwnerInstagramPage = (idPage,idFacebook) => {\r\n    return (dispatch) => {\r\n     \r\n        let page = {\r\n            id: idPage,\r\n            idFacebook: idFacebook // idFacebook of the new owner\r\n        };\r\n        \r\n        return axios.post(host + `/api/v1/secure/pagesInsta/disconnect/owner`,page,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('retour de owner page insta', res.data);\r\n            \r\n            // dispatch({\r\n            //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"err owner page instagram\", err))\r\n    };\r\n};\r\n\r\n/* FACEBOOK */\r\nexport const connectFacebookPage = (idPage) => {\r\n    return (dispatch) => {\r\n        \r\n        let page ={\r\n            id: idPage,\r\n        };\r\n\r\n        return axios.post(host + `/api/v1/secure/pages/connect/`,page,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('retour de connect page facebook', res.data);\r\n            \r\n            // dispatch({\r\n            //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"err de connect page facebook\", err))\r\n    }\r\n};\r\n\r\nexport const disconnectFacebookPage = (idPage) => {\r\n    return (dispatch) => {\r\n\r\n        let page = {\r\n            id: idPage,\r\n        };\r\n        \r\n        return axios.post(host + `/api/v1/secure/pages/disconnect/disconnect`,page,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('retour de disconnect page facebok', res.data);\r\n            \r\n            // dispatch({\r\n            //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"err de disconnect page facebok\", err))\r\n\r\n    };\r\n};\r\n\r\nexport const deleteFacebookPage = (idPage,idFacebook) => {\r\n    return (dispatch) => {\r\n\r\n        let page = {\r\n            id: idPage,\r\n        };\r\n        \r\n        return axios.post(host + `/api/v1/secure/pages/disconnect/delete`,page,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('retour de disconnect page facebok', res.data);\r\n            \r\n            // dispatch({\r\n            //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"err de disconnect page facebok\", err))\r\n\r\n    };\r\n};\r\n\r\nexport const makeOwnerFacebookPage = (idPage,idFacebook) => {\r\n    return (dispatch) => {\r\n     \r\n        let page = {\r\n            id: idPage,\r\n            idFacebook: idFacebook // idFacebook of the new owner\r\n        };\r\n        \r\n        return axios.post(host + `/api/v1/secure/pages/disconnect/owner`,page,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('retour de owner page facebook', res.data);\r\n            \r\n            // dispatch({\r\n            //     type: 'GET_ENTITIES_OF_A_PAGE',\r\n            //     payload: res.data.data\r\n            // })\r\n        })\r\n        .catch((err) => console.log(\"err owner page facebook\", err))\r\n    };\r\n};\r\n\r\n\r\nexport const selectSocialMediaPage = (page,platform,status) => {\r\n    return async (dispatch) => {\r\n\r\n        // console.log(\"Full page data =>\", page );\r\n        // let userData = JSON.parse(localStorage.getItem('userData'));\r\n        // console.log(\"Full userData\", userData.user.idFacebook);\r\n\r\n        /*\r\n            ALL STATUS :\r\n            props.status === \"listPageConnectedOwner\" \r\n            ? \r\n            #E5007D\" \r\n            : \r\n            props.status === \"listPageInvite\" \r\n            ?\r\n            #139216\"\r\n            : \r\n            \"listPageInviteAdmin\" \r\n            ?\r\n            #199EE3\" \r\n            :\r\n            #B4B4B4\"\r\n        */\r\n \r\n        const selectedPage = {\r\n            platform: platform === \"fb\" ? \"facebook\" : \"instagram\",\r\n            name: page.name,\r\n            picture_url : page.imageUrl ? page.imageUrl : `https://graph.facebook.com/v8.0/${page.idPage}/picture?access_token=${page.access_token}`,\r\n            id: page.idPage,\r\n            accessToken: page.access_token,\r\n            team: page.user,\r\n            admins: page.admins,\r\n            status: status,\r\n        };\r\n        \r\n        dispatch({\r\n            type: 'SELECT_SOCIAL_MEDIA_PAGE',\r\n            payload: selectedPage\r\n        })\r\n    }\r\n};\r\n\r\nexport const getFbData = () => {\r\n    return async (dispatch) => {\r\n        \r\n        /*\r\n            platform={\"fb\"} \r\n            isConnectedPage={page.isConnected}\r\n            namePage={page.name} \r\n            idPage={page.idPage} \r\n            picture={null} \r\n            accessToken={page.access_token} \r\n            status={key} \r\n            team={page.user} \r\n            admins={page.admins}\r\n        */\r\n        \r\n        let token = await localStorage.getItem('authtoken');\r\n\r\n        return axios.get(host + '/api/v1/secure/pages/get/all/', {\r\n            headers: {\r\n                'authorization': 'Bearer ' + token\r\n            }\r\n        })\r\n        .then(res => {\r\n        \r\n            let allFbPages = [];\r\n            Object.entries(res.data.data).map( ([key, tab]) => \r\n                tab.map((page) => {\r\n                    page.status = key;\r\n                    allFbPages.push(page);\r\n            }));\r\n\r\n            allFbPages.sort((page,nextPage) =>  {\r\n                let  nameA = page.name.toLowerCase(), nameB = nextPage.name.toLowerCase()\r\n                //sort ascending \r\n                if (nameA < nameB) return -1; \r\n\r\n                if (nameA > nameB) return 1;\r\n                \r\n                return 0; // default return value (no sorting)\r\n            });\r\n\r\n            dispatch({\r\n                type: 'GET_FB_DATA',\r\n                payload: allFbPages,\r\n                payload2: res.data.data,\r\n            })\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"GetFbData err\", JSON.stringify(err))\r\n        })\r\n    }\r\n};\r\n\r\nexport const getInstaData = () => {\r\n    return async (dispatch) => {\r\n        /*\r\n            platform={\"fb\"} \r\n            isConnectedPage={page.isConnected}\r\n            namePage={page.name} \r\n            idPage={page.idPage} \r\n            picture={null} \r\n            accessToken={page.access_token} \r\n            status={key} \r\n            team={page.user} \r\n            admins={page.admins}\r\n        */\r\n       let token = await localStorage.getItem('authtoken');\r\n        \r\n        return axios.get(host + '/api/v1/secure/pagesInsta/get/all/', {\r\n            headers: {\r\n                'authorization': 'Bearer ' + token\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log('Instagram pages ya haider =>', res.data.data)\r\n            let allInstaPages = [];\r\n            \r\n            Object.entries(res.data.data).map( ([key, tab]) => \r\n                tab.map((page) => {\r\n                    page.status = key;\r\n                    allInstaPages.push(page);\r\n                }\r\n            ));\r\n\r\n            allInstaPages.sort((page,nextPage) =>  {                \r\n                let  nameA = page.name.toLowerCase(), nameB = nextPage.name.toLowerCase()\r\n                //sort ascending \r\n                if (nameA < nameB) return -1; \r\n\r\n                if (nameA > nameB) return 1;\r\n                \r\n                return 0; // default return value (no sorting)\r\n            });\r\n            \r\n            dispatch({\r\n                type: 'GET_INSTA_DATA',\r\n                payload: allInstaPages,\r\n                payload2: res.data.data\r\n            })\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"getInstaData error\", JSON.stringify(err))\r\n        })\r\n    }\r\n};\r\n\r\nexport const resetSocialMediaSelections = () => {\r\n    return async (dispatch) => dispatch({ type: 'RESET_SM_SELECTIONS' });\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}