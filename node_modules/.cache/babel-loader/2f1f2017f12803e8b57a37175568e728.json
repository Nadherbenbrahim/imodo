{"ast":null,"code":"var _jsxFileName = \"/usr/work/smart_front_oussema/src/app/Home/AutoWizard/WizardPages.js\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { addProject, nextWizardStep, nextSpecificWizardStep, resetWizardStep, setWizardSelectedPage } from '../../../redux/actions/wizardActions';\nimport { getFbData, getInstaData } from '../../../redux/actions/socialMediaActions';\nimport WizardRadioBtn from './WizardRadioBtn';\nimport Lottie from 'react-lottie';\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\nimport { Row, Col, Image, Spinner } from 'react-bootstrap';\nimport { Link, withRouter } from 'react-router-dom';\nimport animationData from '../../../assets/json/loading.json';\nimport noData from '../../../assets/json/not_found_sad.json';\n\nconst INSTA_ICON = require('../../../assets/images/home/insta-icon.png');\n\nconst FB_ICON = require('../../../assets/images/home/fb-icon.png');\n\nfunction WizardPages(props) {\n  const {\n    history\n  } = props;\n  const [selectedPage, setSelectedPage] = useState(null);\n  const [showInstgram, setShowInstgram] = useState(false);\n  const [showFacebook, setShowFacebook] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [btnLoading, setBtnLoading] = useState(false);\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice'\n    }\n  };\n  const noDataOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: noData,\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice'\n    }\n  };\n  useEffect(() => {\n    // Getting insta & fb DATA :\n    if (props.fbData === null || props.instaData === null) {\n      props.getFbData();\n      props.getInstaData();\n    }\n\n    ; // props.getFbData();\n    // props.getInstaData();\n\n    setTimeout(() => {\n      setLoading(false);\n    }, 2000);\n  }, []);\n  useEffect(() => {\n    props.wizardIntentType === null && history.push('/home/wizard-popup');\n  }, [props.wizardIntentType]);\n\n  const renderPage = (index, platform, pageName, picture, idPage, accessToken, pageStatus) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    key: index,\n    className: \"justify-content-between mb-4\",\n    onClick: () => {\n      setSelectedPage(idPage);\n      props.setWizardSelectedPage(platform, pageName, picture, idPage, accessToken, pageStatus);\n    },\n    style: {\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, picture !== null ? /*#__PURE__*/React.createElement(Image, {\n    src: picture,\n    className: \"m-auto\",\n    style: {\n      maxWidth: '40px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(Image, {\n    src: `https://graph.facebook.com/v8.0/${idPage}/picture?access_token=${accessToken}`,\n    className: \"m-auto\",\n    style: {\n      maxWidth: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Image, {\n    src: platform === \"insta\" ? INSTA_ICON : FB_ICON,\n    className: \"ml-auto\",\n    style: {\n      zIndex: 1,\n      marginTop: '-10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-auto ml-3 wizard-pages-page-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, pageName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(WizardRadioBtn, {\n    checked: selectedPage === idPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }));\n\n  const checkNextStep = () => {\n    if (selectedPage !== null && props.wizardIntentType !== null) {\n      setBtnLoading(true);\n\n      if (props.wizardIntentType === \"generic\") {\n        //Add Project \n        props.addProject(props.wizardSelectedPage).then(() => {\n          // setBtnLoading(false);\n          props.nextSpecificWizardStep(2);\n        }); // props.addProject(props.wizardSelectedPage)\n        // props.nextSpecificWizardStep(2);\n      } else {\n        props.nextWizardStep();\n      }\n    } else {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: 'wizard-pages-active-btn'\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: 'Please select a page',\n        confirmButtonText: 'Okay' // text: \"Please select a page\",\n        // icon: 'warning',\n\n      });\n    }\n  };\n\n  const handleFilter = platform => {\n    if (platform === 'facebook') {\n      setShowFacebook(true);\n      setShowInstgram(false);\n    } else if (platform === 'instagram') {\n      setShowFacebook(false);\n      setShowInstgram(true);\n    } else {\n      setShowFacebook(false);\n      setShowInstgram(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-column wizard-pages-container\",\n    style: {\n      backgroundColor: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex mt-4 ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-auto wizard-pages-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, \"Select a page to moderate.\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"wizard-pages-filter-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: !showFacebook && !showInstgram ? \"wizard-pages-filter-btn-active\" : \"wizard-pages-filter-btn\",\n    onClick: () => handleFilter('all'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }, \"All pages\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: showFacebook ? \"wizard-pages-filter-btn-active\" : \"wizard-pages-filter-btn\",\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: () => handleFilter('facebook'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, \"Facebook\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: showInstgram ? \"wizard-pages-filter-btn-active\" : \"wizard-pages-filter-btn\",\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: () => handleFilter('instagram'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, \"Instagram\"))), /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  })), !loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-5 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }), !showInstgram && !showFacebook && /*#__PURE__*/React.createElement(Col, {\n    className: \"pl-5 pr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 29\n    }\n  }, props.fbData !== null && Object.entries(props.fbData).map(([key, tab]) => key === \"listPageInvite\" || key === \"listPageInviteAdmin\" || key === \"listPageConnectedOwner\" && tab.map((page, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 37\n    }\n  }, renderPage(index, \"fb\", page.name, null, page.idPage, page.access_token, key)))), props.instaData !== null && Object.entries(props.instaData).map(([key, tab]) => key === \"listPageInvite\" || key === \"listPageInviteAdmin\" || key === \"listPageConnectedOwner\" && tab.map((page, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 37\n    }\n  }, renderPage(index, \"insta\", page.name, page.imageUrl, page.idPage, page.ccess_token, key)))), props.instaData[\"listPageConnectedOwner\"].length === 0 && props.instaData[\"listPageInvite\"].length === 0 && props.instaData[\"listPageInviteAdmin\"].length === 0 && props.fbData[\"listPageConnectedOwner\"].length === 0 && props.fbData[\"listPageInvite\"].length === 0 && props.fbData[\"listPageInviteAdmin\"].length === 0 && /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Lottie, {\n    options: noDataOptions,\n    width: 200,\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mx-auto mt-3 wizard-pages-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 37\n    }\n  }, \"Sorry! you must connect at least one page\"))), showFacebook && /*#__PURE__*/React.createElement(Col, {\n    className: \"pl-5 pr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 25\n    }\n  }, props.fbData !== null && Object.entries(props.fbData).map(([key, tab]) => key === \"listPageInvite\" || key === \"listPageInviteAdmin\" || key === \"listPageConnectedOwner\" && tab.map((page, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 33\n    }\n  }, renderPage(index, \"fb\", page.name, null, page.idPage, page.access_token, key)))), props.fbData[\"listPageInvite\"].length === 0 && props.fbData[\"listPageInviteAdmin\"].length === 0 && props.fbData[\"listPageConnectedOwner\"].length === 0 && /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Lottie, {\n    options: noDataOptions,\n    width: 200,\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mx-auto mt-3 wizard-pages-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 33\n    }\n  }, \"Sorry! you must connect at least one facebook page\"))), showInstgram && /*#__PURE__*/React.createElement(Col, {\n    className: \"pl-5 pr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 29\n    }\n  }, props.instaData !== null && Object.entries(props.instaData).map(([key, tab]) => key === \"listPageInvite\" || key === \"listPageInviteAdmin\" || key === \"listPageConnectedOwner\" && tab.map((page, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 37\n    }\n  }, renderPage(index, \"insta\", page.name, page.imageUrl, page.idPage, page.ccess_token, key)))), props.instaData[\"listPageInvite\"].length === 0 && props.instaData[\"listPageInviteAdmin\"].length === 0 && props.instaData[\"listPageConnectedOwner\"].length === 0 && /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Lottie, {\n    options: noDataOptions,\n    width: 200,\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mx-auto mt-3 wizard-pages-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 37\n    }\n  }, \"Sorry! you must connect at least one instagram page\"))), /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex justify-content-between pl-4 pr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wizard-pages-inactive-btn mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/home/pages\",\n    style: {\n      textDecoration: 'none',\n      color: '#818E94'\n    },\n    onClick: () => props.resetWizardStep(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 29\n    }\n  }, \"Back\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: props.instaData[\"listPageInvite\"].length === 0 && props.fbData[\"listPageInvite\"].length === 0 && props.instaData[\"listPageConnectedOwner\"].length === 0 ? \"wizard-pages-not-allowed-btn  mr-3\" : \"wizard-pages-inactive-btn mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 33\n    }\n  }, \"Save Draft\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: props.instaData[\"listPageInvite\"].length === 0 && props.fbData[\"listPageInvite\"].length === 0 && props.instaData[\"listPageConnectedOwner\"].length === 0 ? \"wizard-pages-not-allowed-btn\" : \"wizard-pages-active-btn\",\n    onClick: () => props.instaData[\"listPageInvite\"].length === 0 && props.fbData[\"listPageInvite\"].length === 0 && props.instaData[\"listPageConnectedOwner\"].length === 0 ? null : checkNextStep(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 33\n    }\n  }, btnLoading ? /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    variant: \"light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 46\n    }\n  }) : \"Next\"))))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Lottie, {\n    options: defaultOptions,\n    width: 200\n    /*height={400}*/\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    lg: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 9\n    }\n  })));\n}\n\nconst mapStateToProps = state => {\n  return {\n    wizardStep: state.wizardR.wizardStep,\n    fbData: state.socialMediaR.fbData,\n    instaData: state.socialMediaR.instaData,\n    wizardIntentType: state.wizardR.wizardIntentType,\n    wizardSelectedPage: state.wizardR.wizardSelectedPage\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, {\n  addProject,\n  nextWizardStep,\n  nextSpecificWizardStep,\n  resetWizardStep,\n  getFbData,\n  getInstaData,\n  setWizardSelectedPage\n})(WizardPages));","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/AutoWizard/WizardPages.js"],"names":["React","useEffect","useState","connect","addProject","nextWizardStep","nextSpecificWizardStep","resetWizardStep","setWizardSelectedPage","getFbData","getInstaData","WizardRadioBtn","Lottie","Swal","Row","Col","Image","Spinner","Link","withRouter","animationData","noData","INSTA_ICON","require","FB_ICON","WizardPages","props","history","selectedPage","setSelectedPage","showInstgram","setShowInstgram","showFacebook","setShowFacebook","loading","setLoading","btnLoading","setBtnLoading","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","noDataOptions","fbData","instaData","setTimeout","wizardIntentType","push","renderPage","index","platform","pageName","picture","idPage","accessToken","pageStatus","cursor","maxWidth","zIndex","marginTop","checkNextStep","wizardSelectedPage","then","swalWithBootstrapButtons","mixin","customClass","confirmButton","buttonsStyling","fire","title","confirmButtonText","handleFilter","backgroundColor","Object","entries","map","key","tab","page","name","access_token","imageUrl","ccess_token","length","textDecoration","color","width","mapStateToProps","state","wizardStep","wizardR","socialMediaR"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { addProject, nextWizardStep,nextSpecificWizardStep, resetWizardStep, setWizardSelectedPage, } from '../../../redux/actions/wizardActions';\r\nimport { getFbData, getInstaData } from '../../../redux/actions/socialMediaActions';\r\n\r\nimport WizardRadioBtn from './WizardRadioBtn';\r\nimport Lottie from 'react-lottie';\r\n\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\nimport {\r\n    Row,\r\n    Col,\r\n    Image,\r\n    Spinner,\r\n} from 'react-bootstrap';\r\n\r\nimport {\r\n    Link,\r\n    withRouter\r\n} from 'react-router-dom';\r\n\r\nimport animationData from '../../../assets/json/loading.json';\r\nimport noData from '../../../assets/json/not_found_sad.json';\r\nconst INSTA_ICON = require('../../../assets/images/home/insta-icon.png');\r\nconst FB_ICON = require('../../../assets/images/home/fb-icon.png');\r\n\r\nfunction WizardPages(props) {\r\n\r\n    const { history } = props;\r\n\r\n    const [selectedPage, setSelectedPage] = useState(null);\r\n    const [showInstgram, setShowInstgram] = useState(false);\r\n    const [showFacebook, setShowFacebook] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [btnLoading, setBtnLoading] = useState(false);\r\n   \r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: animationData,\r\n        rendererSettings: {\r\n          preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n\r\n    const noDataOptions = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: noData,\r\n        rendererSettings: {\r\n          preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Getting insta & fb DATA :\r\n        if(props.fbData === null || props.instaData === null) {\r\n            props.getFbData();\r\n            props.getInstaData();\r\n        };\r\n        // props.getFbData();\r\n        // props.getInstaData();\r\n        \r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        },2000);\r\n    },[]);\r\n\r\n    useEffect(() => {\r\n        props.wizardIntentType === null && history.push('/home/wizard-popup');\r\n    }, [props.wizardIntentType]);\r\n\r\n    \r\n    const renderPage = (index,platform,pageName,picture,idPage,accessToken,pageStatus) => (\r\n        <>\r\n            <Row key={index} className=\"justify-content-between mb-4\" onClick={() => { setSelectedPage(idPage); props.setWizardSelectedPage(platform,pageName,picture,idPage,accessToken,pageStatus) }} style={{ cursor: 'pointer' }}>\r\n                <Row className=\"d-flex\">\r\n                    <div className=\"d-flex flex-column\">\r\n                        {\r\n                        picture !== null \r\n                        ?\r\n                            <Image src={picture} className=\"m-auto\" style={{maxWidth: '40px'}} />\r\n                        :\r\n                            <Image src={`https://graph.facebook.com/v8.0/${idPage}/picture?access_token=${accessToken}`} className=\"m-auto\" style={{maxWidth: '50px'}} />\r\n                        }\r\n                        <Image src={platform === \"insta\" ? INSTA_ICON : FB_ICON} className=\"ml-auto\" style={{zIndex: 1, marginTop: '-10px'}}/>\r\n                    </div>\r\n\r\n                    <p className=\"my-auto ml-3 wizard-pages-page-title\">{pageName}</p>\r\n                </Row>\r\n\r\n                <div className=\"d-flex\">\r\n                    {/* <input type=\"checkbox\" className=\"m-auto\" /> */}\r\n                    <WizardRadioBtn checked={selectedPage === idPage} />\r\n                </div>\r\n            </Row>\r\n\r\n            <hr />\r\n        </>\r\n    );\r\n\r\n    const checkNextStep = () => {\r\n        if(selectedPage !== null && props.wizardIntentType !== null) {\r\n            setBtnLoading(true);\r\n\r\n            if( props.wizardIntentType === \"generic\"  ) {\r\n                //Add Project \r\n                props.addProject(props.wizardSelectedPage)\r\n                    .then(() =>{\r\n                        // setBtnLoading(false);\r\n                        props.nextSpecificWizardStep(2);\r\n                    });\r\n                // props.addProject(props.wizardSelectedPage)\r\n                // props.nextSpecificWizardStep(2);\r\n                    \r\n            } else {\r\n                props.nextWizardStep();\r\n            }\r\n        } else {\r\n            const swalWithBootstrapButtons = Swal.mixin({\r\n                customClass: {\r\n                  confirmButton: 'wizard-pages-active-btn',\r\n                },\r\n                buttonsStyling: false\r\n            });\r\n            swalWithBootstrapButtons.fire({\r\n                title: 'Please select a page',\r\n                confirmButtonText: 'Okay',\r\n                // text: \"Please select a page\",\r\n                // icon: 'warning',\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleFilter = (platform) => {\r\n        if(platform === 'facebook') {\r\n            setShowFacebook(true);\r\n            setShowInstgram(false);\r\n        } else if(platform === 'instagram') {\r\n            setShowFacebook(false);\r\n            setShowInstgram(true);\r\n        } else {\r\n            setShowFacebook(false);\r\n            setShowInstgram(false);\r\n        }\r\n    };   \r\n\r\n    return (\r\n    <>\r\n    <Row className=\"d-flex mt-5\">  \r\n        <Col lg={1} />\r\n\r\n        <Col className=\"d-flex flex-column wizard-pages-container\" style={{backgroundColor: 'white'}}>\r\n            <Row className=\"d-flex mt-4 ml-2\">\r\n                <p className=\"my-auto wizard-pages-title\">Select a page to moderate.</p>\r\n            </Row>\r\n            \r\n            {/* FILTER BAR */}\r\n            <Row className=\"mt-3 mb-3\">\r\n                <Col lg={2} />\r\n\r\n                <Col className=\"wizard-pages-filter-bar\">\r\n                    <Row className=\"d-flex\">\r\n                        <div className={!showFacebook && !showInstgram ? \"wizard-pages-filter-btn-active\" : \"wizard-pages-filter-btn\"} onClick={() => handleFilter('all')}>\r\n                            All pages\r\n                        </div>\r\n                        \r\n                        <div className={showFacebook ? \"wizard-pages-filter-btn-active\" : \"wizard-pages-filter-btn\"} style={{ cursor: 'pointer' }} onClick={() => handleFilter('facebook')}>\r\n                            Facebook\r\n                        </div>\r\n                        \r\n                        <div className={showInstgram ? \"wizard-pages-filter-btn-active\" : \"wizard-pages-filter-btn\"} style={{ cursor: 'pointer' }} onClick={() => handleFilter('instagram')}>\r\n                           Instagram\r\n                        </div>\r\n                    </Row>\r\n                </Col>\r\n\r\n                <Col lg={2} />\r\n            </Row>\r\n\r\n\r\n            {\r\n            !loading\r\n            ?\r\n                (\r\n                <>\r\n                    <Row className=\"mt-5 mb-5\">\r\n                        <Col lg={2} />\r\n\r\n\r\n                        {!showInstgram && !showFacebook &&\r\n                            <Col className=\"pl-5 pr-4\">\r\n                                {/* render fb data */}\r\n                                {props.fbData !== null && \r\n                                    Object.entries(props.fbData).map( ([key, tab]) => \r\n                                    key === \"listPageInvite\" || key === \"listPageInviteAdmin\" || key === \"listPageConnectedOwner\"\r\n                                    &&\r\n                                    tab.map((page,index) => \r\n                                    <div key={index}>\r\n                                        {renderPage(index,\"fb\",page.name,null,page.idPage,page.access_token,key)}\r\n                                    </div>\r\n                                ))}\r\n                               \r\n                                {/* render insta data */}\r\n                                {props.instaData !== null && \r\n                                    Object.entries(props.instaData).map( ([key, tab]) => \r\n                                    key === \"listPageInvite\" || key === \"listPageInviteAdmin\" || key === \"listPageConnectedOwner\"\r\n                                    &&\r\n                                    tab.map((page,index) => \r\n                                    <div key={index}>\r\n                                        {renderPage(index,\"insta\",page.name,page.imageUrl,page.idPage,page.ccess_token,key)}\r\n                                    </div>\r\n                                    \r\n                                ))}\r\n                                    \r\n                                {/* No Data for fb and instagram */}\r\n                                {\r\n                                props.instaData[\"listPageConnectedOwner\"].length === 0 && \r\n                                props.instaData[\"listPageInvite\"].length === 0 && \r\n                                props.instaData[\"listPageInviteAdmin\"].length === 0 && \r\n\r\n                                props.fbData[\"listPageConnectedOwner\"].length === 0 && \r\n                                props.fbData[\"listPageInvite\"].length === 0 && \r\n                                props.fbData[\"listPageInviteAdmin\"].length === 0 && \r\n                                <Col lg={12} className=\"d-flex flex-column\">   \r\n                                    <Lottie options={noDataOptions} width={200} className=\"m-auto\"/>\r\n                                    <p className=\"mx-auto mt-3 wizard-pages-title\">Sorry! you must connect at least one page</p>\r\n                                </Col>\r\n                                }\r\n                            </Col> \r\n                        }\r\n\r\n                        {showFacebook &&\r\n                        <Col className=\"pl-5 pr-4\">\r\n                            {props.fbData !== null && \r\n                                Object.entries(props.fbData).map( ([key, tab]) => \r\n                                key === \"listPageInvite\" || key === \"listPageInviteAdmin\" || key === \"listPageConnectedOwner\"\r\n                                &&\r\n                                tab.map((page,index) => \r\n                                <div key={index}>\r\n                                    {renderPage(index,\"fb\",page.name,null,page.idPage,page.access_token,key)}\r\n                                </div>\r\n                            ))}\r\n\r\n                            {\r\n                            props.fbData[\"listPageInvite\"].length === 0 && \r\n                            props.fbData[\"listPageInviteAdmin\"].length === 0 && \r\n                            props.fbData[\"listPageConnectedOwner\"].length === 0 && \r\n                            <Col lg={12} className=\"d-flex flex-column\">   \r\n                                <Lottie options={noDataOptions} width={200} className=\"m-auto\"/>\r\n                                <p className=\"mx-auto mt-3 wizard-pages-title\">Sorry! you must connect at least one facebook page</p>\r\n                            </Col>\r\n                            }\r\n                        </Col> \r\n                        }\r\n\r\n                        {showInstgram &&\r\n                            <Col className=\"pl-5 pr-4\">\r\n                                {props.instaData !== null && \r\n                                    Object.entries(props.instaData).map( ([key, tab]) => \r\n                                    key === \"listPageInvite\" || key === \"listPageInviteAdmin\" || key === \"listPageConnectedOwner\"\r\n                                    &&\r\n                                    tab.map((page,index) => \r\n                                    <div key={index}>\r\n                                        {renderPage(index,\"insta\",page.name,page.imageUrl,page.idPage,page.ccess_token,key)}\r\n                                    </div>\r\n                                ))}\r\n\r\n                                {\r\n                                props.instaData[\"listPageInvite\"].length === 0 && \r\n                                props.instaData[\"listPageInviteAdmin\"].length === 0 && \r\n                                props.instaData[\"listPageConnectedOwner\"].length === 0 && \r\n                                <Col lg={12} className=\"d-flex flex-column\">   \r\n                                    <Lottie options={noDataOptions} width={200} className=\"m-auto\"/>\r\n                                    <p className=\"mx-auto mt-3 wizard-pages-title\">Sorry! you must connect at least one instagram page</p>\r\n                                </Col>\r\n                                }\r\n                            </Col> \r\n                        }\r\n\r\n                        <Col lg={2} />\r\n                    </Row>\r\n                    \r\n                    {/* BTNS */}\r\n                    <Row className=\"d-flex justify-content-between pl-4 pr-4\">\r\n                        <div className=\"wizard-pages-inactive-btn mb-3\">\r\n                            {/* MUST RESET ALL WIZARD VARS */}\r\n                            <Link to=\"/home/pages\" style={{textDecoration: 'none', color: '#818E94'}} onClick={() => props.resetWizardStep()} >\r\n                                Back\r\n                            </Link>\r\n                        </div>\r\n\r\n                        <div className=\"mb-3\">\r\n                            <Row>\r\n                                <div className={\r\n                                    props.instaData[\"listPageInvite\"].length === 0 && \r\n                                    props.fbData[\"listPageInvite\"].length === 0 &&\r\n                                    props.instaData[\"listPageConnectedOwner\"].length === 0\r\n                                    ? \r\n                                    \"wizard-pages-not-allowed-btn  mr-3\" \r\n                                    : \r\n                                    \"wizard-pages-inactive-btn mr-3\"\r\n                                    }\r\n                                >\r\n                                    Save Draft\r\n                                </div>\r\n\r\n                                <div \r\n                                    className={\r\n                                        props.instaData[\"listPageInvite\"].length === 0 &&\r\n                                        props.fbData[\"listPageInvite\"].length === 0 && \r\n                                        props.instaData[\"listPageConnectedOwner\"].length === 0\r\n                                        ? \r\n                                        \"wizard-pages-not-allowed-btn\" \r\n                                        : \r\n                                        \"wizard-pages-active-btn\"\r\n                                    }\r\n                                    onClick={() => \r\n                                        props.instaData[\"listPageInvite\"].length === 0 &&\r\n                                        props.fbData[\"listPageInvite\"].length === 0 &&\r\n                                        props.instaData[\"listPageConnectedOwner\"].length === 0\r\n                                        ? \r\n                                        null \r\n                                        : \r\n                                        checkNextStep()\r\n                                    }\r\n                                >\r\n                                    {\r\n                                        btnLoading\r\n                                        ?\r\n                                            (<Spinner animation=\"border\" variant=\"light\" />)\r\n                                        :\r\n                                            \"Next\"\r\n                                    }\r\n                                </div>\r\n                            </Row>\r\n                        </div>\r\n                    </Row>\r\n                </>\r\n                )\r\n            :\r\n                (\r\n                    <div className=\"d-flex\" style={{ width: '100%' }}>\r\n                        <div className=\"m-auto\">\r\n                            <Lottie options={defaultOptions} width={200} /*height={400}*/ />\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n           \r\n            </Col>\r\n\r\n        <Col lg={1} />\r\n    </Row>\r\n    </>\r\n    );\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        wizardStep: state.wizardR.wizardStep,\r\n        fbData : state.socialMediaR.fbData,\r\n        instaData : state.socialMediaR.instaData,\r\n        wizardIntentType: state.wizardR.wizardIntentType,\r\n        wizardSelectedPage: state.wizardR.wizardSelectedPage,\r\n    }\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, { addProject, nextWizardStep, nextSpecificWizardStep, resetWizardStep, getFbData, getInstaData, setWizardSelectedPage })(WizardPages));\r\n"]},"metadata":{},"sourceType":"module"}