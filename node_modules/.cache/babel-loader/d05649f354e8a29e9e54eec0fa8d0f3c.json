{"ast":null,"code":"import axios from 'axios';\nimport { host } from '../../config';\nimport Swal from 'sweetalert2/dist/sweetalert2.js'; // Popup Config: \n\nconst popup = Swal.mixin({\n  customClass: {\n    confirmButton: 'wizard-pages-active-btn'\n  },\n  buttonsStyling: false\n}); // Public reply:\n\nexport const detectCurrency = () => {\n  return dispatch => {\n    return axios.get(`https://ipapi.co/json/`).then(res => {\n      console.log('detecting Currency =>', res.data);\n\n      if (res.data.in_eu) {\n        // Europeen ip adress:\n        dispatch({\n          type: 'DETECT_CURRENCY',\n          payload: {\n            id: \"EUR\",\n            value: \"€\"\n          }\n        });\n      } else {\n        // Not europeen ip adress\n        if (res.data.currency === \"TND\") {\n          // Tunisian IP\n          dispatch({\n            type: 'DETECT_CURRENCY',\n            payload: {\n              id: \"TND\",\n              value: \"TND\"\n            }\n          });\n        } else {\n          // ASIA & AMERICA\n          dispatch({\n            type: 'DETECT_CURRENCY',\n            payload: {\n              id: \"USD\",\n              value: \"$\"\n            }\n          });\n        }\n      }\n    }).catch(err => console.log(\"detecting Currency err\", err));\n  };\n}; // Public reply:\n\nexport const getPricingInfos = () => {\n  return dispatch => {\n    return axios.get(host + `/api/v1/pricing/pricing`).then(res => {\n      console.log('getPricingInfos =>', res.data.data);\n      dispatch({\n        type: 'GET_PRICING_INFO',\n        payload: res.data.data\n      });\n    }).catch(err => console.log(\"getPricingInfos err\", err));\n  };\n};","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/redux/actions/billingActions.js"],"names":["axios","host","Swal","popup","mixin","customClass","confirmButton","buttonsStyling","detectCurrency","dispatch","get","then","res","console","log","data","in_eu","type","payload","id","value","currency","catch","err","getPricingInfos"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,OAAOC,IAAP,MAAiB,iCAAjB,C,CAEA;;AACA,MAAMC,KAAK,GAAGD,IAAI,CAACE,KAAL,CAAW;AACrBC,EAAAA,WAAW,EAAE;AACbC,IAAAA,aAAa,EAAE;AADF,GADQ;AAIrBC,EAAAA,cAAc,EAAE;AAJK,CAAX,CAAd,C,CAOA;;AACA,OAAO,MAAMC,cAAc,GAAG,MAAM;AAChC,SAAQC,QAAD,IAAc;AAEjB,WAAOT,KAAK,CAACU,GAAN,CAAW,wBAAX,EACNC,IADM,CACDC,GAAG,IAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,GAAG,CAACG,IAAzC;;AAEA,UAAGH,GAAG,CAACG,IAAJ,CAASC,KAAZ,EAAmB;AACf;AACAP,QAAAA,QAAQ,CAAC;AACLQ,UAAAA,IAAI,EAAE,iBADD;AAELC,UAAAA,OAAO,EAAE;AAACC,YAAAA,EAAE,EAAE,KAAL;AAAYC,YAAAA,KAAK,EAAE;AAAnB;AAFJ,SAAD,CAAR;AAKH,OAPD,MAOO;AACH;AACA,YAAGR,GAAG,CAACG,IAAJ,CAASM,QAAT,KAAsB,KAAzB,EAAgC;AAC5B;AACAZ,UAAAA,QAAQ,CAAC;AACLQ,YAAAA,IAAI,EAAE,iBADD;AAELC,YAAAA,OAAO,EAAE;AAACC,cAAAA,EAAE,EAAE,KAAL;AAAYC,cAAAA,KAAK,EAAE;AAAnB;AAFJ,WAAD,CAAR;AAIH,SAND,MAMO;AACH;AACAX,UAAAA,QAAQ,CAAC;AACLQ,YAAAA,IAAI,EAAE,iBADD;AAELC,YAAAA,OAAO,EAAE;AAACC,cAAAA,EAAE,EAAE,KAAL;AAAYC,cAAAA,KAAK,EAAE;AAAnB;AAFJ,WAAD,CAAR;AAIH;AACJ;AAGJ,KA7BM,EA8BNE,KA9BM,CA8BCC,GAAD,IAASV,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCS,GAAtC,CA9BT,CAAP;AA+BH,GAjCD;AAkCH,CAnCM,C,CAqCP;;AACA,OAAO,MAAMC,eAAe,GAAG,MAAM;AACjC,SAAQf,QAAD,IAAc;AAEjB,WAAOT,KAAK,CAACU,GAAN,CAAUT,IAAI,GAAI,yBAAlB,EACNU,IADM,CACDC,GAAG,IAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,GAAG,CAACG,IAAJ,CAASA,IAA3C;AAEAN,MAAAA,QAAQ,CAAC;AACLQ,QAAAA,IAAI,EAAE,kBADD;AAELC,QAAAA,OAAO,EAAEN,GAAG,CAACG,IAAJ,CAASA;AAFb,OAAD,CAAR;AAIH,KARM,EASNO,KATM,CASCC,GAAD,IAASV,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCS,GAAnC,CATT,CAAP;AAUH,GAZD;AAaH,CAdM","sourcesContent":["import axios from 'axios'\r\nimport { host } from '../../config';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\n// Popup Config: \r\nconst popup = Swal.mixin({\r\n    customClass: {\r\n    confirmButton: 'wizard-pages-active-btn',\r\n    },\r\n    buttonsStyling: false\r\n});\r\n\r\n// Public reply:\r\nexport const detectCurrency = () => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(`https://ipapi.co/json/`)\r\n        .then(res => {\r\n            console.log('detecting Currency =>', res.data);\r\n\r\n            if(res.data.in_eu) {\r\n                // Europeen ip adress:\r\n                dispatch({\r\n                    type: 'DETECT_CURRENCY',\r\n                    payload: {id: \"EUR\", value: \"€\"},\r\n                });\r\n\r\n            } else {\r\n                // Not europeen ip adress\r\n                if(res.data.currency === \"TND\") {\r\n                    // Tunisian IP\r\n                    dispatch({\r\n                        type: 'DETECT_CURRENCY',\r\n                        payload: {id: \"TND\", value: \"TND\"},\r\n                    });\r\n                } else {\r\n                    // ASIA & AMERICA\r\n                    dispatch({\r\n                        type: 'DETECT_CURRENCY',\r\n                        payload: {id: \"USD\", value: \"$\"},\r\n                    });\r\n                }\r\n            }\r\n            \r\n            \r\n        })\r\n        .catch((err) => console.log(\"detecting Currency err\", err));\r\n    }\r\n};\r\n\r\n// Public reply:\r\nexport const getPricingInfos = () => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + `/api/v1/pricing/pricing`)\r\n        .then(res => {\r\n            console.log('getPricingInfos =>', res.data.data);\r\n\r\n            dispatch({\r\n                type: 'GET_PRICING_INFO',\r\n                payload: res.data.data,\r\n            });\r\n        })\r\n        .catch((err) => console.log(\"getPricingInfos err\", err));\r\n    }\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}