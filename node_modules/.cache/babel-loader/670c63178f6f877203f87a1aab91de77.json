{"ast":null,"code":"import axios from'axios';import{host}from'../../config';export var removeSynonym=function removeSynonym(synonymValue,product,indexSyn,Page,categorySelected){return function(dispatch){var objectToSend={index:indexSyn,id:product._id,synonym:synonymValue};console.log(\"Let's removeSynonym to the product => \",objectToSend);var detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/removesyn/\":\"/api/v1/secure/pagesInsta/removesyn/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"removeSynonym response api =>\",res.data.data);var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// To update the existing products\nvar findCategorySelected=categories.find(function(cat){return cat._id===categorySelected._id;});if(findCategorySelected){dispatch({type:'SELECT_CATEGORIE',payload:findCategorySelected});};}).catch(function(err){console.log(\"removeSynonym error api =>\",err);});};};export var addSynonym=function addSynonym(synonymValue,categorySelected,product,Page){return function(dispatch){var objectToSend={idEntity:categorySelected._id,idChildren:product._id,synonyms:synonymValue};console.log(\"Let's addSynonym to the product => \",objectToSend);var detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/synonymssupdate/\":\"/api/v1/secure/pagesInsta/synonymssupdate/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"addSynonym response api =>\",res.data.data);var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// To update the existing products\nvar findCategorySelected=categories.find(function(cat){return cat._id===categorySelected._id;});if(findCategorySelected){dispatch({type:'SELECT_CATEGORIE',payload:findCategorySelected});};}).catch(function(err){console.log(\"addSynonym error api =>\",err);});};};export var removeProduct=function removeProduct(categorySelected,product,Page){return function(dispatch){var objectToSend={entity:categorySelected._id,id:product._id,productName:product.content};console.log(\"Let's removeProduct => \",objectToSend);var detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/contentremove/\":\"/api/v1/secure/pagesInsta/contentremove/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"removeProduct response api =>\",res.data.data);var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// To update the existing products\nvar findCategorySelected=categories.find(function(cat){return cat._id===categorySelected._id;});if(findCategorySelected){dispatch({type:'SELECT_CATEGORIE',payload:findCategorySelected});};}).catch(function(err){console.log(\"removeProduct error api =>\",err);});};};export var updateProductName=function updateProductName(newProductName,categorySelected,product,Page){return function(dispatch){var objectToSend={name:newProductName,productName:categorySelected.name,id:categorySelected._id,idChildren:product._id};var detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/contentupdate/\":\"/api/v1/secure/pagesInsta/contentupdate/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);// console.log(\"Let's update the product => \", objectToSend, \"with Page =>\", Page, \"with the full URL\", fullUrl);\nreturn axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"updateProductName response api =>\",res.data.data);var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// To update the existing products\nvar findCategorySelected=categories.find(function(cat){return cat._id===categorySelected._id;});if(findCategorySelected){dispatch({type:'SELECT_CATEGORIE',payload:findCategorySelected});};}).catch(function(err){console.log(\"updateProductName error api =>\",err);});};};export var updateCategoryName=function updateCategoryName(categorySelected,categoryName,Page){return function(dispatch){var objectToSend={id:categorySelected._id,name:categoryName};// console.log(\"Let's update the category\", objectToSend, 'id Page', Page.id);\nvar detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/nameentiteupdate/\":\"/api/v1/secure/pagesInsta/nameentiteupdate/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"updateCategoryName response api =>\",res.data.data);var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});}).catch(function(err){console.log(\"updateCategoryName error api =>\",err);});};};export var addCategory=function addCategory(Page,categoryName,allProducts,history){return function(dispatch){var objectToSend={idPage:Page.id,entity:{name:categoryName,values:allProducts}};// console.log(\"add New category\", objectToSend);\nvar detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/entities/add/\":\"/api/v1/secure/pagesInsta/entities/add/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.post(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"addCategory response api =>\",res.data.data);var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});history.push('manage-products');dispatch({type:'SELECT_SOCIAL_MEDIA_PAGE',payload:Page});}).catch(function(err){console.log(\"addCategory error api =>\",err);});};};export var addProductInCategory=function addProductInCategory(category,Page,newProductName){return function(dispatch){var objectToSend={id:category._id,entity:{synonyms:[newProductName],content:newProductName}};// console.log(\"add New Product in category\", objectToSend);\nvar detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/valuesadd/\":\"/api/v1/secure/pagesInsta/valuesadd/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"addProductInCategory response api =>\",res.data.data);var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// To update the existing products\nvar findCategorySelected=categories.find(function(cat){return cat._id===category._id;});if(findCategorySelected){dispatch({type:'SELECT_CATEGORIE',payload:findCategorySelected});};}).catch(function(err){console.log(\"addProductInCategory error api =>\",err);});};};export var deleteCategory=function deleteCategory(category,Page){return function(dispatch){// console.log(\"Rak bech tfasakh l category hedhu =>\", category);\n// console.log(\"Rak bech tfasakh l category men page hedhi =>\", page);\nvar objectToSend={id:category._id};var detectHost=Page.platform===\"facebook\"?\"/api/v1/secure/pages/entiteremove/\":\"/api/v1/secure/pagesInsta/entiteremove/\";var fullUrl=\"\".concat(host).concat(detectHost).concat(Page.id);return axios.put(fullUrl,objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log(\"deleteCategory response api =>\",res.data.data);var categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});// dispatch({\n//     type: 'GET_CATEGORIES',\n//     payload: categories\n// });\n}).catch(function(err){console.log(\"deleteCategory error api =>\",err);});};};export var selectProduct=function selectProduct(product){return function(dispatch){console.log(\"Redux selected Product =>\",product);dispatch({type:'SELECT_PRODUCT',payload:product});};};export var selectCategory=function selectCategory(category,history){return function(dispatch){// console.log(\"Redux selected Category! =>\", category);\ndispatch({type:'SELECT_CATEGORIE',payload:category});history.push('update-products');};};export var getCategories=function getCategories(page){return function(dispatch){return axios.get(host+\"/api/v1/secure/project/get/entitiesproject/\".concat(page.platform,\"/\").concat(page.id),{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){// console.log(\"all Categories of this page => =>\", res.data.data);\nvar categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});};dispatch({type:'GET_CATEGORIES',payload:categories});}).catch(function(err){return console.log(\"err getCategories\",err);});};};","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/redux/actions/myProductsActions.js"],"names":["axios","host","removeSynonym","synonymValue","product","indexSyn","Page","categorySelected","dispatch","objectToSend","index","id","_id","synonym","console","log","detectHost","platform","fullUrl","put","headers","localStorage","getItem","then","res","data","categories","length","map","cat","default","splice","type","payload","findCategorySelected","find","catch","err","addSynonym","idEntity","idChildren","synonyms","removeProduct","entity","productName","content","updateProductName","newProductName","name","updateCategoryName","categoryName","addCategory","allProducts","history","idPage","values","post","push","addProductInCategory","category","deleteCategory","selectProduct","selectCategory","getCategories","page","get"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { host } from '../../config';\r\n\r\nexport const removeSynonym = (synonymValue, product, indexSyn, Page, categorySelected) => {\r\n    return (dispatch) => {\r\n       \r\n        let objectToSend = {\r\n            index : indexSyn,\r\n            id : product._id,\r\n            synonym: synonymValue,\r\n        }\r\n        console.log(\"Let's removeSynonym to the product => \", objectToSend);\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/removesyn/\" : \"/api/v1/secure/pagesInsta/removesyn/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"removeSynonym response api =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n\r\n            // To update the existing products\r\n            let findCategorySelected = categories.find((cat) => {\r\n                return cat._id === categorySelected._id\r\n            })\r\n\r\n            if(findCategorySelected) {\r\n                dispatch({\r\n                    type: 'SELECT_CATEGORIE',\r\n                    payload: findCategorySelected\r\n                });\r\n            };\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"removeSynonym error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const addSynonym = (synonymValue, categorySelected, product, Page) => {\r\n    return (dispatch) => {\r\n        \r\n        let objectToSend = {\r\n            idEntity : categorySelected._id,\r\n            idChildren : product._id,\r\n            synonyms: synonymValue,\r\n        }\r\n        console.log(\"Let's addSynonym to the product => \", objectToSend);\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/synonymssupdate/\" : \"/api/v1/secure/pagesInsta/synonymssupdate/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"addSynonym response api =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n\r\n            // To update the existing products\r\n            let findCategorySelected = categories.find((cat) => {\r\n                return cat._id === categorySelected._id\r\n            })\r\n\r\n            if(findCategorySelected) {\r\n                dispatch({\r\n                    type: 'SELECT_CATEGORIE',\r\n                    payload: findCategorySelected\r\n                });\r\n            };\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"addSynonym error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const removeProduct = (categorySelected, product, Page) => {\r\n    return (dispatch) => {\r\n        \r\n        let objectToSend = {\r\n            entity : categorySelected._id,\r\n            id: product._id,\r\n            productName: product.content\r\n        }\r\n        console.log(\"Let's removeProduct => \", objectToSend);\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/contentremove/\" : \"/api/v1/secure/pagesInsta/contentremove/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"removeProduct response api =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n\r\n            // To update the existing products\r\n            let findCategorySelected = categories.find((cat) => {\r\n                return cat._id === categorySelected._id\r\n            })\r\n\r\n            if(findCategorySelected) {\r\n                dispatch({\r\n                    type: 'SELECT_CATEGORIE',\r\n                    payload: findCategorySelected\r\n                });\r\n            };\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"removeProduct error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const updateProductName = (newProductName, categorySelected, product, Page) => {\r\n    return (dispatch) => {\r\n        \r\n        let objectToSend = {\r\n            name : newProductName,\r\n            productName: categorySelected.name,\r\n            id : categorySelected._id,\r\n            idChildren : product._id,\r\n        }\r\n        \r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/contentupdate/\" : \"/api/v1/secure/pagesInsta/contentupdate/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n        \r\n        // console.log(\"Let's update the product => \", objectToSend, \"with Page =>\", Page, \"with the full URL\", fullUrl);\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"updateProductName response api =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n\r\n            // To update the existing products\r\n            let findCategorySelected = categories.find((cat) => {\r\n                return cat._id === categorySelected._id\r\n            })\r\n\r\n            if(findCategorySelected) {\r\n                dispatch({\r\n                    type: 'SELECT_CATEGORIE',\r\n                    payload: findCategorySelected\r\n                });\r\n            };\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"updateProductName error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const updateCategoryName = (categorySelected,categoryName,Page) => {\r\n    return (dispatch) => {\r\n        \r\n        let objectToSend = {\r\n            id : categorySelected._id,\r\n            name: categoryName,\r\n        };\r\n        // console.log(\"Let's update the category\", objectToSend, 'id Page', Page.id);\r\n        \r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/nameentiteupdate/\" : \"/api/v1/secure/pagesInsta/nameentiteupdate/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n        \r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"updateCategoryName response api =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"updateCategoryName error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const addCategory = (Page, categoryName, allProducts,history) => {\r\n    return (dispatch) => {\r\n\r\n        let objectToSend = {\r\n            idPage: Page.id,\r\n            entity: {\r\n                name: categoryName,\r\n                values: allProducts,\r\n            }\r\n        };\r\n        // console.log(\"add New category\", objectToSend);\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/entities/add/\" : \"/api/v1/secure/pagesInsta/entities/add/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.post(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"addCategory response api =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n\r\n            history.push('manage-products');\r\n\r\n            dispatch({\r\n                type: 'SELECT_SOCIAL_MEDIA_PAGE',\r\n                payload: Page,\r\n            });\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"addCategory error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const addProductInCategory = (category,Page,newProductName) => {\r\n    return (dispatch) => {\r\n     \r\n        let objectToSend = {\r\n            id: category._id,\r\n            entity: {\r\n                synonyms: [newProductName],\r\n                content: newProductName,\r\n            },\r\n        };\r\n        // console.log(\"add New Product in category\", objectToSend);\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/valuesadd/\" : \"/api/v1/secure/pagesInsta/valuesadd/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"addProductInCategory response api =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n\r\n            // To update the existing products\r\n            let findCategorySelected = categories.find((cat) => {\r\n                return cat._id === category._id\r\n            })\r\n\r\n            if(findCategorySelected) {\r\n                dispatch({\r\n                    type: 'SELECT_CATEGORIE',\r\n                    payload: findCategorySelected\r\n                });\r\n            };\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"addProductInCategory error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const deleteCategory = (category,Page) => {\r\n    return (dispatch) => {\r\n        // console.log(\"Rak bech tfasakh l category hedhu =>\", category);\r\n        // console.log(\"Rak bech tfasakh l category men page hedhi =>\", page);\r\n        \r\n        let objectToSend = {\r\n            id: category._id\r\n        };\r\n\r\n        let detectHost = Page.platform === \"facebook\" ? \"/api/v1/secure/pages/entiteremove/\" : \"/api/v1/secure/pagesInsta/entiteremove/\";\r\n        let fullUrl = `${host}${detectHost}${Page.id}`;\r\n\r\n        return axios.put(fullUrl,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log(\"deleteCategory response api =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n\r\n            // dispatch({\r\n            //     type: 'GET_CATEGORIES',\r\n            //     payload: categories\r\n            // });\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"deleteCategory error api =>\", err)\r\n        });\r\n    };\r\n};\r\n\r\nexport const selectProduct = (product) => {\r\n    return (dispatch) => {\r\n        console.log(\"Redux selected Product =>\", product);\r\n        \r\n        dispatch({\r\n            type: 'SELECT_PRODUCT',\r\n            payload: product,\r\n        });\r\n    };\r\n};\r\n\r\nexport const selectCategory = (category,history) => {\r\n    return (dispatch) => {\r\n        // console.log(\"Redux selected Category! =>\", category);\r\n        \r\n        dispatch({\r\n            type: 'SELECT_CATEGORIE',\r\n            payload: category\r\n        });\r\n        history.push('update-products');\r\n    };\r\n};\r\n\r\nexport const getCategories = (page) => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + `/api/v1/secure/project/get/entitiesproject/${page.platform}/${page.id}`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log(\"all Categories of this page => =>\", res.data.data);\r\n\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n            dispatch({\r\n                type: 'GET_CATEGORIES',\r\n                payload: categories\r\n            });\r\n        })\r\n        .catch((err) => console.log(\"err getCategories\", err))\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}