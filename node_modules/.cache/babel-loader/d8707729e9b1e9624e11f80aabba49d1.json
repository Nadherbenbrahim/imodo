{"ast":null,"code":"import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{connect}from'react-redux';import{resetSocialMediaSelections}from'../../../redux/actions/socialMediaActions';import{getCategories,selectCategory,deleteCategory}from'../../../redux/actions/myProductsActions';import{resetَAllWizard}from'../../../redux/actions/wizardActions';import Pages from'../Pages/Pages';import{Col,Row,Modal,Image}from'react-bootstrap';import Lottie from'react-lottie';import{withRouter}from'react-router-dom';// Translations\nimport{trans}from'../../../Translations';import{FaInfoCircle}from'react-icons/fa';import{MdAddCircleOutline}from'react-icons/md';import{BiSearch,BiError}from'react-icons/bi';import{IoIosClose}from'react-icons/io';import animationData from'../../../assets/json/loading.json';import notFoundAnimationData from'../../../assets/json/not-found.json';var TrashSvg=require('../../../assets/images/home/trash-simple.svg');function ManageProducts(props){var lang=props.lang,history=props.history,categories=props.categories,socialMediaPageSelected=props.socialMediaPageSelected,resetَAllWizard=props.resetَAllWizard,getCategories=props.getCategories,selectCategory=props.selectCategory,deleteCategory=props.deleteCategory;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPopover=_useState2[0],setShowPopover=_useState2[1];var _useState3=useState('#fff'),_useState4=_slicedToArray(_useState3,2),iconColor=_useState4[0],setIconColor=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),deleteCategoryModal=_useState8[0],setDeleteCategoryModal=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),CategoryToDelete=_useState10[0],setCategoryToDelete=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),unableToDeleteIndex=_useState12[0],setUnableToDeleteIndex=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),unableToDelete=_useState14[0],setUnableToDelete=_useState14[1];// SEARCH\nvar _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),search=_useState16[0],setSearch=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),searchEnabled=_useState18[0],setSearchEnabled=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),filtredData=_useState20[0],setFiltredData=_useState20[1];var defaultOptions={loop:true,autoplay:true,animationData:animationData,rendererSettings:{preserveAspectRatio:'xMidYMid slice'}};var defaultOptionsNotFound={loop:true,autoplay:true,animationData:notFoundAnimationData,rendererSettings:{preserveAspectRatio:'xMidYMid slice'}};var handlePopover=function handlePopover(delay){setTimeout(function(){setShowPopover(!showPopover);},delay);};var handleAddIconColor=function handleAddIconColor(color){setIconColor(color);};var searchByName=function searchByName(name){setSearch(name);setFiltredData([]);setSearchEnabled(true);var resultfiltred=[];if(name.length>0){resultfiltred=categories.filter(function(category){var categoryLowercase=category.name.toLowerCase();var searchLowercase=name.toLowerCase();return categoryLowercase.indexOf(searchLowercase)>-1;});setFiltredData(resultfiltred);}else{setSearchEnabled(false);}};var renderPopover=function renderPopover(){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex manage-products-popover\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},trans[lang].myProducts.titlePopover));};var confirmDeleteModal=function confirmDeleteModal(){return/*#__PURE__*/React.createElement(Modal,{show:deleteCategoryModal,centered:true},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(IoIosClose,{color:\"#B4B4B4\",size:30,className:\"ml-auto\",style:{cursor:'pointer'},onClick:function onClick(){setCategoryToDelete({});setDeleteCategoryModal(false);}})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(BiError,{color:\"#E5007D\",size:65,className:\"mx-auto mb-3\",style:{cursor:'pointer'}})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto mb-2 confirm-modal-text\"},trans[lang].myProducts.deleteCategory)),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mx-auto mb-3 team-invite-btn d-flex text-center\",onClick:function onClick(){return deleteCategory(CategoryToDelete,socialMediaPageSelected).then(function(){setCategoryToDelete({});setDeleteCategoryModal(false);});}},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},trans[lang].myProducts.confirmDelete))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto mb-2 cancel-btn-modal-text\",onClick:function onClick(){setCategoryToDelete({});setDeleteCategoryModal(false);}},trans[lang].myProducts.rejectDelete))))));};// Reset Page\nuseEffect(function(){resetَAllWizard();// resetSocialMediaSelections();\n},[]);// Get the categories of the page:\nuseEffect(function(){if(socialMediaPageSelected){setLoading(true);setTimeout(function(){getCategories(socialMediaPageSelected).then(function(){return setLoading(false);});},2000);};return function(){// To close the listner\n};},[socialMediaPageSelected]);return/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'135px'}},/*#__PURE__*/React.createElement(Row,{className:\"mt-5\"},/*#__PURE__*/React.createElement(\"p\",{className:\"home-big-title\"},trans[lang].myProducts.title),/*#__PURE__*/React.createElement(FaInfoCircle,{style:{transitionDuration:'300ms'},color:!showPopover?\"#4080FF\":\"#E5007D\",size:'15',onMouseEnter:function onMouseEnter(){return handlePopover('20');},onMouseLeave:function onMouseLeave(){return handlePopover('300');}}),showPopover&&renderPopover()),/*#__PURE__*/React.createElement(Pages,{title:trans[lang].myProducts.smallTitle}),socialMediaPageSelected&&/*#__PURE__*/React.createElement(React.Fragment,null,deleteCategoryModal&&confirmDeleteModal(),!loading?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"d-flex mr-0\"},/*#__PURE__*/React.createElement(Col,{lg:10,className:\"pr-0\"},/*#__PURE__*/React.createElement(Row,{className:\"mr-0\"},/*#__PURE__*/React.createElement(Row,{className:\"team-invite-btn d-flex mx-0 mr-auto\",onMouseEnter:function onMouseEnter(){return handleAddIconColor('#E5007D');},onMouseLeave:function onMouseLeave(){return handleAddIconColor('#fff');},onClick:function onClick(){return props.socialMediaPageSelected&&history.push('add-new-products');}},/*#__PURE__*/React.createElement(MdAddCircleOutline,{className:\"my-auto mr-1\",style:{transitionDuration:'600ms'},color:iconColor,size:'20'}),/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto\"},trans[lang].myProducts.addCategory)),/*#__PURE__*/React.createElement(\"div\",{className:\"manage-products-search-container pr-4 pl-4 ml-auto\"},/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:search,onChange:function onChange(e){return searchByName(e.target.value);},className:\"my-auto mr-2 manage-products-search-input\"}),/*#__PURE__*/React.createElement(BiSearch,{color:\"#B4B4B4\",size:'20',className:\"my-auto\"}))))),/*#__PURE__*/React.createElement(Col,{lg:2})),/*#__PURE__*/React.createElement(Row,{className:\"my-5 mr-0 Bloc-Scroll\",style:{height:'280px',backgroundColor:'transparent'}},filtredData.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{lg:10,className:\"p-3\",style:{backgroundColor:'white',borderRadius:'4px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mx-0 w-100 pt-3 pb-3\",style:{borderBottom:'1px solid #EBEDF0'}},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-auto d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto manage-products-table-title\"},trans[lang].myProducts.category)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex ml-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mr-5 my-auto manage-products-table-title\"},trans[lang].myProducts.products),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-5 my-auto\"}))),filtredData.map(function(cat,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"d-flex mx-0 w-100 pt-3 pb-3 pr-2 pl-2\",style:{borderBottom:'1px solid #EBEDF0'}},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-auto d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto manage-product-entity-name\",onClick:function onClick(){return selectCategory(cat,history);},style:{cursor:'pointer'}},cat.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex ml-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mr-5 my-auto manage-product-entity-name\"},cat.children.length),cat.children.length>0?/*#__PURE__*/React.createElement(Image,{src:TrashSvg,className:\"ml-5 my-auto\",width:\"17\",height:\"17\",style:{cursor:'pointer'},onMouseEnter:function onMouseEnter(){setUnableToDeleteIndex(index);setUnableToDelete(true);},onMouseLeave:function onMouseLeave(){setUnableToDeleteIndex(null);setUnableToDelete(false);}}):/*#__PURE__*/React.createElement(Image,{src:TrashSvg,className:\"ml-5 my-auto\",width:\"17\",height:\"17\",style:{cursor:'pointer'},onClick:function onClick(){setCategoryToDelete(cat);setDeleteCategoryModal(true);}}),unableToDeleteIndex===index&&unableToDelete&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex py-3 span-hover-manageProduct\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto span-hover-manageProduct-text\"},trans[lang].myProducts.categoryEmpty))));}))):filtredData.length===0&&searchEnabled?/*#__PURE__*/React.createElement(\"p\",null,trans[lang].myProducts.noResultSearch,\" \\\"\",search,\"\\\"\"):categories!==null&&categories.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{lg:10,className:\"p-3\",style:{backgroundColor:'white',borderRadius:'4px'}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mx-0 w-100 pt-3 pb-3\",style:{borderBottom:'1px solid #EBEDF0'}},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-auto d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto manage-products-table-title\"},trans[lang].myProducts.category)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex ml-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mr-5 my-auto manage-products-table-title\"},trans[lang].myProducts.products),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-5 my-auto\"}))),categories.map(function(cat,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"d-flex mx-0 w-100 pt-3 pb-3 pr-2 pl-2\",style:{borderBottom:'1px solid #EBEDF0'}},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-auto d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto manage-product-entity-name\",onClick:function onClick(){return selectCategory(cat,history);},style:{cursor:'pointer'}},cat.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex ml-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mr-5 my-auto manage-product-entity-name\"},cat.children.length),cat.children.length>0?/*#__PURE__*/React.createElement(Image,{src:TrashSvg,className:\"ml-5 my-auto\",width:\"17\",height:\"17\",style:{cursor:'pointer'},onMouseEnter:function onMouseEnter(){setUnableToDeleteIndex(index);setUnableToDelete(true);},onMouseLeave:function onMouseLeave(){setUnableToDeleteIndex(null);setUnableToDelete(false);}}):/*#__PURE__*/React.createElement(Image,{src:TrashSvg,className:\"ml-5 my-auto\",width:\"17\",height:\"17\",style:{cursor:'pointer'},onClick:function onClick(){setCategoryToDelete(cat);setDeleteCategoryModal(true);}}),unableToDeleteIndex===index&&unableToDelete&&/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex py-3 span-hover-manageProduct\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto span-hover-manageProduct-text\"},trans[lang].myProducts.categoryEmpty))));}))):categories!==null&&categories.length===0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\",style:{backgroundColor:'#F9F9F9'}},/*#__PURE__*/React.createElement(Lottie,{options:defaultOptionsNotFound,width:200,className:\"m-auto\"/*height={400}*/})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex mt-5\",style:{backgroundColor:'#F9F9F9'}},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto home-big-title\"},trans[lang].myProducts.noEntities))),/*#__PURE__*/React.createElement(Col,{lg:2}))):/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{width:'100%'}},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto\"},/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:200})))));}var mapStateToProps=function mapStateToProps(state){return{lang:state.socialMediaR.lang,socialMediaPageSelected:state.socialMediaR.socialMediaPageSelected,categories:state.productsR.categories,categorySelected:state.productsR.categorySelected};};export default withRouter(connect(mapStateToProps,{resetSocialMediaSelections:resetSocialMediaSelections,getCategories:getCategories,selectCategory:selectCategory,deleteCategory:deleteCategory,resetَAllWizard:resetَAllWizard})(ManageProducts));","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/ManageProducts/ManageProducts.js"],"names":["React","useState","useEffect","connect","resetSocialMediaSelections","getCategories","selectCategory","deleteCategory","resetَAllWizard","Pages","Col","Row","Modal","Image","Lottie","withRouter","trans","FaInfoCircle","MdAddCircleOutline","BiSearch","BiError","IoIosClose","animationData","notFoundAnimationData","TrashSvg","require","ManageProducts","props","lang","history","categories","socialMediaPageSelected","showPopover","setShowPopover","iconColor","setIconColor","loading","setLoading","deleteCategoryModal","setDeleteCategoryModal","CategoryToDelete","setCategoryToDelete","unableToDeleteIndex","setUnableToDeleteIndex","unableToDelete","setUnableToDelete","search","setSearch","searchEnabled","setSearchEnabled","filtredData","setFiltredData","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","defaultOptionsNotFound","handlePopover","delay","setTimeout","handleAddIconColor","color","searchByName","name","resultfiltred","length","filter","category","categoryLowercase","toLowerCase","searchLowercase","indexOf","renderPopover","myProducts","titlePopover","confirmDeleteModal","cursor","then","confirmDelete","rejectDelete","marginTop","title","transitionDuration","smallTitle","push","addCategory","e","target","value","height","backgroundColor","borderRadius","borderBottom","products","map","cat","index","children","categoryEmpty","noResultSearch","noEntities","width","mapStateToProps","state","socialMediaR","productsR","categorySelected"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { resetSocialMediaSelections } from '../../../redux/actions/socialMediaActions';\r\nimport { getCategories, selectCategory, deleteCategory} from '../../../redux/actions/myProductsActions';\r\nimport { resetَAllWizard, } from '../../../redux/actions/wizardActions';\r\n\r\nimport Pages from '../Pages/Pages';\r\n\r\nimport {\r\n  Col,\r\n  Row,\r\n  Modal,\r\n  Image\r\n} from 'react-bootstrap';\r\nimport Lottie from 'react-lottie';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n// Translations\r\nimport { trans } from '../../../Translations';\r\n\r\nimport { FaInfoCircle } from 'react-icons/fa';\r\nimport { MdAddCircleOutline } from 'react-icons/md';\r\nimport { BiSearch, BiError } from 'react-icons/bi';\r\nimport { IoIosClose } from 'react-icons/io';\r\nimport animationData from '../../../assets/json/loading.json';\r\nimport notFoundAnimationData from '../../../assets/json/not-found.json';\r\nconst TrashSvg = require('../../../assets/images/home/trash-simple.svg') ;\r\n\r\n\r\nfunction ManageProducts(props) {\r\n  let { \r\n    lang,\r\n    // Routing:\r\n    history,\r\n\r\n    // Vars:\r\n    categories,\r\n    socialMediaPageSelected,\r\n\r\n    // Functions:\r\n    resetَAllWizard,\r\n    // resetSocialMediaSelections,\r\n    getCategories,\r\n    selectCategory,\r\n    deleteCategory,\r\n    \r\n  } = props;\r\n\r\n    const [showPopover, setShowPopover] = useState(false);\r\n    const [iconColor, setIconColor] = useState('#fff');\r\n    const [loading, setLoading] = useState(false);\r\n    const [deleteCategoryModal, setDeleteCategoryModal] = useState(false);\r\n    const [CategoryToDelete, setCategoryToDelete] = useState({});\r\n    const [unableToDeleteIndex, setUnableToDeleteIndex] = useState(null);\r\n    const [unableToDelete, setUnableToDelete] = useState(false);\r\n    \r\n    // SEARCH\r\n    const[search, setSearch] = useState(\"\");\r\n    const[searchEnabled, setSearchEnabled] = useState(false);\r\n    const[filtredData, setFiltredData] = useState([]);\r\n\r\n    const defaultOptions = {\r\n      loop: true,\r\n      autoplay: true, \r\n      animationData: animationData,\r\n      rendererSettings: {\r\n        preserveAspectRatio: 'xMidYMid slice'\r\n      }\r\n    };\r\n\r\n    const defaultOptionsNotFound = {\r\n      loop: true,\r\n      autoplay: true, \r\n      animationData: notFoundAnimationData,\r\n      rendererSettings: {\r\n        preserveAspectRatio: 'xMidYMid slice'\r\n      }\r\n    };\r\n\r\n    const handlePopover = (delay) => {\r\n      setTimeout( () => {\r\n        setShowPopover(!showPopover);\r\n      },delay)\r\n    };\r\n\r\n    const handleAddIconColor = (color) => {\r\n      setIconColor(color);\r\n    };\r\n\r\n    const searchByName = (name) => {\r\n      setSearch(name);\r\n      setFiltredData([]);\r\n      setSearchEnabled(true);\r\n\r\n      let resultfiltred = [];\r\n      if(name.length > 0) {\r\n        resultfiltred = categories.filter(category => {\r\n          let categoryLowercase = (category.name).toLowerCase();\r\n          let searchLowercase = name.toLowerCase();\r\n          return categoryLowercase.indexOf(searchLowercase) > -1;\r\n        });\r\n        setFiltredData(resultfiltred);\r\n      } else {\r\n        setSearchEnabled(false);\r\n      }\r\n    };\r\n\r\n    const renderPopover = () => (\r\n      <div className=\"d-flex manage-products-popover\">\r\n        <p className=\"m-auto\">\r\n          {trans[lang].myProducts.titlePopover}\r\n          {/* <br/> */}\r\n          {/* <a href=\"\">learn more</a> */}\r\n        </p>\r\n      </div>\r\n    );\r\n\r\n    const confirmDeleteModal = () => (\r\n      <Modal show={deleteCategoryModal} centered>\r\n        <Modal.Body>\r\n          <Col lg={12}>\r\n            <Row>\r\n              <Col lg={12} className=\"d-flex\">\r\n                <IoIosClose color={\"#B4B4B4\"} size={30} className=\"ml-auto\" style={{cursor: 'pointer'}} onClick={() => { setCategoryToDelete({}); setDeleteCategoryModal(false); }} />\r\n              </Col>\r\n\r\n              <Col lg={12} className=\"d-flex\">\r\n                <BiError color={\"#E5007D\"} size={65} className=\"mx-auto mb-3\" style={{cursor: 'pointer'}} />\r\n              </Col>\r\n\r\n              <Col lg={12} className=\"d-flex\">\r\n                <p className=\"mx-auto mb-2 confirm-modal-text\">\r\n                {trans[lang].myProducts.deleteCategory}\r\n                </p>\r\n              </Col>\r\n              \r\n              <Col lg={12} className=\"d-flex\">\r\n                <div className=\"mx-auto mb-3 team-invite-btn d-flex text-center\" onClick={() => deleteCategory(CategoryToDelete,socialMediaPageSelected).then(() => { setCategoryToDelete({}); setDeleteCategoryModal(false); })}>\r\n                  <p className=\"m-auto\">{trans[lang].myProducts.confirmDelete}</p>\r\n                </div>\r\n              </Col>\r\n\r\n              <Col lg={12} className=\"d-flex\">\r\n                <p className=\"mx-auto mb-2 cancel-btn-modal-text\" onClick={() => { setCategoryToDelete({}); setDeleteCategoryModal(false); }}>{trans[lang].myProducts.rejectDelete}</p>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  \r\n    // Reset Page\r\n    useEffect(() => {\r\n      resetَAllWizard();\r\n      // resetSocialMediaSelections();\r\n    },[]);\r\n\r\n    // Get the categories of the page:\r\n    useEffect(() => {\r\n      if(socialMediaPageSelected) {\r\n        setLoading(true);\r\n\r\n        setTimeout(() => {\r\n          getCategories(socialMediaPageSelected)\r\n               .then(() => setLoading(false));\r\n        },2000);\r\n      };\r\n\r\n      return () => {\r\n        // To close the listner\r\n      };\r\n    },[socialMediaPageSelected]);\r\n\r\n    return (\r\n      <div style={{marginTop: '135px'}}>\r\n        <Row className=\"mt-5\">\r\n          <p className=\"home-big-title\">{trans[lang].myProducts.title}</p>\r\n          <FaInfoCircle style={{transitionDuration: '300ms' }} color={!showPopover ? \"#4080FF\" : \"#E5007D\"} size={'15'} onMouseEnter={() => handlePopover('20')} onMouseLeave={() => handlePopover('300')} />\r\n          {showPopover && renderPopover()}\r\n        </Row>\r\n\r\n        <Pages title={trans[lang].myProducts.smallTitle} />\r\n      \r\n        {socialMediaPageSelected &&\r\n        <>\r\n        {/* DELETE MODAL */}\r\n        {deleteCategoryModal && confirmDeleteModal()}\r\n        {\r\n        !loading\r\n        ?\r\n          (\r\n            <>\r\n            {/* ADD & SEARCH */}\r\n            <Row className=\"d-flex mr-0\">\r\n  \r\n              <Col lg={10} className=\"pr-0\" >\r\n                <Row className=\"mr-0\">\r\n                  <Row \r\n                    className=\"team-invite-btn d-flex mx-0 mr-auto\" \r\n                    onMouseEnter={() => handleAddIconColor('#E5007D')} \r\n                    onMouseLeave={() => handleAddIconColor('#fff')}\r\n                    onClick={ () => props.socialMediaPageSelected && history.push('add-new-products') } \r\n                  >\r\n   \r\n                    <MdAddCircleOutline className=\"my-auto mr-1\" style={{ transitionDuration: '600ms'}} color={iconColor} size={'20'} />\r\n                    <p className=\"my-auto\">{trans[lang].myProducts.addCategory}</p>\r\n                  </Row>\r\n  \r\n                  <div className=\"manage-products-search-container pr-4 pl-4 ml-auto\">\r\n                    <Row className=\"d-flex\">\r\n                      <input type={\"text\"} value={search} onChange={(e) => searchByName(e.target.value)} className=\"my-auto mr-2 manage-products-search-input\" />\r\n                      <BiSearch color={\"#B4B4B4\"} size={'20'} className=\"my-auto\" />\r\n                    </Row>\r\n                  </div>\r\n                </Row>\r\n              </Col>\r\n  \r\n              <Col lg={2} />\r\n            </Row>\r\n  \r\n            {/* Categories TABLE */}\r\n            <Row className=\"my-5 mr-0 Bloc-Scroll\" style={{height: '280px',backgroundColor:'transparent'}} >\r\n            {filtredData.length > 0\r\n            ?\r\n            <>\r\n              <Col lg={10} className=\"p-3\" style={{backgroundColor: 'white', borderRadius: '4px'}}>\r\n                <div className=\"d-flex mx-0 w-100 pt-3 pb-3\" style={{borderBottom: '1px solid #EBEDF0'}}>\r\n                  <div className=\"mr-auto d-flex\">\r\n                    <p className=\"my-auto manage-products-table-title\">{trans[lang].myProducts.category}</p>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex ml-auto\">\r\n                    <p className=\"mr-5 my-auto manage-products-table-title\">{trans[lang].myProducts.products}</p>\r\n                    <div className=\"ml-5 my-auto\" />\r\n                  </div>\r\n                </div>\r\n\r\n                {filtredData.map((cat,index) => \r\n                    <div key={index} className=\"d-flex mx-0 w-100 pt-3 pb-3 pr-2 pl-2\" style={{borderBottom: '1px solid #EBEDF0'}}>\r\n                      <div className=\"mr-auto d-flex\">\r\n                        <p className=\"my-auto manage-product-entity-name\" onClick={() => selectCategory(cat,history)} style={{cursor: 'pointer'}}>{cat.name}</p>\r\n                      </div>\r\n\r\n                      <div className=\"d-flex ml-auto\">\r\n                        <p className=\"mr-5 my-auto manage-product-entity-name\">{cat.children.length}</p>\r\n                        {cat.children.length > 0\r\n                        ?\r\n                        <Image src={TrashSvg} className=\"ml-5 my-auto\" width=\"17\" height=\"17\" style={{cursor: 'pointer'}} onMouseEnter={() => {setUnableToDeleteIndex(index); setUnableToDelete(true)}} onMouseLeave={() => { setUnableToDeleteIndex(null); setUnableToDelete(false); }}/>\r\n                        :\r\n                        <Image src={TrashSvg}  className=\"ml-5 my-auto\" width=\"17\" height=\"17\" style={{cursor: 'pointer'}} onClick={() => {setCategoryToDelete(cat); setDeleteCategoryModal(true);}}/>\r\n                        }\r\n\r\n                        {/* Category should be empty to delete it */}\r\n                        {unableToDeleteIndex === index && unableToDelete\r\n                        &&\r\n                        <div className=\"d-flex py-3 span-hover-manageProduct\">\r\n                          <p className=\"m-auto span-hover-manageProduct-text\">{trans[lang].myProducts.categoryEmpty}</p>\r\n                        </div>\r\n                        }\r\n\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                }\r\n              </Col>\r\n            </>\r\n            :\r\n            filtredData.length === 0 && searchEnabled\r\n            ?\r\n            <p>{trans[lang].myProducts.noResultSearch} \"{search}\"</p>\r\n            :\r\n            categories !== null && categories.length > 0\r\n            ?\r\n            (\r\n            <>\r\n              <Col lg={10} className=\"p-3\" style={{backgroundColor: 'white', borderRadius: '4px'}}>\r\n                <div className=\"d-flex mx-0 w-100 pt-3 pb-3\" style={{borderBottom: '1px solid #EBEDF0'}}>\r\n                  <div className=\"mr-auto d-flex\">\r\n                    <p className=\"my-auto manage-products-table-title\">{trans[lang].myProducts.category}</p>\r\n                  </div>\r\n\r\n                  <div className=\"d-flex ml-auto\">\r\n                    <p className=\"mr-5 my-auto manage-products-table-title\">{trans[lang].myProducts.products}</p>\r\n                    <div className=\"ml-5 my-auto\" />\r\n                  </div>\r\n                </div>\r\n\r\n                {categories.map((cat,index) => \r\n                    <div key={index} className=\"d-flex mx-0 w-100 pt-3 pb-3 pr-2 pl-2\" style={{borderBottom: '1px solid #EBEDF0'}}>\r\n                      <div className=\"mr-auto d-flex\">\r\n                        <p className=\"my-auto manage-product-entity-name\" onClick={() => selectCategory(cat,history)} style={{cursor: 'pointer'}}>{cat.name}</p>\r\n                      </div>\r\n\r\n                      <div className=\"d-flex ml-auto\">\r\n                        <p className=\"mr-5 my-auto manage-product-entity-name\">{cat.children.length}</p>\r\n                        {cat.children.length > 0\r\n                        ?\r\n                        <Image src={TrashSvg} className=\"ml-5 my-auto\" width=\"17\" height=\"17\" style={{cursor: 'pointer'}} onMouseEnter={() => {setUnableToDeleteIndex(index); setUnableToDelete(true)}} onMouseLeave={() => { setUnableToDeleteIndex(null); setUnableToDelete(false); }}/>\r\n                        :\r\n                        <Image src={TrashSvg}  className=\"ml-5 my-auto\" width=\"17\" height=\"17\" style={{cursor: 'pointer'}} onClick={() => {setCategoryToDelete(cat); setDeleteCategoryModal(true);}}/>\r\n                        }\r\n\r\n                        {/* Category should be empty  */}\r\n                        {unableToDeleteIndex === index && unableToDelete\r\n                        &&\r\n                        <div className=\"d-flex py-3 span-hover-manageProduct\">\r\n                          <p className=\"m-auto span-hover-manageProduct-text\">{trans[lang].myProducts.categoryEmpty}</p>\r\n                        </div>\r\n                        }\r\n\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                }\r\n              </Col>\r\n            </>\r\n            )\r\n            :\r\n            categories !== null && categories.length === 0\r\n            &&\r\n            (\r\n            <>\r\n            <Col lg={12} className=\"d-flex\" style={{backgroundColor: '#F9F9F9' }}>\r\n              <Lottie options={defaultOptionsNotFound} width={200} className=\"m-auto\" /*height={400}*/ />\r\n            </Col>\r\n\r\n            <Col lg={12} className=\"d-flex mt-5\" style={{backgroundColor: '#F9F9F9' }}>\r\n                <p className=\"m-auto home-big-title\">{trans[lang].myProducts.noEntities}</p>\r\n            </Col>\r\n            </>\r\n            )\r\n            }\r\n\r\n            <Col lg={2} />\r\n            </Row>\r\n            </>\r\n            )\r\n            :\r\n            (\r\n              <div className=\"d-flex\" style={{ width: '100%' }}>\r\n                  <div className=\"m-auto\">\r\n                      <Lottie options={defaultOptions} width={200} />\r\n                  </div>\r\n              </div>\r\n            )\r\n          }\r\n          </>\r\n        }\r\n      </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    lang : state.socialMediaR.lang,\r\n    socialMediaPageSelected : state.socialMediaR.socialMediaPageSelected,\r\n    categories : state.productsR.categories,\r\n    categorySelected : state.productsR.categorySelected,\r\n  }\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, {resetSocialMediaSelections, getCategories, selectCategory, deleteCategory, resetَAllWizard })(ManageProducts));\r\n"]},"metadata":{},"sourceType":"module"}