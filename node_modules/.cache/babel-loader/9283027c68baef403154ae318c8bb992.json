{"ast":null,"code":"var _jsxFileName = \"/usr/work/smart_front_oussema/src/app/Home/AutoWizard/WizardIntentDetails.js\";\nimport React, { useState, useRef } from 'react';\nimport { Row, Col, Popover, Overlay // Button,\n} from 'react-bootstrap';\nimport Popup from 'reactjs-popup';\nimport { connect } from 'react-redux';\nimport { addGenericResponse, updateGenericResponse } from '../../../redux/actions/wizardActions';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport { IoIosArrowDown, IoIosClose } from 'react-icons/io';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport { MdAddCircleOutline } from 'react-icons/md';\n\nfunction WizardIntentDetails(props) {\n  const [intentState, setIntentState] = useState('save'); // const [intentClosed, setIntentClosed] = useState(false);\n\n  const [genericResponse, setGenericResponse] = useState('');\n  const [specificResponse, SetSpecificResponse] = useState('');\n  const [productName, setProductName] = useState('');\n  const [show, setShow] = useState(false);\n  const [target, setTarget] = useState(null);\n  const ref = useRef(null);\n\n  const handleClick = event => {\n    setShow(!show);\n    setTarget(event.target);\n  };\n\n  const handleSaveGenericResponse = (intent, wizardIdProject) => {\n    let project = {\n      genericAnswer: genericResponse,\n      intent: intent\n    };\n\n    if (intentState === 'save') {\n      props.addGenericResponse(project, wizardIdProject);\n      setIntentState('update');\n    } else {\n      props.updateGenericResponse(project, wizardIdProject);\n    }\n  };\n\n  const addNewProduct = () => {\n    // First update api : entity === categorie :\n    let objectToSend = {\n      idPage: props.wizardSelectedPage.id,\n      typePage: props.wizardSelectedPage.platform,\n      entity: productName,\n      intent: props.intent,\n      genericAnswer: genericResponse,\n      specificAnswer: specificResponse,\n      categorie: productName\n    };\n    console.log(\"Object first update\", objectToSend); // return axios.put(host + `/api/v1/secure/project/firstupdate/${idproject}`, data, {\n    //     headers: {\n    //         'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n    //     }\n    // })\n    // .then(res => {\n    //     console.log('first update response redux =>', res.data)   \n    //     // if (res.data.data === \"not exist\") {\n    //     //     dispatch(showCategoryPoppup())\n    //     // } else {\n    //     //     dispatch(hideCategoryPoppup())\n    //     // }\n    // })\n    // .catch((err) => console.log(\"Wizard Intent Detail err\", err))\n  };\n\n  return /*#__PURE__*/React.createElement(Col, {\n    lg: 5,\n    className: \"mb-3 mr-3\",\n    key: props.intent.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column wizard-config-intents-container\",\n    style: {\n      borderRadius: '0.5rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"justify-content-between d-flex flex-row mx-0 p-0  wizard-config-intents-top-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-auto wizard-config-intent-title p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, props.intent), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-auto d-flex p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaTrashAlt, {\n    color: \"#818E94\",\n    size: \"20\",\n    className: \"m-auto\",\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: () => props.stateManagment(props.selectedIntents.filter(intent => intent !== props.intent)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(IoIosArrowDown, {\n    color: \"#818E94\",\n    size: \"20\",\n    className: \"my-auto ml-2\",\n    style: {\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2 ml-2 mt-2 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"wizard-config-textarea-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, \"Generic Response\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    onChange: e => setGenericResponse(e.target.value),\n    value: genericResponse,\n    className: \"wizard-config-textarea\",\n    rows: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, intentState === 'save' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto mr-2 mb-2 wizard-config-update-btn\",\n    onClick: () => handleSaveGenericResponse(props.intent, props.wizardIdProject),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 34\n    }\n  }, \"Save\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto mr-2 mb-2 wizard-config-update-btn\",\n    onClick: () => handleSaveGenericResponse(props.intent, props.wizardIdProject),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 34\n    }\n  }, \"Update\")), intentState === 'update' && /*#__PURE__*/React.createElement(Col, {\n    lg: 11,\n    className: \"mx-auto mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 5,\n    onClick: handleClick,\n    className: \"d-flex flex-row mb-3 pt-2 pb-2 wizard-config-add-product-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(MdAddCircleOutline, {\n    className: \"my-auto mr-2\",\n    color: \"#4080FC\",\n    size: \"20\",\n    style: {\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-auto wizard-config-add-product-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 37\n    }\n  }, \"Add product\")), /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Overlay, {\n    show: show,\n    target: target,\n    placement: \"right\",\n    container: ref.current,\n    containerPadding: 50,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Popover, {\n    id: \"popover-contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Popover.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(IoIosClose, {\n    className: \"ml-auto\",\n    color: '#9F9F9F',\n    size: '25',\n    onClick: handleClick,\n    style: {\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2 ml-2 mt-2 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"wizard-config-textarea-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 53\n    }\n  }, \"Product name\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => setProductName(e.target.value),\n    value: productName,\n    className: \"wizard-config-textarea\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2 ml-2 mt-2 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"wizard-config-textarea-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 53\n    }\n  }, \"Specific response\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    onChange: e => SetSpecificResponse(e.target.value),\n    value: specificResponse,\n    className: \"wizard-config-textarea\",\n    rows: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2 ml-2 mt-2 mb-2 d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto mb-2 wizard-config-update-btn\",\n    onClick: () => addNewProduct(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 52\n    }\n  }, \"Add\")))))), /*#__PURE__*/React.createElement(Popup, {\n    trigger: open => /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 41\n      }\n    }, \"Trigger - \", open ? 'Opened' : 'Closed'),\n    position: \"right center\",\n    closeOnDocumentClick: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 37\n    }\n  }, \" Popup content \")))))));\n}\n\nconst mapStateToProps = state => ({\n  wizardIdProject: state.wizardR.wizardIdProject,\n  wizardIntentType: state.wizardR.wizardIntentType,\n  wizardSelectedPage: state.wizardR.wizardSelectedPage // wizardStep: state.wizardR.wizardStep,\n\n});\n\nexport default connect(mapStateToProps, {\n  addGenericResponse,\n  updateGenericResponse\n})(WizardIntentDetails);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/AutoWizard/WizardIntentDetails.js"],"names":["React","useState","useRef","Row","Col","Popover","Overlay","Popup","connect","addGenericResponse","updateGenericResponse","FaTrashAlt","IoIosArrowDown","IoIosClose","AiOutlineCloseCircle","MdAddCircleOutline","WizardIntentDetails","props","intentState","setIntentState","genericResponse","setGenericResponse","specificResponse","SetSpecificResponse","productName","setProductName","show","setShow","target","setTarget","ref","handleClick","event","handleSaveGenericResponse","intent","wizardIdProject","project","genericAnswer","addNewProduct","objectToSend","idPage","wizardSelectedPage","id","typePage","platform","entity","specificAnswer","categorie","console","log","borderRadius","cursor","stateManagment","selectedIntents","filter","e","value","current","open","mapStateToProps","state","wizardR","wizardIntentType"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Popover,\r\n    Overlay,\r\n    // Button,\r\n} from 'react-bootstrap';\r\nimport Popup from 'reactjs-popup';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { addGenericResponse, updateGenericResponse } from '../../../redux/actions/wizardActions';\r\n\r\n\r\nimport { FaTrashAlt } from 'react-icons/fa';\r\nimport { IoIosArrowDown,IoIosClose } from 'react-icons/io';\r\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\r\nimport { MdAddCircleOutline } from 'react-icons/md';\r\n\r\n\r\nfunction WizardIntentDetails(props) {\r\n\r\n    const [intentState, setIntentState] = useState('save');\r\n    // const [intentClosed, setIntentClosed] = useState(false);\r\n\r\n    const [genericResponse, setGenericResponse] = useState('');\r\n    const [specificResponse, SetSpecificResponse] = useState('');\r\n    const [productName, setProductName] = useState('');\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [target, setTarget] = useState(null);\r\n    const ref = useRef(null);\r\n\r\n    const handleClick = (event) => {\r\n        setShow(!show);\r\n        setTarget(event.target);\r\n    };\r\n\r\n    \r\n\r\n    const handleSaveGenericResponse = (intent,wizardIdProject) => {\r\n        let project = {\r\n            genericAnswer : genericResponse,\r\n            intent: intent,\r\n        };\r\n        \r\n        if(intentState === 'save') {\r\n            props.addGenericResponse(project,wizardIdProject);\r\n            setIntentState('update');\r\n        } else {\r\n            props.updateGenericResponse(project,wizardIdProject);\r\n        }\r\n    };\r\n    \r\n    const addNewProduct = () => {\r\n        \r\n        // First update api : entity === categorie :\r\n        let objectToSend = {\r\n            idPage: props.wizardSelectedPage.id,\r\n            typePage : props.wizardSelectedPage.platform,\r\n            entity: productName,\r\n            intent: props.intent,\r\n            genericAnswer: genericResponse,\r\n            specificAnswer: specificResponse,\r\n            categorie: productName,\r\n        };\r\n        console.log(\"Object first update\", objectToSend);\r\n\r\n\r\n\r\n        // return axios.put(host + `/api/v1/secure/project/firstupdate/${idproject}`, data, {\r\n        //     headers: {\r\n        //         'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n        //     }\r\n        // })\r\n        // .then(res => {\r\n        //     console.log('first update response redux =>', res.data)   \r\n        //     // if (res.data.data === \"not exist\") {\r\n        //     //     dispatch(showCategoryPoppup())\r\n        //     // } else {\r\n        //     //     dispatch(hideCategoryPoppup())\r\n        //     // }\r\n        // })\r\n        // .catch((err) => console.log(\"Wizard Intent Detail err\", err))\r\n    };\r\n\r\n\r\n    return (\r\n                  \r\n        <Col lg={5} className=\"mb-3 mr-3\" key={props.intent.id}>\r\n            \r\n            <div className=\"d-flex flex-column wizard-config-intents-container\" style={{borderRadius: '0.5rem'}}>\r\n                \r\n                <div className=\"justify-content-between d-flex flex-row mx-0 p-0  wizard-config-intents-top-row\">\r\n                    <p className=\"my-auto wizard-config-intent-title p-2\">{props.intent}</p>\r\n\r\n                    <div className=\"my-auto d-flex p-2\">\r\n                        <FaTrashAlt  color={\"#818E94\"} size={\"20\"} className=\"m-auto\" style={{cursor: 'pointer'}} onClick={ () => props.stateManagment(props.selectedIntents.filter( intent =>(intent !== props.intent ))) } />\r\n                        <IoIosArrowDown color={\"#818E94\"} size={\"20\"} className=\"my-auto ml-2\" style={{cursor: 'pointer'}} />\r\n                    </div>\r\n                </div>\r\n                \r\n              \r\n                <div>\r\n                    <div className=\"mr-2 ml-2 mt-2 mb-2\">\r\n                        <label className=\"wizard-config-textarea-label\">Generic Response</label>\r\n                        <textarea onChange={(e) => setGenericResponse(e.target.value)} value={genericResponse} className=\"wizard-config-textarea\" rows=\"5\"/>\r\n                    </div>\r\n\r\n                    <div className=\"d-flex\">\r\n                        {\r\n                            intentState === 'save' \r\n                            ?\r\n                                (<div className=\"ml-auto mr-2 mb-2 wizard-config-update-btn\" onClick={() => handleSaveGenericResponse(props.intent,props.wizardIdProject)}>Save</div>)\r\n                            :\r\n                                (<div className=\"ml-auto mr-2 mb-2 wizard-config-update-btn\" onClick={() => handleSaveGenericResponse(props.intent,props.wizardIdProject)}>Update</div>)\r\n                        }\r\n                    </div>\r\n\r\n                    {/* PRODUCTS */}\r\n                    {\r\n                        intentState === 'update' &&\r\n                        <Col lg={11} className=\"mx-auto mt-4\">\r\n                            <Row className=\"justify-content-between\">    \r\n                                {/* \r\n                                    Loop all available products here =>:\r\n                                <Col lg={5} className=\"d-flex flex-row mb-3 pt-2 pb-2 wizard-config-product-box\">\r\n                                    <p className=\"m-auto wizard-config-product-name\">hlalo</p>\r\n                                    <AiOutlineCloseCircle className=\"my-auto ml-1\" color={\"#F49BCC\"} size={\"20\"} style={{cursor: 'pointer'}} />\r\n                                </Col> */}\r\n                            \r\n                                <Col lg={5} onClick={handleClick} className=\"d-flex flex-row mb-3 pt-2 pb-2 wizard-config-add-product-box\">\r\n                                    <MdAddCircleOutline className=\"my-auto mr-2\" color={\"#4080FC\"} size={\"20\"} style={{cursor: 'pointer'}} />\r\n                                    <p className=\"my-auto wizard-config-add-product-name\">Add product</p>\r\n                                </Col>\r\n\r\n                                <div ref={ref}>\r\n                                    <Overlay\r\n                                        show={show}\r\n                                        target={target}\r\n                                        placement=\"right\"\r\n                                        container={ref.current}\r\n                                        containerPadding={50}\r\n                                    >\r\n                                        <Popover id=\"popover-contained\">\r\n                                            <Popover.Content>\r\n                                                <div className=\"d-flex\">\r\n                                                    <IoIosClose className=\"ml-auto\" color={'#9F9F9F'} size={'25'} onClick={handleClick} style={{cursor: 'pointer'}} />\r\n                                                </div>\r\n                                                <div className=\"mr-2 ml-2 mt-2 mb-2\">\r\n                                                    <label className=\"wizard-config-textarea-label\">Product name</label>\r\n                                                    <input onChange={(e) => setProductName(e.target.value)} value={productName} className=\"wizard-config-textarea\" />\r\n                                                </div>\r\n                                                \r\n                                                <div className=\"mr-2 ml-2 mt-2 mb-2\">\r\n                                                    <label className=\"wizard-config-textarea-label\">Specific response</label>\r\n                                                    <textarea onChange={(e) => SetSpecificResponse(e.target.value)} value={specificResponse} className=\"wizard-config-textarea\" rows=\"3\"/>\r\n                                                </div>\r\n\r\n                                                <div className=\"mr-2 ml-2 mt-2 mb-2 d-flex\">\r\n                                                   <div className=\"ml-auto mb-2 wizard-config-update-btn\" onClick={() => addNewProduct()}>Add</div>\r\n                                                </div>\r\n                                            </Popover.Content>\r\n                                        </Popover>\r\n                                    </Overlay>\r\n                                </div>\r\n\r\n                                <Popup\r\n                                    trigger={open => (\r\n                                        <button className=\"button\">Trigger - {open ? 'Opened' : 'Closed'}</button>\r\n                                    )}\r\n                                    position=\"right center\"\r\n                                    closeOnDocumentClick\r\n                                    >\r\n                                    <span> Popup content </span>\r\n                                </Popup>\r\n\r\n                            </Row>\r\n                        </Col>\r\n                    }\r\n                </div>\r\n            \r\n            </div>\r\n        </Col>\r\n   \r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    wizardIdProject: state.wizardR.wizardIdProject,\r\n    wizardIntentType: state.wizardR.wizardIntentType,\r\n    wizardSelectedPage: state.wizardR.wizardSelectedPage,\r\n    // wizardStep: state.wizardR.wizardStep,\r\n})\r\n\r\nexport default connect(mapStateToProps, { addGenericResponse, updateGenericResponse })(WizardIntentDetails)\r\n"]},"metadata":{},"sourceType":"module"}