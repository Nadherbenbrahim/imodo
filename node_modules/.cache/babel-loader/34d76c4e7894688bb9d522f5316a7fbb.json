{"ast":null,"code":"var _jsxFileName = \"/usr/work/smart_front_oussema/src/app/Home/ManageProducts/ProductDetails.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { selectProduct, updateProductName, removeProduct, addSynonym, removeSynonym } from '../../../redux/actions/myProductsActions';\nimport AddSynonymInput from './AddSynonymInput';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport { FiEdit } from 'react-icons/fi';\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\nimport ReactTooltip from 'react-tooltip';\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\nimport { Col, Row } from 'react-bootstrap';\nexport const ProductDetails = props => {\n  let {\n    indexProduct,\n    product,\n    synonyms,\n    allProducts,\n    setAllProducts,\n    socialMediaPageSelected,\n    categorySelected,\n    productSelected,\n    selectProduct,\n    updateProductName,\n    removeProduct,\n    addSynonym,\n    addStaticSynonym,\n    removeSynonym\n  } = props;\n  const inputRef = useRef();\n  const [modifyProductContent, setModifyProductContent] = useState(product.content);\n  const [enableProductInput, setEnableProductInput] = useState(false);\n  const [synonymBoxBorder, setSynonymBoxBorder] = useState(false);\n\n  const modifyProduct = () => {\n    updateProductName(modifyProductContent, categorySelected, productSelected, socialMediaPageSelected).then(() => {\n      ;\n      setEnableProductInput(false);\n    }).catch(() => {\n      setEnableProductInput(false);\n      Swal.fire({\n        position: 'center',\n        icon: 'error',\n        title: 'Error while updating product name',\n        showConfirmButton: false,\n        timer: 2000\n      });\n    });\n  };\n\n  const deleteProduct = () => {\n    removeProduct(categorySelected, product, socialMediaPageSelected).catch(() => {\n      Swal.fire({\n        position: 'center',\n        icon: 'error',\n        title: 'Error while deleting the product',\n        showConfirmButton: false,\n        timer: 2000\n      });\n    }); // let { allProducts,setAllProducts } = props;\n    // let oldProducts = [...allProducts];\n    // oldProducts.splice(indexProduct,1);\n    // setAllProducts(oldProducts);    \n  };\n\n  const deleteSynonym = (synonym, indexSyn) => {\n    removeSynonym(synonym, product, indexSyn, socialMediaPageSelected, categorySelected).catch(() => {\n      Swal.fire({\n        position: 'center',\n        icon: 'error',\n        title: 'Error while deleting the synonym',\n        showConfirmButton: false,\n        timer: 2000\n      });\n    });\n  };\n\n  useEffect(() => {\n    enableProductInput && inputRef.current.focus();\n  }, [enableProductInput]);\n  return /*#__PURE__*/React.createElement(Row, {\n    className: \"p-3\",\n    key: indexProduct,\n    style: {\n      borderBottom: '1px solid #EBEDF0'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 5,\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-auto d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, enableProductInput ? /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    ref: inputRef,\n    value: modifyProductContent,\n    onChange: e => setModifyProductContent(e.target.value),\n    className: \"my-auto synonym-box-white w-100\",\n    style: {\n      border: '1px solid #818E94',\n      fontSize: '15px',\n      fontFamily: 'Poppins SemiBold',\n      color: '#818E94'\n    },\n    onKeyDown: e => {\n      if (e.key === 'Enter') modifyProduct();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-auto manage-product-entity-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, product.content))), /*#__PURE__*/React.createElement(Col, {\n    lg: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"mx-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, synonyms.length > 0 && synonyms.map((synonym, indexSyn) => /*#__PURE__*/React.createElement(Col, {\n    key: indexSyn,\n    lg: 5,\n    className: \"synonym-box-gray d-flex mr-1 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 33\n    }\n  }, synonym.length > 11 ? /*#__PURE__*/React.createElement(\"p\", {\n    \"data-for\": \"synonymTip\",\n    \"data-tip\": synonym,\n    className: \"my-auto\",\n    style: {\n      cursor: 'help'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 37\n    }\n  }, synonym.substring(0, 10), \"...\") : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 37\n    }\n  }, synonym), /*#__PURE__*/React.createElement(AiOutlineCloseCircle, {\n    className: \"my-auto ml-1\",\n    color: '#818E94',\n    size: '17',\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: () => deleteSynonym(synonym, indexSyn),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(ReactTooltip, {\n    id: \"synonymTip\",\n    textColor: \"#fff\",\n    backgroundColor: \"#E5007D\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    lg: 4,\n    className: \"synonym-box-white d-flex mr-1 mb-2\",\n    style: {\n      border: synonymBoxBorder ? '1px solid #818E94' : '1px dashed #818E94'\n    },\n    onClick: () => setSynonymBoxBorder(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(AddSynonymInput, {\n    addSynonym: addSynonym,\n    addStaticSynonym: addStaticSynonym,\n    removeSynonym: removeSynonym,\n    index: indexProduct,\n    product: product,\n    setSynonymBoxBorder: setSynonymBoxBorder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"ml-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FiEdit, {\n    className: \"my-auto\",\n    color: '#E5007D',\n    size: '25',\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: () => {\n      selectProduct(product);\n      setEnableProductInput(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(FaTrashAlt, {\n    className: \"my-auto ml-3\",\n    color: '#E5007D',\n    size: '25',\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: deleteProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }))))));\n};\n\nconst mapStateToProps = state => ({\n  socialMediaPageSelected: state.socialMediaR.socialMediaPageSelected,\n  categorySelected: state.productsR.categorySelected,\n  productSelected: state.productsR.productSelected\n});\n\nexport default connect(mapStateToProps, {\n  selectProduct,\n  updateProductName,\n  removeProduct,\n  addSynonym,\n  removeSynonym\n})(ProductDetails);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/ManageProducts/ProductDetails.js"],"names":["React","useState","useRef","useEffect","connect","selectProduct","updateProductName","removeProduct","addSynonym","removeSynonym","AddSynonymInput","FaTrashAlt","FiEdit","AiOutlineCloseCircle","ReactTooltip","Swal","Col","Row","ProductDetails","props","indexProduct","product","synonyms","allProducts","setAllProducts","socialMediaPageSelected","categorySelected","productSelected","addStaticSynonym","inputRef","modifyProductContent","setModifyProductContent","content","enableProductInput","setEnableProductInput","synonymBoxBorder","setSynonymBoxBorder","modifyProduct","then","catch","fire","position","icon","title","showConfirmButton","timer","deleteProduct","deleteSynonym","synonym","indexSyn","current","focus","borderBottom","e","target","value","border","fontSize","fontFamily","color","key","length","map","cursor","substring","mapStateToProps","state","socialMediaR","productsR"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { selectProduct, updateProductName, removeProduct, addSynonym, removeSynonym } from '../../../redux/actions/myProductsActions';\r\n\r\nimport AddSynonymInput from './AddSynonymInput';\r\nimport { FaTrashAlt } from 'react-icons/fa';\r\nimport { FiEdit } from 'react-icons/fi';\r\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js'\r\n\r\n\r\nimport {\r\n    Col,\r\n    Row,\r\n} from 'react-bootstrap';\r\n\r\nexport const ProductDetails = (props) => {\r\n\r\n    let { \r\n        indexProduct,\r\n        product,\r\n        synonyms,\r\n        allProducts, \r\n        setAllProducts,\r\n\r\n        socialMediaPageSelected,\r\n        categorySelected,\r\n        productSelected,\r\n\r\n        selectProduct,\r\n        updateProductName,\r\n        removeProduct,\r\n        addSynonym,\r\n        addStaticSynonym,\r\n        removeSynonym,\r\n    } = props;\r\n\r\n    const inputRef = useRef();\r\n    const [modifyProductContent, setModifyProductContent] = useState(product.content);\r\n    const [enableProductInput, setEnableProductInput] = useState(false);\r\n    const [synonymBoxBorder, setSynonymBoxBorder] = useState(false);\r\n\r\n    const modifyProduct = () => {\r\n        updateProductName(modifyProductContent, categorySelected, productSelected, socialMediaPageSelected)\r\n        .then(() => {;\r\n            setEnableProductInput(false);\r\n        })\r\n        .catch(() => {\r\n            setEnableProductInput(false);\r\n            Swal.fire({\r\n                position: 'center',\r\n                icon: 'error',\r\n                title: 'Error while updating product name',\r\n                showConfirmButton: false,\r\n                timer: 2000\r\n            })\r\n        })\r\n    };\r\n\r\n    const deleteProduct = () => {\r\n        removeProduct(categorySelected, product, socialMediaPageSelected)\r\n        .catch(() => {\r\n            Swal.fire({\r\n                position: 'center',\r\n                icon: 'error',\r\n                title: 'Error while deleting the product',\r\n                showConfirmButton: false,\r\n                timer: 2000\r\n            })\r\n        });\r\n\r\n        // let { allProducts,setAllProducts } = props;\r\n        // let oldProducts = [...allProducts];\r\n\r\n        // oldProducts.splice(indexProduct,1);\r\n        // setAllProducts(oldProducts);    \r\n    };\r\n\r\n    const deleteSynonym = (synonym, indexSyn) => {\r\n        removeSynonym(synonym, product, indexSyn,socialMediaPageSelected, categorySelected) \r\n        .catch(() => {\r\n            Swal.fire({\r\n                position: 'center',\r\n                icon: 'error',\r\n                title: 'Error while deleting the synonym',\r\n                showConfirmButton: false,\r\n                timer: 2000\r\n            });\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        enableProductInput && inputRef.current.focus();\r\n    },[enableProductInput]);\r\n\r\n    return (\r\n    <Row className=\"p-3\" key={indexProduct} style={{ borderBottom: '1px solid #EBEDF0' }}>\r\n        <Col lg={5} className=\"d-flex\">\r\n            <div className=\"mr-auto d-flex\">\r\n                {enableProductInput\r\n                ?\r\n                <input \r\n                    type=\"text\" \r\n                    ref={inputRef} \r\n                    value={modifyProductContent}\r\n                    onChange={(e) => setModifyProductContent(e.target.value)}\r\n                    className=\"my-auto synonym-box-white w-100\" \r\n                    style={{ border: '1px solid #818E94',fontSize: '15px', fontFamily: 'Poppins SemiBold', color: '#818E94' }}\r\n                    onKeyDown={(e) => { if(e.key === 'Enter') modifyProduct(); }}\r\n                />\r\n                :\r\n                <p className=\"my-auto manage-product-entity-name\">{product.content}</p>\r\n                }\r\n            </div>\r\n        </Col>\r\n\r\n        <Col lg={7}>\r\n            <Row>\r\n                <Col lg={10}>\r\n                    <Row className=\"mx-0\">\r\n                        {synonyms.length > 0\r\n                        &&\r\n                        synonyms.map((synonym,indexSyn) => \r\n                            <Col key={indexSyn} lg={5} className=\"synonym-box-gray d-flex mr-1 mb-2\">\r\n                                <Row className=\"d-flex mx-auto\">\r\n                                    {synonym.length > 11\r\n                                    ?\r\n                                    <p data-for='synonymTip' data-tip={synonym} className=\"my-auto\" style={{cursor: 'help'}}>{synonym.substring(0,10)}...</p>\r\n                                    :\r\n                                    <p className=\"my-auto\">{synonym}</p>\r\n                                    }\r\n                                    <AiOutlineCloseCircle \r\n                                        className=\"my-auto ml-1\" \r\n                                        color={'#818E94'} \r\n                                        size={'17'} \r\n                                        style={{ cursor: 'pointer' }} \r\n                                        onClick={() => deleteSynonym(synonym,indexSyn)}\r\n                                    />\r\n                                </Row>\r\n                                <ReactTooltip id='synonymTip' textColor='#fff' backgroundColor='#E5007D' />\r\n                            </Col>    \r\n                        )}\r\n\r\n                        <Col lg={4} className=\"synonym-box-white d-flex mr-1 mb-2\" style={{border: synonymBoxBorder ? '1px solid #818E94' : '1px dashed #818E94'}} onClick={() => setSynonymBoxBorder(true)}>\r\n                            <AddSynonymInput addSynonym={addSynonym} addStaticSynonym={addStaticSynonym}  removeSynonym={removeSynonym} index={indexProduct} product={product} setSynonymBoxBorder={setSynonymBoxBorder} />\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n\r\n                <Col lg={2} className=\"d-flex\">\r\n                    <Row className=\"ml-auto\">\r\n                        <FiEdit className=\"my-auto\" color={'#E5007D'} size={'25'} style={{ cursor: 'pointer' }} onClick={ () => { selectProduct(product); setEnableProductInput(true); } }/>\r\n                        <FaTrashAlt className=\"my-auto ml-3\" color={'#E5007D'} size={'25'} style={{ cursor: 'pointer' }} onClick={deleteProduct}/>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        </Col>\r\n    </Row> \r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    socialMediaPageSelected : state.socialMediaR.socialMediaPageSelected,\r\n    categorySelected : state.productsR.categorySelected,\r\n    productSelected: state.productsR.productSelected, \r\n});\r\n\r\nexport default connect(mapStateToProps, { selectProduct, updateProductName, removeProduct, addSynonym, removeSynonym })(ProductDetails)\r\n"]},"metadata":{},"sourceType":"module"}