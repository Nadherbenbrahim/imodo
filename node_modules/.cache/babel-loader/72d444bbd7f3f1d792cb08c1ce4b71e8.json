{"ast":null,"code":"var _jsxFileName = \"/usr/work/smart_front_oussema/src/app/Login/Facebook.js\";\nimport React from 'react';\nimport './Login.css';\nimport { FacebookProvider, LoginButton } from 'react-facebook';\nimport { connect } from 'react-redux';\nimport { loginAction, fbdata } from '../../actions';\nimport { withRouter } from 'react-router-dom';\n\nfunction Facebook(props) {\n  const handleResponse = data => {\n    // props.fbdata(data)\n    // props.login(data.tokenDetail.accessToken)\n    // console.log('facebookdata ', data)\n    let token = data.tokenDetail.accessToken;\n    axios.post(host + '/api/v1/auth/login/facebook', {\n      token\n    }).then(resdata => {\n      console.log('Login =>', resdata); // localStorage.setItem('authtoken', resdata.data.data.user.idFacebook)\n      // dispatch(hideLoading())\n      // ownProps.history.push('dashboard')\n      // dispatch({\n      //     type: 'LOGIN',\n      //     user: resdata\n      // })\n    }).catch(() => dispatch(hideLoading()));\n  };\n\n  const handleError = error => {\n    console.log(error);\n  };\n\n  return (// <div className=\"App\">\n    React.createElement(FacebookProvider, {\n      appId: \"783983335073350\",\n      version: \"v3.0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(LoginButton, {\n      scope: \"public_profile,publish_pages,email,pages_messaging,pages_manage_cta,pages_show_list,manage_pages,instagram_basic,instagram_manage_comments\",\n      onCompleted: handleResponse,\n      onError: handleError,\n      className: \"facebookbtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, props.content.toUpperCase()))) // </div>\n\n  );\n}\n\nconst mapStateToProps = state => ({\n  user: state.userdata || {}\n});\n\nconst mapDispatchToProps = (dispatch, owenProps) => {\n  return {\n    login: token => dispatch(loginAction(token, owenProps)),\n    fbdata: data => dispatch(fbdata(data))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Facebook));","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Login/Facebook.js"],"names":["React","FacebookProvider","LoginButton","connect","loginAction","fbdata","withRouter","Facebook","props","handleResponse","data","token","tokenDetail","accessToken","axios","post","host","then","resdata","console","log","catch","dispatch","hideLoading","handleError","error","content","toUpperCase","mapStateToProps","state","user","userdata","mapDispatchToProps","owenProps","login"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,aAAP;AACA,SAASC,gBAAT,EAA2BC,WAA3B,QAA8C,gBAA9C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,EAAsBC,MAAtB,QAAoC,eAApC;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,QAAMC,cAAc,GAAIC,IAAD,IAAU;AAC/B;AACA;AAEA;AAEA,QAAIC,KAAK,GAAGD,IAAI,CAACE,WAAL,CAAiBC,WAA7B;AAEAC,IAAAA,KAAK,CAACC,IAAN,CAAWC,IAAI,GAAG,6BAAlB,EAAiD;AAC7CL,MAAAA;AAD6C,KAAjD,EAEGM,IAFH,CAEQC,OAAO,IAAI;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,OAAxB,EADe,CAGf;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACH,KAfD,EAeGG,KAfH,CAeS,MAAMC,QAAQ,CAACC,WAAW,EAAZ,CAfvB;AAiBD,GAzBD;;AA2BA,QAAMC,WAAW,GAAIC,KAAD,IAAW;AAC7BN,IAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACD,GAFD;;AAIA,SACE;AACE,wBAAC,gBAAD;AAAkB,MAAA,KAAK,EAAC,iBAAxB;AAA0C,MAAA,OAAO,EAAC,MAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AACE,MAAA,KAAK,EAAC,4IADR;AAEE,MAAA,WAAW,EAAEhB,cAFf;AAGE,MAAA,OAAO,EAAEe,WAHX;AAIE,MAAA,SAAS,EAAC,aAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOhB,KAAK,CAACkB,OAAN,CAAcC,WAAd,EAAP,CANF,CADF,CAFJ,CAYE;;AAZF;AAcD;;AAED,MAAMC,eAAe,GAAIC,KAAD,KAAY;AAClCC,EAAAA,IAAI,EAAED,KAAK,CAACE,QAAN,IAAkB;AADU,CAAZ,CAAxB;;AAIA,MAAMC,kBAAkB,GAAG,CAACV,QAAD,EAAWW,SAAX,KAAyB;AAClD,SAAO;AACLC,IAAAA,KAAK,EAAGvB,KAAD,IAAWW,QAAQ,CAAClB,WAAW,CAACO,KAAD,EAAQsB,SAAR,CAAZ,CADrB;AAEL5B,IAAAA,MAAM,EAAGK,IAAD,IAAUY,QAAQ,CAACjB,MAAM,CAACK,IAAD,CAAP;AAFrB,GAAP;AAID,CALD;;AAOA,eAAeJ,UAAU,CAACH,OAAO,CAACyB,eAAD,EAAkBI,kBAAlB,CAAP,CAA6CzB,QAA7C,CAAD,CAAzB","sourcesContent":["import React from 'react';\nimport './Login.css';\nimport { FacebookProvider, LoginButton } from 'react-facebook';\nimport { connect } from 'react-redux';\nimport { loginAction, fbdata } from '../../actions'\nimport { withRouter } from 'react-router-dom';\n\nfunction Facebook(props) {\n  const handleResponse = (data) => {\n    // props.fbdata(data)\n    // props.login(data.tokenDetail.accessToken)\n    \n    // console.log('facebookdata ', data)\n    \n    let token = data.tokenDetail.accessToken;\n\n    axios.post(host + '/api/v1/auth/login/facebook', {\n        token\n    }).then(resdata => {\n        console.log('Login =>', resdata)\n   \n        // localStorage.setItem('authtoken', resdata.data.data.user.idFacebook)\n   \n        // dispatch(hideLoading())\n   \n        // ownProps.history.push('dashboard')\n    \n        // dispatch({\n        //     type: 'LOGIN',\n        //     user: resdata\n        // })\n    }).catch(() => dispatch(hideLoading()))\n  \n  }\n\n  const handleError = (error) => {\n    console.log(error);\n  }\n\n  return (\n    // <div className=\"App\">\n      <FacebookProvider appId=\"783983335073350\" version=\"v3.0\">\n        <LoginButton\n          scope=\"public_profile,publish_pages,email,pages_messaging,pages_manage_cta,pages_show_list,manage_pages,instagram_basic,instagram_manage_comments\"\n          onCompleted={handleResponse}\n          onError={handleError}\n          className=\"facebookbtn\"\n        >\n          <span>{props.content.toUpperCase()}</span>\n        </LoginButton>\n      </FacebookProvider>\n    // </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.userdata || {}\n})\n\nconst mapDispatchToProps = (dispatch, owenProps) => {\n  return {\n    login: (token) => dispatch(loginAction(token, owenProps)),\n    fbdata: (data) => dispatch(fbdata(data))\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Facebook));\n"]},"metadata":{},"sourceType":"module"}