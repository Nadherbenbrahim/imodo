{"ast":null,"code":"import _toConsumableArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Row,Col,Image,OverlayTrigger,Popover,Form}from'react-bootstrap';import Picker from'emoji-picker-react';import Keyboard from'react-simple-keyboard';import layout from\"simple-keyboard-layouts/build/layouts/arabic\";import ReactTooltip from'react-tooltip';import{IoIosCall}from'react-icons/io';import{AiOutlineCloseCircle}from'react-icons/ai';import{BsLink45Deg}from'react-icons/bs';// Icons:\nvar BALISE_ICON=require('../../../assets/images/home/balise.png');var BALISE_ICON_ACTIVE=require('../../../assets/images/home/balise_active.png');var EMO_ICON=require('../../../assets/images/home/emo.png');var EMO_ICON_ACTIVE=require('../../../assets/images/home/emo_active.png');var LETTER_ICON=require('../../../assets/images/home/3a.png');var LETTER_ICON_ACTIVE=require('../../../assets/images/home/3a_active.png');export default function WizardMiracleInput(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),BtnsPop=_useState2[0],setBtnPop=_useState2[1];var label=props.label,response=props.response,handleResponse=props.handleResponse,showTags=props.showTags,handleTags=props.handleTags,showEmojis=props.showEmojis,handleEmojis=props.handleEmojis,showKeyboard=props.showKeyboard,handleKeyboard=props.handleKeyboard,BtnType=props.BtnType,handleBtnType=props.handleBtnType,BtnTitle=props.BtnTitle,handleBtnTitle=props.handleBtnTitle,BtnValue=props.BtnValue,handleBtnValue=props.handleBtnValue,Btns=props.Btns,handleBtns=props.handleBtns,platform=props.platform;// render Functions :\nvar Tags=/*#__PURE__*/React.createElement(Popover,{id:\"popover-tags\"},/*#__PURE__*/React.createElement(Popover.Content,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,{className:\"pl-1 my-2\"},/*#__PURE__*/React.createElement(Col,{xs:12,className:\"d-flex mb-1 mt-2\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto mr-auto wizard-config-tag\",onClick:function onClick(){handleResponse(function(prevResponse){return prevResponse+'##FIRST_NAME##';});}},\"First Name\")),/*#__PURE__*/React.createElement(Col,{xs:12,className:\"d-flex mb-1\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto mr-auto wizard-config-tag\",onClick:function onClick(){handleResponse(function(prevResponse){return prevResponse+'##LAST_NAME##';});}},\"Last Name\")),/*#__PURE__*/React.createElement(Col,{xs:12,className:\"d-flex mb-1\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto mr-auto wizard-config-tag\",onClick:function onClick(){handleResponse(function(prevResponse){return prevResponse+'##FULL_NAME##';});}},\"Full Name\")),/*#__PURE__*/React.createElement(Col,{xs:12,className:\"m-auto d-flex mb-2\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto mr-auto wizard-config-tag\",onClick:function onClick(){handleResponse(function(prevResponse){return prevResponse+'##PAGE_NAME##';});}},\"Page Name\")))))));var BtnsPopover=/*#__PURE__*/React.createElement(Popover,{show:BtnsPop,id:\"popover-quick-replies\"},/*#__PURE__*/React.createElement(Popover.Content,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:12,className:\"mt-2 mb-3\"},/*#__PURE__*/React.createElement(Form.Control,{as:\"select\",onChange:function onChange(e){return handleBtnType(e.target.value);},defaultValue:BtnType},/*#__PURE__*/React.createElement(\"option\",{value:\"web_url\"},\"URL\"),/*#__PURE__*/React.createElement(\"option\",{value:\"phone_number\"},\"CALL\"))),/*#__PURE__*/React.createElement(Col,{md:12,className:\"mt-2\"},/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Col,{md:12},/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",onChange:function onChange(e){return handleBtnTitle(e.target.value);},value:BtnTitle,placeholder:\"Title\"})),/*#__PURE__*/React.createElement(Col,{md:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"ml-auto wizard-config-input-feedback\"},\"Remaining characters: 20\")))),/*#__PURE__*/React.createElement(Col,{md:12,className:\"mb-2\"},/*#__PURE__*/React.createElement(Form.Control,{type:BtnType===\"web_url\"?\"text\":\"number\",onChange:function onChange(e){return handleBtnValue(e.target.value);},value:BtnValue,placeholder:BtnType===\"web_url\"?\"www.example.com\":\"(+216) 99 999 999\"})))),/*#__PURE__*/React.createElement(Col,{md:11,className:\"d-flex pl-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-active-btn py-2 px-4\",onClick:function onClick(){return addNewBtn();}},\"OK\")))));// Functions :\nvar addNewBtn=function addNewBtn(){var newBtns=_toConsumableArray(Btns);// let BtnToPush = {\n//     type: BtnType,\n//     title: BtnTitle,\n//     value: BtnValue,\n// };\nif(BtnType===\"web_url\"){var objectFb={type:\"web_url\",url:BtnValue,title:BtnTitle,webview_height_ratio:\"full\"};newBtns.push(objectFb);}else{var _objectFb={type:\"phone_number\",title:BtnTitle,payload:BtnValue};newBtns.push(_objectFb);}// newBtns.push(BtnToPush);\n// update new Btns :\nhandleBtns(newBtns);// reset\nhandleBtnType('web_url');handleBtnTitle('');handleBtnValue('');setBtnPop(false);};var deleteBtn=function deleteBtn(index){var newBtns=_toConsumableArray(Btns);newBtns.splice(index,1);handleBtns(newBtns);};return/*#__PURE__*/React.createElement(Row,{className:\"mx-0 px-2\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mx-0 px-0\"},/*#__PURE__*/React.createElement(\"label\",{className:\"wizard-config-textarea-label\"},label)),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"wizard-intent-miracle-box px-1\"},/*#__PURE__*/React.createElement(Row,{className:\"mb-1 mx-0 pt-1 px-2\"},/*#__PURE__*/React.createElement(Col,{lg:1,className:\"d-flex p-0\"},/*#__PURE__*/React.createElement(OverlayTrigger,{trigger:\"click\",placement:\"top\",overlay:Tags},/*#__PURE__*/React.createElement(Image,{src:showTags?BALISE_ICON_ACTIVE:BALISE_ICON,onClick:function onClick(){return handleTags(!showTags);},className:\"my-auto mr-auto my-agents-msgs-tiny-icon\",style:{width:'19px',cursor:'pointer'}}))),/*#__PURE__*/React.createElement(Col,{lg:1,className:\"d-flex p-0\"},/*#__PURE__*/React.createElement(Image,{src:showEmojis?EMO_ICON_ACTIVE:EMO_ICON,onClick:function onClick(){return handleEmojis(!showEmojis);},className:\"my-auto mr-auto my-agents-msgs-tiny-icon\",style:{width:'18px',cursor:'pointer'}})),/*#__PURE__*/React.createElement(Col,{lg:1,className:\"d-flex p-0\"},/*#__PURE__*/React.createElement(Image,{src:showKeyboard?LETTER_ICON_ACTIVE:LETTER_ICON,onClick:function onClick(){return handleKeyboard(!showKeyboard);},className:\"my-auto mr-auto my-agents-msgs-tiny-icon\",style:{width:'21px',cursor:'pointer'}})),/*#__PURE__*/React.createElement(Col,{lg:8},showKeyboard&&/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-config-keyboard-container\"},/*#__PURE__*/React.createElement(Keyboard,{onChange:function onChange(input){return handleResponse(function(prevResponse){return prevResponse+input.charAt(input.length-1);});}// onKeyPress={(button) => onKeyPress(button,\"generic\")} \n,layout:layout})),showEmojis&&/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-config-emoji-container\"},/*#__PURE__*/React.createElement(Picker,{onEmojiClick:function onEmojiClick(e,obj){return handleResponse(function(prevResponse){return prevResponse+obj.emoji;});}})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mx-0\"},/*#__PURE__*/React.createElement(\"textarea\",{onChange:function onChange(e){return handleResponse(e.target.value);},placeholder:\"Your Message...\"// onFocus={() => console.log(\"Hey I'm Focused\")} \n,value:response,className:\"wizard-config-textarea w-100 py-0\",rows:\"5\"}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"my-0 py-0\"},/*#__PURE__*/React.createElement(\"hr\",{style:{height:'2px',borderColor:'#B4B4B4',margin:'1px'}}))),platform===\"facebook\"&&/*#__PURE__*/React.createElement(Row,{className:\"mx-0\"},/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,null,Btns.map(function(btn,index){return/*#__PURE__*/React.createElement(Col,{key:index,lg:3,className:\"mr-2\"},/*#__PURE__*/React.createElement(Row,{className:\"wizard-config-quick-replies-btn my-1 py-1 d-flex\"},btn.type===\"web_url\"?/*#__PURE__*/React.createElement(BsLink45Deg,{color:'#fff',size:15,className:\"ml-1 mr-auto my-auto\"}):/*#__PURE__*/React.createElement(IoIosCall,{color:'#fff',size:15,className:\"ml-1 mr-auto my-auto\"}),/*#__PURE__*/React.createElement(\"p\",{className:btn.type===\"web_url\"?\"mr-auto my-auto\":\"ml-1 mr-auto my-auto\",\"data-for\":\"quickReplyTip\",\"data-tip\":btn.title},btn.type===\"web_url\"?\"url\":\"call\"),/*#__PURE__*/React.createElement(AiOutlineCloseCircle,{className:\"ml-auto my-auto mr-1\",color:\"white\",size:\"15\",style:{cursor:'pointer'},onClick:function onClick(){return deleteBtn(index);}})),/*#__PURE__*/React.createElement(ReactTooltip,{id:\"quickReplyTip\",textColor:\"#fff\",backgroundColor:\"#009EE3\"}));}),Btns.length<3&&/*#__PURE__*/React.createElement(OverlayTrigger,{trigger:\"click\",placement:\"top\",overlay:BtnsPopover},/*#__PURE__*/React.createElement(Col,{lg:3,className:\"wizard-config-quick-replies-btn my-1 py-1 d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto\"},\"Add button\"))))))));}","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/AutoWizard/WizardMiracleInput.js"],"names":["React","useState","Row","Col","Image","OverlayTrigger","Popover","Form","Picker","Keyboard","layout","ReactTooltip","IoIosCall","AiOutlineCloseCircle","BsLink45Deg","BALISE_ICON","require","BALISE_ICON_ACTIVE","EMO_ICON","EMO_ICON_ACTIVE","LETTER_ICON","LETTER_ICON_ACTIVE","WizardMiracleInput","props","BtnsPop","setBtnPop","label","response","handleResponse","showTags","handleTags","showEmojis","handleEmojis","showKeyboard","handleKeyboard","BtnType","handleBtnType","BtnTitle","handleBtnTitle","BtnValue","handleBtnValue","Btns","handleBtns","platform","Tags","prevResponse","BtnsPopover","e","target","value","addNewBtn","newBtns","objectFb","type","url","title","webview_height_ratio","push","payload","deleteBtn","index","splice","width","cursor","input","charAt","length","obj","emoji","height","borderColor","margin","map","btn"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\n\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Image,\r\n    OverlayTrigger,\r\n    Popover,\r\n    Form,\r\n} from 'react-bootstrap';\r\nimport Picker from 'emoji-picker-react';\r\nimport Keyboard from 'react-simple-keyboard';\r\nimport layout from \"simple-keyboard-layouts/build/layouts/arabic\";\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\nimport { IoIosCall } from 'react-icons/io';\r\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\r\nimport { BsLink45Deg } from 'react-icons/bs';\r\n\r\n\r\n// Icons:\r\nconst BALISE_ICON = require('../../../assets/images/home/balise.png');\r\nconst BALISE_ICON_ACTIVE = require('../../../assets/images/home/balise_active.png');\r\nconst EMO_ICON = require('../../../assets/images/home/emo.png');\r\nconst EMO_ICON_ACTIVE = require('../../../assets/images/home/emo_active.png');\r\nconst LETTER_ICON = require('../../../assets/images/home/3a.png');\r\nconst LETTER_ICON_ACTIVE = require('../../../assets/images/home/3a_active.png');\r\n\r\n\r\n\r\nexport default function WizardMiracleInput(props) {\r\n    const [BtnsPop, setBtnPop] = useState(false);\r\n\r\n    let {\r\n        label,\r\n        response,\r\n        handleResponse,\r\n        showTags,\r\n        handleTags,\r\n        showEmojis,\r\n        handleEmojis,\r\n        showKeyboard,\r\n        handleKeyboard,\r\n        BtnType,\r\n        handleBtnType,\r\n        BtnTitle,\r\n        handleBtnTitle,\r\n        BtnValue,\r\n        handleBtnValue,\r\n        Btns,\r\n        handleBtns,\r\n        platform,\r\n    } = props;\r\n\r\n    // render Functions :\r\n    const Tags = (\r\n        <Popover id=\"popover-tags\">\r\n          <Popover.Content>\r\n            <Row>\r\n                <Col lg={12}>\r\n                    {/* <Row className=\"d-flex w-100\">\r\n                        <IoIosClose className=\"ml-auto my-auto pt-1\" color={'#9F9F9F'} size={30} onClick={() => { handleTags(false) }} style={{cursor: 'pointer'}} />\r\n                    </Row> */}\r\n\r\n                    <Row className=\"pl-1 my-2\">\r\n                        <Col xs={12} className=\"d-flex mb-1 mt-2\">\r\n                            <p className=\"my-auto mr-auto wizard-config-tag\" onClick={() => { handleResponse(prevResponse => prevResponse + '##FIRST_NAME##'); }}>First Name</p>\r\n                        </Col>\r\n                         \r\n                        <Col xs={12} className=\"d-flex mb-1\">\r\n                            <p className=\"my-auto mr-auto wizard-config-tag\" onClick={() => { handleResponse(prevResponse => prevResponse + '##LAST_NAME##'); }}>Last Name</p>\r\n                        </Col>\r\n\r\n                        <Col xs={12} className=\"d-flex mb-1\">\r\n                            <p className=\"my-auto mr-auto wizard-config-tag\" onClick={() => { handleResponse(prevResponse => prevResponse + '##FULL_NAME##'); }}  >Full Name</p>\r\n                        </Col>\r\n\r\n                        <Col xs={12} className=\"m-auto d-flex mb-2\">\r\n                            <p className=\"my-auto mr-auto wizard-config-tag\" onClick={() => { handleResponse(prevResponse => prevResponse + '##PAGE_NAME##'); }}  >Page Name</p>\r\n                        </Col> \r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n          </Popover.Content>\r\n        </Popover>\r\n    );\r\n\r\n    const BtnsPopover = (\r\n        <Popover show={BtnsPop}  id=\"popover-quick-replies\">\r\n          <Popover.Content>\r\n            <Row className=\"justify-content-center\">\r\n                <Col md={12}>\r\n                    <Row>\r\n                        <Col md={12} className=\"mt-2 mb-3\">\r\n                            <Form.Control as=\"select\" onChange={(e) => handleBtnType(e.target.value)} defaultValue={BtnType}>\r\n                                <option value=\"web_url\">URL</option>\r\n                                <option value=\"phone_number\">CALL</option>\r\n                            </Form.Control>\r\n                        </Col>\r\n                        \r\n                        <Col md={12} className=\"mt-2\">\r\n                            <Row className=\"d-flex\">\r\n                                <Col md={12}>\r\n                                    <Form.Control \r\n                                        type={\"text\"} \r\n                                        onChange={(e) => handleBtnTitle(e.target.value)} \r\n                                        value={BtnTitle}  \r\n                                        placeholder=\"Title\" \r\n                                    />\r\n                                </Col>\r\n\r\n                                <Col md={12} className=\"d-flex\">\r\n                                    <p className=\"ml-auto wizard-config-input-feedback\">Remaining characters: 20</p>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n\r\n                        <Col md={12} className=\"mb-2\">\r\n                            <Form.Control \r\n                                type={BtnType === \"web_url\" ? \"text\" : \"number\"} \r\n                                onChange={(e) => handleBtnValue(e.target.value)} \r\n                                value={BtnValue} \r\n                                placeholder={BtnType === \"web_url\" ? \"www.example.com\" : \"(+216) 99 999 999\"} \r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n\r\n                <Col md={11} className=\"d-flex pl-1\">\r\n                    {/* <div className=\"wizard-pages-active-btn py-3 px-5\" onClick={() => addNewQuickReply()}>\r\n                        OK\r\n                    </div> */}\r\n                    <div className=\"wizard-pages-active-btn py-2 px-4\" onClick={() => addNewBtn()}>\r\n                        OK\r\n                    </div>\r\n                </Col>   \r\n            </Row>\r\n                \r\n          </Popover.Content>\r\n        </Popover>\r\n    );\r\n\r\n    // Functions :\r\n    const addNewBtn = () => {\r\n        let newBtns = [...Btns];\r\n        \r\n        // let BtnToPush = {\r\n        //     type: BtnType,\r\n        //     title: BtnTitle,\r\n        //     value: BtnValue,\r\n        // };\r\n\r\n        if(BtnType === \"web_url\") {\r\n            let objectFb = {\r\n                type: \"web_url\",\r\n                url: BtnValue,\r\n                title: BtnTitle,\r\n                webview_height_ratio: \"full\",\r\n            }\r\n            newBtns.push(objectFb);\r\n        } else {\r\n            let objectFb = {\r\n                type: \"phone_number\",\r\n                title: BtnTitle,\r\n                payload: BtnValue,\r\n            };  \r\n            newBtns.push(objectFb);\r\n        }\r\n        // newBtns.push(BtnToPush);\r\n\r\n        // update new Btns :\r\n        handleBtns(newBtns);\r\n\r\n        // reset\r\n        handleBtnType('web_url');\r\n        handleBtnTitle('');\r\n        handleBtnValue('');\r\n        setBtnPop(false);\r\n    };\r\n\r\n    const deleteBtn = (index) => {\r\n        let newBtns = [...Btns];\r\n        newBtns.splice(index,1);\r\n        handleBtns(newBtns);\r\n    };\r\n\r\n    return (\r\n        <Row className=\"mx-0 px-2\">\r\n\r\n            <Col lg={12} className=\"mx-0 px-0\">\r\n                <label className=\"wizard-config-textarea-label\">{label}</label>\r\n            </Col>\r\n\r\n            <Col lg={12} className=\"wizard-intent-miracle-box px-1\">\r\n            \r\n                <Row className=\"mb-1 mx-0 pt-1 px-2\">\r\n                    <Col lg={1} className=\"d-flex p-0\">\r\n                        <OverlayTrigger trigger=\"click\" placement=\"top\" overlay={Tags}>\r\n                            <Image \r\n                                src={showTags ? BALISE_ICON_ACTIVE : BALISE_ICON} \r\n                                onClick={() => handleTags(!showTags)} \r\n                                className=\"my-auto mr-auto my-agents-msgs-tiny-icon\" \r\n                                style={{ width: '19px', cursor: 'pointer'}} \r\n                            />   \r\n                        </OverlayTrigger> \r\n                    </Col>                                \r\n\r\n                    <Col lg={1} className=\"d-flex p-0\">\r\n                        <Image \r\n                            src={showEmojis ? EMO_ICON_ACTIVE : EMO_ICON} \r\n                            onClick={() => handleEmojis(!showEmojis)} \r\n                            className=\"my-auto mr-auto my-agents-msgs-tiny-icon\" \r\n                            style={{ width: '18px', cursor: 'pointer'}} \r\n                        />\r\n                    </Col>\r\n        \r\n                    <Col lg={1} className=\"d-flex p-0\">\r\n                        <Image \r\n                            src={showKeyboard ? LETTER_ICON_ACTIVE : LETTER_ICON} \r\n                            onClick={() => handleKeyboard(!showKeyboard)} \r\n                            className=\"my-auto mr-auto my-agents-msgs-tiny-icon\" \r\n                            style={{ width: '21px', cursor: 'pointer'}} \r\n                        />\r\n                    </Col>\r\n                \r\n                    <Col lg={8}>\r\n                        {showKeyboard &&\r\n                            <div className=\"wizard-config-keyboard-container\">\r\n                                <Keyboard \r\n                                    onChange={(input) => handleResponse(prevResponse => prevResponse + input.charAt(input.length - 1))} \r\n                                    // onKeyPress={(button) => onKeyPress(button,\"generic\")} \r\n                                    layout={layout} \r\n                                />\r\n                            </div>\r\n                        }\r\n\r\n                        {showEmojis &&\r\n                            <div className=\"wizard-config-emoji-container\" >\r\n                                <Picker onEmojiClick={(e,obj) => handleResponse(prevResponse=> prevResponse + obj.emoji) } />\r\n                            </div>\r\n                        } \r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                    <Col lg={12} className=\"mx-0\">\r\n                        <textarea \r\n                            onChange={(e) => handleResponse(e.target.value)} \r\n                            placeholder={\"Your Message...\"}\r\n                            // onFocus={() => console.log(\"Hey I'm Focused\")} \r\n                            value={response} \r\n                            className=\"wizard-config-textarea w-100 py-0\" \r\n                            rows=\"5\"\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row >\r\n                    <Col lg={12} className=\"my-0 py-0\">\r\n                        <hr style={{height: '2px', borderColor: '#B4B4B4', margin: '1px'}} />\r\n                    </Col>\r\n                </Row>\r\n\r\n                \r\n                {platform === \"facebook\"\r\n                &&\r\n                <Row className=\"mx-0\">\r\n                    <Col lg={12}>\r\n                        <Row>\r\n                            {Btns.map((btn,index) => \r\n                                <Col key={index} lg={3} className=\"mr-2\">\r\n                                    <Row className=\"wizard-config-quick-replies-btn my-1 py-1 d-flex\">\r\n                                        {btn.type === \"web_url\" \r\n                                        ? \r\n                                        <BsLink45Deg color={'#fff'} size={15} className=\"ml-1 mr-auto my-auto\"/>\r\n                                        :\r\n                                        <IoIosCall color={'#fff'} size={15} className=\"ml-1 mr-auto my-auto\"/>\r\n                                        }\r\n                                        <p className={btn.type === \"web_url\" ? \"mr-auto my-auto\" : \"ml-1 mr-auto my-auto\" } data-for='quickReplyTip' data-tip={btn.title}>{btn.type === \"web_url\" ? \"url\" : \"call\"}</p>\r\n                                        <AiOutlineCloseCircle className=\"ml-auto my-auto mr-1\" color={\"white\"} size={\"15\"} style={{cursor: 'pointer'}} onClick={() => deleteBtn(index)} />\r\n                                    </Row>\r\n                                    <ReactTooltip id='quickReplyTip' textColor='#fff' backgroundColor='#009EE3' />\r\n                                </Col>\r\n                            )}\r\n                            {Btns.length < 3\r\n                            &&\r\n                            <OverlayTrigger trigger=\"click\" placement=\"top\" overlay={BtnsPopover}>\r\n                                <Col lg={3} className=\"wizard-config-quick-replies-btn my-1 py-1 d-flex\">\r\n                                    <p className=\"my-auto\">Add button</p>\r\n                                </Col>\r\n                            </OverlayTrigger>\r\n                            }\r\n                        </Row>\r\n                    </Col>\r\n                </Row> \r\n                }\r\n               \r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}