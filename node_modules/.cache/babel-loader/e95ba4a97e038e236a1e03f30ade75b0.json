{"ast":null,"code":"import _defineProperty from\"/usr/work/smart_front_oussema/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/usr/work/smart_front_oussema/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{addentity}from'../actions';import{useState}from'react';import{connect}from'react-redux';import TopMenu from'../components/TopMenu';import{v4 as uuidv4}from'uuid';function AddCategory(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),entity=_useState2[0],setEntity=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),existEntity=_useState4[0],setexistEntity=_useState4[1];// const [show, setShow] = useState(false)\n// const [synonyms, setSynonyms] = useState(null)\n// const [content, setContent] = useState(null)\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),values=_useState6[0],setValues=_useState6[1];var handelSubmit=function handelSubmit(entity,values){var newEntity={idUser:props.fb,entity:{name:entity,values:values}};console.log('add Product ',newEntity);return props.addEntity(newEntity);};return React.createElement(\"div\",null,React.createElement(TopMenu,null),React.createElement(\"div\",{style:{paddingLeft:30,paddingRight:30,paddingTop:30,position:'relative'}},!existEntity&&React.createElement(\"div\",{style:{position:\"absolute\",padding:\"0 10px\",border:\"2px solid #E5017D\",background:\"#fff\",left:300,top:100}},React.createElement(\"p\",{style:{color:\"#E5017D\",fontSize:15,fontWeight:\"bold\"}},\"Alredy exist category\")),React.createElement(\"h2\",{style:{fontSize:30,color:\"rgba(45, 47, 57, 1)\"}},\"Add Category\"),React.createElement(\"div\",null,React.createElement(\"input\",{type:\"text\",className:\"entityNameUpdate\",value:entity,onChange:function onChange(e){return setEntity(e.target.value);}}),React.createElement(\"br\",null),React.createElement(\"br\",null)),React.createElement(\"div\",{style:{display:'flex',marginTop:30,marginBottom:30}},React.createElement(\"input\",{type:\"text\",name:\"add\",id:\"addEntity\",placeholder:\"Add Product\",required:true}),React.createElement(\"button\",{onClick:function onClick(){var obj={id:uuidv4(),content:document.getElementById(\"addEntity\").value,synonyms:[]};setValues([].concat(_toConsumableArray(values),[obj]));document.getElementById(\"addEntity\").value=\"\";}},React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"142\",height:\"40\",viewBox:\"0 0 142 40\"},React.createElement(\"g\",{\"data-name\":\"Groupe 1136\",transform:\"translate(-661 -274)\"},React.createElement(\"g\",{transform:\"translate(633 274)\"},React.createElement(\"rect\",{width:\"142\",height:\"40\",fill:\"#e5007d\",rx:\"4\",transform:\"translate(28)\"})),React.createElement(\"text\",{fill:\"#fff\",\"data-name\":\"Add Value\",fontFamily:\"Poppins-SemiBold, Poppins\",fontSize:\"16\",fontWeight:\"600\",transform:\"translate(680 300)\"},React.createElement(\"tspan\",{x:\"0\",y:\"0\"},\"Add Products\")))))),React.createElement(\"div\",{style:{background:'#fff',paddingTop:20,paddingLeft:70,paddingRight:70,paddingBottom:20}},React.createElement(\"table\",null,React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{style:{textAlign:'left'}},\"Products\"),React.createElement(\"th\",{style:{textAlign:'left'}}),React.createElement(\"th\",{style:{textAlign:'left'}},\"Synonyms\"),React.createElement(\"th\",{style:{textAlign:'left'}}))),React.createElement(\"tbody\",null,values&&values.map(function(el){var _React$createElement;return React.createElement(\"tr\",{key:uuidv4()},React.createElement(\"td\",null,React.createElement(\"span\",null,el.content)),React.createElement(\"td\",null),React.createElement(\"td\",null,el.synonyms&&el.synonyms.map(function(Element){return React.createElement(\"span\",{key:uuidv4(),className:\"entitys\"},Element);}),React.createElement(\"form\",(_React$createElement={className:\"addSynForm\",onSubmit:function onSubmit(e){e.preventDefault();var modifArr=_toConsumableArray(values);modifArr.forEach(function(Element){if(Element.id==el.id){Element.synonyms.push(e.target.addSyn.value);}});setValues(modifArr);}},_defineProperty(_React$createElement,\"className\",\"addSynForm\"),_defineProperty(_React$createElement,\"style\",{display:\"inline-block\"}),_React$createElement),React.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"19.176\",height:\"19.176\",viewBox:\"0 0 19.176 19.176\"},React.createElement(\"g\",{fill:\"none\",stroke:\"#818e94\",strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"1.5\",\"data-name\":\"Icon feather-plus-circle\",transform:\"translate(-2.25 -2.25)\"},React.createElement(\"path\",{d:\"M20.676 11.838A8.838 8.838 0 1111.838 3a8.838 8.838 0 018.838 8.838z\",\"data-name\":\"Trac\\xE9 210\"}),React.createElement(\"path\",{d:\"M11.838 8.303v7.07\",\"data-name\":\"Trac\\xE9 211\"}),React.createElement(\"path\",{d:\"M8.303 11.838h7.07\",\"data-name\":\"Trac\\xE9 212\"}))),React.createElement(\"input\",{className:\"addSyn\",name:\"addSyn\",type:\"text\",placeholder:\"Add Synonym\",required:true}))),React.createElement(\"td\",null,React.createElement(\"svg\",{onClick:function onClick(){setValues(_toConsumableArray(values).filter(function(Element){return Element.id!==el.id;}));// setSynonyms('');\n// setContent('')\n},style:{cursor:'pointer'},xmlns:\"http://www.w3.org/2000/svg\",width:\"27\",height:\"28.786\",viewBox:\"0 0 27 28.786\"},React.createElement(\"g\",{fill:\"none\",stroke:\"#e5137d\",strokeLinecap:\"square\",strokeMiterlimit:\"10\",strokeWidth:\"2\",transform:\"translate(-3 -1)\"},React.createElement(\"path\",{d:\"M26.322 9.143V27a1.786 1.786 0 01-1.786 1.786H8.465A1.786 1.786 0 016.679 27V9.143\",\"data-name\":\"Trac\\xE9 429\"}),React.createElement(\"path\",{d:\"M0 0L0 10\",\"data-name\":\"Ligne 25\",transform:\"translate(17 13.786)\"}),React.createElement(\"path\",{d:\"M0 0L0 10\",\"data-name\":\"Ligne 26\",transform:\"translate(12 13.786)\"}),React.createElement(\"path\",{d:\"M0 0L0 10\",\"data-name\":\"Ligne 27\",transform:\"translate(21 13.786)\"}),React.createElement(\"path\",{d:\"M12.036 6.464V2h8.929v4.464\",\"data-name\":\"Trac\\xE9 430\"}),React.createElement(\"path\",{d:\"M25 0L0 0\",\"data-name\":\"Ligne 28\",transform:\"translate(4 6.786)\"})))));})))),React.createElement(\"div\",{style:{textAlign:'right',marginTop:20}},React.createElement(\"svg\",{onClick:function onClick(){var pass;if(!entity||!values){alert('you have fill all the value');return;}props.entitys.forEach(function(element){if(element.name.toUpperCase()===entity.toUpperCase()){setexistEntity(false);pass=false;return;}else{pass=true;setexistEntity(true);}});// console.log('data ', { entity, values })\nif(pass){handelSubmit(entity,values).then(function(){props.history.push('/dachboard/entities');});}},xmlns:\"http://www.w3.org/2000/svg\",width:\"142\",height:\"40\",viewBox:\"0 0 142 40\"},React.createElement(\"g\",{\"data-name\":\"Groupe 1136\",transform:\"translate(-661 -274)\"},React.createElement(\"g\",{transform:\"translate(633 274)\"},React.createElement(\"rect\",{width:\"80\",height:\"40\",fill:\"#e5007d\",rx:\"4\",transform:\"translate(28)\"})),React.createElement(\"text\",{fill:\"#fff\",\"data-name\":\"Add Value\",fontFamily:\"Poppins-SemiBold, Poppins\",fontSize:\"16\",fontWeight:\"600\",transform:\"translate(680 300)\"},React.createElement(\"tspan\",{x:\"0\",y:\"0\"},\"Save\")))))));}var mapDispatchToProps=function mapDispatchToProps(dispatch){return{addEntity:function addEntity(data){return dispatch(addentity(data));}};};var mapStateToProps=function mapStateToProps(state){return{fb:state.fbdata.tokenDetail.userID,entitys:state.entitys};};export default connect(mapStateToProps,mapDispatchToProps)(AddCategory);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/dachboard/AddCategory.js"],"names":["React","addentity","useState","connect","TopMenu","v4","uuidv4","AddCategory","props","entity","setEntity","existEntity","setexistEntity","values","setValues","handelSubmit","newEntity","idUser","fb","name","console","log","addEntity","paddingLeft","paddingRight","paddingTop","position","padding","border","background","left","top","color","fontSize","fontWeight","e","target","value","display","marginTop","marginBottom","obj","id","content","document","getElementById","synonyms","paddingBottom","textAlign","map","el","Element","preventDefault","modifArr","forEach","push","addSyn","filter","cursor","pass","alert","entitys","element","toUpperCase","then","history","mapDispatchToProps","dispatch","data","mapStateToProps","state","fbdata","tokenDetail","userID"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { addentity } from '../actions'\r\nimport { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport TopMenu from '../components/TopMenu'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nfunction AddCategory(props) {\r\n    const [entity, setEntity] = useState('')\r\n    const [existEntity, setexistEntity] = useState(true)\r\n    // const [show, setShow] = useState(false)\r\n    // const [synonyms, setSynonyms] = useState(null)\r\n    // const [content, setContent] = useState(null)\r\n    const [values, setValues] = useState([])\r\n    const handelSubmit = (entity, values) => {\r\n        const newEntity = {\r\n            idUser: props.fb,\r\n            entity: {\r\n                name: entity,\r\n                values\r\n            }\r\n        }\r\n        console.log('add Product ', newEntity)\r\n        return props.addEntity(newEntity)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <TopMenu />\r\n            <div style={{ paddingLeft: 30, paddingRight: 30, paddingTop: 30, position: 'relative' }}>\r\n                {!existEntity && <div style={{ position: \"absolute\", padding: \"0 10px\", border: \"2px solid #E5017D\", background: \"#fff\", left: 300, top: 100 }}>\r\n                    <p style={{ color: \"#E5017D\", fontSize: 15, fontWeight: \"bold\" }}>Alredy exist category</p>\r\n                </div>\r\n                }\r\n                <h2 style={{ fontSize: 30, color: \"rgba(45, 47, 57, 1)\" }}>Add Category</h2>\r\n                <div><input type=\"text\" className=\"entityNameUpdate\" value={entity} onChange={e => setEntity(e.target.value)} /><br /><br /></div>\r\n\r\n                <div style={{\r\n                    display: 'flex',\r\n                    marginTop: 30,\r\n                    marginBottom: 30\r\n                }}>\r\n                    <input type=\"text\" name=\"add\" id=\"addEntity\" placeholder=\"Add Product\" required />\r\n                    <button onClick={() => {\r\n                        const obj = {\r\n                            id: uuidv4(),\r\n                            content: document.getElementById(\"addEntity\").value,\r\n                            synonyms: []\r\n                        }\r\n                        setValues([...values, obj])\r\n                        document.getElementById(\"addEntity\").value = \"\"\r\n                    }}>\r\n                        <svg\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                            width=\"142\"\r\n                            height=\"40\"\r\n                            viewBox=\"0 0 142 40\"\r\n                        >\r\n                            <g data-name=\"Groupe 1136\" transform=\"translate(-661 -274)\">\r\n                                <g transform=\"translate(633 274)\">\r\n                                    <rect\r\n                                        width=\"142\"\r\n                                        height=\"40\"\r\n                                        fill=\"#e5007d\"\r\n                                        rx=\"4\"\r\n                                        transform=\"translate(28)\"\r\n                                    ></rect>\r\n                                </g>\r\n                                <text\r\n                                    fill=\"#fff\"\r\n                                    data-name=\"Add Value\"\r\n                                    fontFamily=\"Poppins-SemiBold, Poppins\"\r\n                                    fontSize=\"16\"\r\n                                    fontWeight=\"600\"\r\n                                    transform=\"translate(680 300)\"\r\n                                >\r\n                                    <tspan x=\"0\" y=\"0\">\r\n                                        Add Products\r\n          </tspan>\r\n                                </text>\r\n                            </g>\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n                <div style={{ background: '#fff', paddingTop: 20, paddingLeft: 70, paddingRight: 70, paddingBottom: 20 }}>\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{ textAlign: 'left' }}>Products</th>\r\n                                <th style={{ textAlign: 'left' }}></th>\r\n                                <th style={{ textAlign: 'left' }}>Synonyms</th>\r\n                                <th style={{ textAlign: 'left' }}></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                values && values.map(el =>\r\n                                    <tr key={uuidv4()}>\r\n                                        <td>\r\n                                            <span>{el.content}</span>\r\n                                        </td>\r\n                                        <td></td>\r\n                                        <td>\r\n                                            {el.synonyms && el.synonyms.map(Element => <span key={uuidv4()} className=\"entitys\">{Element}</span>)}\r\n                                            <form className=\"addSynForm\" onSubmit={(e) => {\r\n                                                e.preventDefault()\r\n                                                const modifArr = [...values]\r\n                                                modifArr.forEach(Element => {\r\n                                                    if (Element.id == el.id) {\r\n                                                        Element.synonyms.push(e.target.addSyn.value)\r\n                                                    }\r\n                                                })\r\n\r\n                                                setValues(modifArr)\r\n                                            }} className=\"addSynForm\" style={{ display: \"inline-block\" }}>\r\n                                                <svg\r\n                                                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                    width=\"19.176\"\r\n                                                    height=\"19.176\"\r\n                                                    viewBox=\"0 0 19.176 19.176\"\r\n                                                >\r\n                                                    <g\r\n                                                        fill=\"none\"\r\n                                                        stroke=\"#818e94\"\r\n                                                        strokeLinecap=\"round\"\r\n                                                        strokeLinejoin=\"round\"\r\n                                                        strokeWidth=\"1.5\"\r\n                                                        data-name=\"Icon feather-plus-circle\"\r\n                                                        transform=\"translate(-2.25 -2.25)\"\r\n                                                    >\r\n                                                        <path\r\n                                                            d=\"M20.676 11.838A8.838 8.838 0 1111.838 3a8.838 8.838 0 018.838 8.838z\"\r\n                                                            data-name=\"Tracé 210\"\r\n                                                        ></path>\r\n                                                        <path d=\"M11.838 8.303v7.07\" data-name=\"Tracé 211\"></path>\r\n                                                        <path d=\"M8.303 11.838h7.07\" data-name=\"Tracé 212\"></path>\r\n                                                    </g>\r\n                                                </svg>\r\n                                                <input className=\"addSyn\" name=\"addSyn\" type=\"text\" placeholder=\"Add Synonym\" required />\r\n                                            </form>\r\n                                        </td>\r\n                                        <td>\r\n                                            <svg onClick={() => {\r\n                                                setValues([...values].filter(Element => Element.id !== el.id))\r\n                                                // setSynonyms('');\r\n                                                // setContent('')\r\n                                            }} style={{ cursor: 'pointer' }}\r\n                                                xmlns=\"http://www.w3.org/2000/svg\"\r\n                                                width=\"27\"\r\n                                                height=\"28.786\"\r\n                                                viewBox=\"0 0 27 28.786\"\r\n                                            >\r\n                                                <g\r\n                                                    fill=\"none\"\r\n                                                    stroke=\"#e5137d\"\r\n                                                    strokeLinecap=\"square\"\r\n                                                    strokeMiterlimit=\"10\"\r\n                                                    strokeWidth=\"2\"\r\n                                                    transform=\"translate(-3 -1)\"\r\n                                                >\r\n                                                    <path\r\n                                                        d=\"M26.322 9.143V27a1.786 1.786 0 01-1.786 1.786H8.465A1.786 1.786 0 016.679 27V9.143\"\r\n                                                        data-name=\"Tracé 429\"\r\n                                                    ></path>\r\n                                                    <path\r\n                                                        d=\"M0 0L0 10\"\r\n                                                        data-name=\"Ligne 25\"\r\n                                                        transform=\"translate(17 13.786)\"\r\n                                                    ></path>\r\n                                                    <path\r\n                                                        d=\"M0 0L0 10\"\r\n                                                        data-name=\"Ligne 26\"\r\n                                                        transform=\"translate(12 13.786)\"\r\n                                                    ></path>\r\n                                                    <path\r\n                                                        d=\"M0 0L0 10\"\r\n                                                        data-name=\"Ligne 27\"\r\n                                                        transform=\"translate(21 13.786)\"\r\n                                                    ></path>\r\n                                                    <path d=\"M12.036 6.464V2h8.929v4.464\" data-name=\"Tracé 430\"></path>\r\n                                                    <path\r\n                                                        d=\"M25 0L0 0\"\r\n                                                        data-name=\"Ligne 28\"\r\n                                                        transform=\"translate(4 6.786)\"\r\n                                                    ></path>\r\n                                                </g>\r\n                                            </svg>\r\n                                        </td>\r\n                                    </tr>\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div style={{ textAlign: 'right', marginTop: 20 }} >\r\n                    <svg onClick={() => {\r\n                        let pass\r\n                        if (!entity || !values) {\r\n                            alert('you have fill all the value')\r\n                            return;\r\n                        }\r\n                        props.entitys.forEach(element => {\r\n\r\n                            if (element.name.toUpperCase() === entity.toUpperCase()) {\r\n                                setexistEntity(false)\r\n                                pass = false\r\n                                return;\r\n                            } else {\r\n                                pass = true\r\n                                setexistEntity(true)\r\n                            }\r\n\r\n                        });\r\n                        // console.log('data ', { entity, values })\r\n                        if (pass) {\r\n                            handelSubmit(entity, values)\r\n                                .then(() => {\r\n                                    props.history.push('/dachboard/entities')\r\n                                })\r\n                        }\r\n                    }}\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"142\"\r\n                        height=\"40\"\r\n                        viewBox=\"0 0 142 40\"\r\n                    >\r\n                        <g data-name=\"Groupe 1136\" transform=\"translate(-661 -274)\">\r\n                            <g transform=\"translate(633 274)\">\r\n                                <rect\r\n                                    width=\"80\"\r\n                                    height=\"40\"\r\n                                    fill=\"#e5007d\"\r\n                                    rx=\"4\"\r\n                                    transform=\"translate(28)\"\r\n                                ></rect>\r\n                            </g>\r\n                            <text\r\n                                fill=\"#fff\"\r\n                                data-name=\"Add Value\"\r\n                                fontFamily=\"Poppins-SemiBold, Poppins\"\r\n                                fontSize=\"16\"\r\n                                fontWeight=\"600\"\r\n                                transform=\"translate(680 300)\"\r\n                            >\r\n                                <tspan x=\"0\" y=\"0\">\r\n                                    Save\r\n          </tspan>\r\n                            </text>\r\n                        </g>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addEntity: (data) => dispatch(addentity(data)),\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        fb: state.fbdata.tokenDetail.userID,\r\n        entitys: state.entitys\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddCategory)\r\n"]},"metadata":{},"sourceType":"module"}