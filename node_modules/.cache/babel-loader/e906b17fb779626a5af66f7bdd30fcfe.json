{"ast":null,"code":"import _toConsumableArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import axios from'axios';import{connect}from'react-redux';import{addGenericResponse,updateGenericResponse}from'../../../redux/actions/wizardActions';import{host}from'../../../config';import{Row,Col,Popover,Overlay,Modal,Form,Spinner}from'react-bootstrap';import WizardMiracleInput from'./WizardMiracleInput';import ReactTooltip from'react-tooltip';import Swal from'sweetalert2/dist/sweetalert2.js';// Translations\nimport{trans}from'../../../Translations';import{IoIosArrowDown,IoIosArrowUp,IoIosClose}from'react-icons/io';import{AiOutlineCloseCircle}from'react-icons/ai';import{MdAddCircleOutline}from'react-icons/md';import{ReactComponent as TrashIntent}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/images/home/trash-intent.svg\";import{ReactComponent as TrashIntentWhite}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/images/home/TrashIntentWhite.svg\";function WizardIntentDetails(props){// All Props from WizardConfig : \nvar lang=props.lang,indexOfIntent=props.indexOfIntent,intent=props.intent,setIntents=props.setIntents,selectedIntents=props.selectedIntents,wizardExistingProjectIntents=props.wizardExistingProjectIntents,intentStatus=props.intentStatus;// Popup Config:\nvar swalWithBootstrapButtons=Swal.mixin({customClass:{confirmButton:'wizard-pages-active-btn-alert'},buttonsStyling:false});// Generic:\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),GenericResponse=_useState2[0],setGenericResponse=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),GenericTags=_useState4[0],setGenericTags=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),GenericEmojis=_useState6[0],setGenericEmojis=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),GenericKeyboard=_useState8[0],setGenericKeyboard=_useState8[1];var _useState9=useState('web_url'),_useState10=_slicedToArray(_useState9,2),GenericBtnType=_useState10[0],setGenericBtnType=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),GenericBtnTitle=_useState12[0],setGenericBtnTitle=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),GenericBtnValue=_useState14[0],setGenericBtnValue=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),GenericBtns=_useState16[0],setGenericBtns=_useState16[1];var resetGeneric=function resetGeneric(){setGenericResponse('');setGenericTags(false);setGenericEmojis(false);setGenericKeyboard(false);setGenericBtnType('web_url');setGenericBtnTitle('');setGenericBtnValue('');setGenericBtns([]);};var handleSaveGenericResponse=function handleSaveGenericResponse(intent,wizardIdProject){handleUpdateModal(false);var project={genericAnswer:GenericResponse,intent:intent,buttons:GenericBtns};if(GenericResponse===\"\"){swalWithBootstrapButtons.fire({title:trans[lang].wizardIntentDetails.genericRepEmpty,confirmButtonText:trans[lang].wizardIntentDetails.retry});}else if(intentState==='save'&&GenericResponse!==''){setSaveUpdateLoading(true);props.addGenericResponse(project,wizardIdProject).then(function(){setIntentState('update');setSaveUpdateLoading(false);}).catch(function(){setSaveUpdateLoading(false);swalWithBootstrapButtons.fire({title:trans[lang].wizardIntentDetails.errorSavingGenericRep,confirmButtonText:trans[lang].wizardIntentDetails.retry});});}else if(intentState==='update'&&GenericResponse!==''){setSaveUpdateLoading(true);props.updateGenericResponse(project,wizardIdProject).then(function(){setSaveUpdateLoading(false);setGenericBtnColor(false);}).catch(function(){setSaveUpdateLoading(false);swalWithBootstrapButtons.fire({title:trans[lang].wizardIntentDetails.errorUpdatingGenericRep,confirmButtonText:trans[lang].wizardIntentDetails.retry});});}};// Specific:\nvar _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),SpecificResponse=_useState18[0],SetSpecificResponse=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),SpecificKeyBoard=_useState20[0],setSpecificKeyBoard=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),SpecificEmoji=_useState22[0],setSpecificEmoji=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),SpecificTags=_useState24[0],setSpecificTags=_useState24[1];var _useState25=useState('web_url'),_useState26=_slicedToArray(_useState25,2),SpecificBtnType=_useState26[0],setSpecificType=_useState26[1];var _useState27=useState(''),_useState28=_slicedToArray(_useState27,2),SpecificBtnTitle=_useState28[0],setSpecificTitle=_useState28[1];var _useState29=useState(''),_useState30=_slicedToArray(_useState29,2),SpecificBtnValue=_useState30[0],setSpecificValue=_useState30[1];var _useState31=useState([]),_useState32=_slicedToArray(_useState31,2),SpecificBtns=_useState32[0],setSpecificBtns=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),SpecificPopover=_useState34[0],setSpecificPopover=_useState34[1];var _useState35=useState(null),_useState36=_slicedToArray(_useState35,2),SpecificTarget=_useState36[0],setSpecificTarget=_useState36[1];var SpecificRef=useRef(null);var resetSpecific=function resetSpecific(){setProductName('');SetSpecificResponse('');setSpecificTags(false);setSpecificEmoji(false);setSpecificKeyBoard(false);setSpecificType('web_url');setSpecificTitle('');setSpecificValue('');setSpecificBtns([]);};var handleSpecificPopover=function handleSpecificPopover(event){setSpecificPopover(!SpecificPopover);setSpecificTarget(event.target);};// Specific Update:\nvar _useState37=useState(''),_useState38=_slicedToArray(_useState37,2),SpecificUpdateResponse=_useState38[0],SetSpecificUpdateResponse=_useState38[1];var _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),SpecificUpdateKeyBoard=_useState40[0],setSpecificUpdateKeyBoard=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),SpecificUpdateEmoji=_useState42[0],setSpecificUpdateEmoji=_useState42[1];var _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),SpecificUpdateTags=_useState44[0],setSpecificUpdateTags=_useState44[1];var _useState45=useState('web_url'),_useState46=_slicedToArray(_useState45,2),SpecificUpdateBtnType=_useState46[0],setSpecificUpdateType=_useState46[1];var _useState47=useState(''),_useState48=_slicedToArray(_useState47,2),SpecificUpdateBtnTitle=_useState48[0],setSpecificUpdateTitle=_useState48[1];var _useState49=useState(''),_useState50=_slicedToArray(_useState49,2),SpecificUpdateBtnValue=_useState50[0],setSpecificUpdateValue=_useState50[1];var _useState51=useState([]),_useState52=_slicedToArray(_useState51,2),SpecificUpdateBtns=_useState52[0],setSpecificUpdateBtns=_useState52[1];var _useState53=useState(false),_useState54=_slicedToArray(_useState53,2),SpecificUpdatePopover=_useState54[0],setSpecificUpdatePopover=_useState54[1];var _useState55=useState(null),_useState56=_slicedToArray(_useState55,2),SpecificUpdateTarget=_useState56[0],setSpecificUpdateTarget=_useState56[1];var SpecificUpdateRef=useRef(null);var resetUpdateSpecific=function resetUpdateSpecific(){setSpecificUpdatePopover(false);setSpecificUpdateTarget(null);SetSpecificUpdateResponse('');setSpecificUpdateKeyBoard(false);setSpecificUpdateEmoji(false);setSpecificUpdateTags(false);setSpecificUpdateType('web_url');setSpecificUpdateTitle('');setSpecificUpdateValue('');setSpecificUpdateBtns([]);setSpecificBtnColor(false);};var handleSpecificUpdatePopover=function handleSpecificUpdatePopover(event,product){// console.log(\"Product to update =>\", product);\nsetProductUpdateName(product.product);SetSpecificUpdateResponse(product.preAnswer);setSpecificUpdateBtns(product.buttons);setSpecificUpdatePopover(!SpecificUpdatePopover);setSpecificUpdateTarget(event.target);};// Products\nvar _useState57=useState(''),_useState58=_slicedToArray(_useState57,2),productName=_useState58[0],setProductName=_useState58[1];var _useState59=useState(''),_useState60=_slicedToArray(_useState59,2),productUpdateName=_useState60[0],setProductUpdateName=_useState60[1];var _useState61=useState(''),_useState62=_slicedToArray(_useState61,2),savedProductToSend=_useState62[0],setSavedProductToSend=_useState62[1];var _useState63=useState([]),_useState64=_slicedToArray(_useState63,2),products=_useState64[0],setProducts=_useState64[1];// Categories\nvar _useState65=useState(''),_useState66=_slicedToArray(_useState65,2),newCategory=_useState66[0],setNewCategory=_useState66[1];var _useState67=useState(''),_useState68=_slicedToArray(_useState67,2),categorySelected=_useState68[0],setCategorySelected=_useState68[1];var _useState69=useState([]),_useState70=_slicedToArray(_useState69,2),allCategories=_useState70[0],setAllCategories=_useState70[1];var _useState71=useState(false),_useState72=_slicedToArray(_useState71,2),CategorieModal=_useState72[0],setCategorieModal=_useState72[1];var _useState73=useState(false),_useState74=_slicedToArray(_useState73,2),showModalInput=_useState74[0],setShowModalInput=_useState74[1];var handleCategoriesModal=function handleCategoriesModal(){setSpecificPopover(false);setCategorieModal(!CategorieModal);};// other:\nvar _useState75=useState(false),_useState76=_slicedToArray(_useState75,2),saveUpdateLoading=_useState76[0],setSaveUpdateLoading=_useState76[1];var _useState77=useState('save'),_useState78=_slicedToArray(_useState77,2),intentState=_useState78[0],setIntentState=_useState78[1];var _useState79=useState(false),_useState80=_slicedToArray(_useState79,2),genericBtnColor=_useState80[0],setGenericBtnColor=_useState80[1];var _useState81=useState(false),_useState82=_slicedToArray(_useState81,2),specificBtnColor=_useState82[0],setSpecificBtnColor=_useState82[1];var _useState83=useState(false),_useState84=_slicedToArray(_useState83,2),updateModal=_useState84[0],handleUpdateModal=_useState84[1];var _useState85=useState(intentStatus===\"old\"?false:true),_useState86=_slicedToArray(_useState85,2),isOpen=_useState86[0],setIsOpen=_useState86[1];// Categories & Products functions :\nvar addNewProduct=function addNewProduct(idProjet){// First update api : entity === categorie :\nvar productToSend={idPage:props.wizardSelectedPage.id,typePage:props.wizardSelectedPage.platform,entity:productName,intent:props.intent.name,genericAnswer:GenericResponse,specificAnswer:SpecificResponse,categorie:productName,buttons:SpecificBtns};if(productName===\"\"){swalWithBootstrapButtons.fire({title:trans[lang].wizardIntentDetails.prodNameEmpty,confirmButtonText:trans[lang].wizardIntentDetails.retry});}else if(SpecificResponse===\"\"){swalWithBootstrapButtons.fire({title:trans[lang].wizardIntentDetails.specificRepEmpty,confirmButtonText:trans[lang].wizardIntentDetails.retry});}else{axios.put(\"\".concat(host,\"/api/v1/secure/project/firstupdate/\").concat(idProjet),productToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('first update response =>',res.data.data);if(res.data.data===\"not exist\"){// Call the categories api :\naxios.get(\"\".concat(host,\"/api/v1/secure/project/get/entitiesproject/\").concat(props.wizardSelectedPage.platform,\"/\").concat(props.wizardSelectedPage.id)).then(function(res){console.log(\"get categories for modal /get/entitiesproject =>\",res.data.data);// Eliminate default categories:\nvar categories=res.data.data;if(categories.length>0){categories.map(function(cat,index){return cat.default===true&&categories.splice(index,1);});// console.log(\"Result after filtring the cats\", categories);\n};setAllCategories(categories);setSpecificPopover(!SpecificPopover);setSavedProductToSend(productToSend);setCategorieModal(true);// ==> Update the products array from addNewProductViaModal() <==\n}).catch(function(err){return console.log(\"addNewProduct WizardIntentDetails =>\",err);});}else if(res.data.data===\"exist\"){swalWithBootstrapButtons.fire({title:trans[lang].wizardIntentDetails.productExists,confirmButtonText:trans[lang].wizardIntentDetails.retry});}else{// Update the products array :\nvar newSelectedIntents=_toConsumableArray(selectedIntents);newSelectedIntents.map(function(intent,index){if(index===props.indexOfIntent){// intent.products = res.data.data.intents[indexOfIntent].answer\nsetProducts([]);setProducts(res.data.data.intents[indexOfIntent].answer);};});setIntents(newSelectedIntents);// Reset\nsetSpecificPopover(!SpecificPopover);resetSpecific();};}).catch(function(err){return console.log(\"Wizard Intent Detail addNewProduct fct first Update API err ===>\",err);});}};var addNewProductViaModal=function addNewProductViaModal(idProjet){// Send the update with the new category name :) :\nvar productToSend=savedProductToSend;productToSend.categorie=categorySelected;// console.log(\"sendinnng product =>\",productToSend);\n// console.log(\"Category Selected To sennnnd\", categorySelected,\" and product =>>>\", productToSend);\nreturn axios.put(host+\"/api/v1/secure/project/update/\".concat(idProjet),productToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('UPDATE API response =>',res.data);// set the products from the update api :\nvar newSelectedIntents=_toConsumableArray(selectedIntents);newSelectedIntents.map(function(_,index){if(index===props.indexOfIntent){//intent.products = res.data.data.intents[indexOfIntent].answer\nsetProducts([]);setProducts(res.data.data.intents[indexOfIntent].answer);};});setIntents(newSelectedIntents);// Reset\nresetSpecific();setCategorySelected('');setCategorieModal(false);}).catch(function(err){return console.log(\"addNewProductViaModal => api update err =>> \",err);});};var updateProduct=function updateProduct(idProjet){var productToSend={idPage:props.wizardSelectedPage.id,typePage:props.wizardSelectedPage.platform,entity:productUpdateName,intent:props.intent.name,genericAnswer:GenericResponse,specificAnswer:SpecificUpdateResponse,buttons:SpecificUpdateBtns// categorie: productUpdateName,\n};axios.put(host+\"/api/v1/secure/project/entitiesupdate/\".concat(props.wizardIdProject),productToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('updateProduct API response =>',res.data);// set the products from the update api :\nvar newSelectedIntents=_toConsumableArray(selectedIntents);newSelectedIntents.map(function(_,index){if(index===props.indexOfIntent){setProducts([]);setProducts(res.data.data.intents[indexOfIntent].answer);};});setIntents(newSelectedIntents);resetUpdateSpecific();// setSpecificUpdatePopover(false);\n}).catch(function(err){console.log(\"updateProduct API error =>> \",err);swalWithBootstrapButtons.fire({title:trans[lang].wizardIntentDetails.errorUpdatingProduct,confirmButtonText:trans[lang].wizardIntentDetails.retry});});};var deleteProduct=function deleteProduct(product,index){var newProducts=_toConsumableArray(products);var objectToSend={intent:intent.name,answer:product._id};console.log(\"To delete That\",objectToSend);axios.put(host+\"/api/v1/secure/project/\".concat(props.wizardIdProject,\"/remove/entity\"),objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('deleteProduct API response =>',res.data);newProducts.splice(index,1);setProducts(newProducts);}).catch(function(err){console.log(\"deleteProduct api err =>> \",err);swalWithBootstrapButtons.fire({title:trans[lang].wizardIntentDetails.errorDeletingProduct,confirmButtonText:trans[lang].wizardIntentDetails.retry});});};var pushNewCategory=function pushNewCategory(){var categoryToPush={name:newCategory};setAllCategories(function(categories){return[].concat(_toConsumableArray(categories),[categoryToPush]);});setCategorySelected(categoryToPush.name);// Send the update with the new category name :) :\nvar productToSend=savedProductToSend;productToSend.categorie=newCategory;// console.log(\"sendinnng product =>\",productToSend);\n// console.log(\"Category Selected To sennnnd\", categorySelected,\" and product =>>>\", productToSend);\nreturn axios.put(host+\"/api/v1/secure/project/update/\".concat(props.wizardIdProject),productToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('pushNewCategory via Modal project/update API response =>',res.data);// set the products from the update api :\nvar newSelectedIntents=_toConsumableArray(selectedIntents);newSelectedIntents.map(function(_,index){if(index===props.indexOfIntent){setProducts([]);setProducts(res.data.data.intents[indexOfIntent].answer);};});setIntents(newSelectedIntents);// Reset\nresetSpecific();setCategorySelected('');setShowModalInput(false);setNewCategory('');setCategorieModal(false);}).catch(function(err){return console.log(\"pushNewCategory via Modal project/update api error =>> \",err);});};var deleteIntent=function deleteIntent(intent,index){// console.log(\"U want to delete this intent =>\", intent);\n// intent: nom intent\nvar newIntents=_toConsumableArray(selectedIntents);var objectToSend={intent:intent.name};console.log(\"i'm gonna delete intent ya nour with =>\",objectToSend);axios.put(host+\"/api/v1/secure/project/intents/remove/\".concat(props.wizardIdProject),objectToSend,{headers:{'authorization':'Bearer '+localStorage.getItem('authtoken')}}).then(function(res){console.log('deleteIntent API response =>',res.data);newIntents.splice(index,1);setIntents(newIntents);}).catch(function(err){console.log(\"deleteIntent api err =>> \",err);swalWithBootstrapButtons.fire({title:trans[lang].wizardIntentDetails.errorDeletingIntent,confirmButtonText:trans[lang].wizardIntentDetails.retry});});// setIntents(selectedIntents.filter( intent =>( intent !== props.intent.name )))\n};var renderUpdateModal=function renderUpdateModal(){return/*#__PURE__*/React.createElement(Modal,{show:updateModal,size:\"sm\",centered:true},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(IoIosClose,{color:\"#B4B4B4\",size:30,className:\"ml-auto\",style:{cursor:'pointer'},onClick:function onClick(){handleUpdateModal(false);}})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto mb-3 confirm-modal-text\"},trans[lang].wizardIntentDetails.updateVisible)),/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"team-invite-btn text-center px-3 mr-2\",onClick:function onClick(){return handleSaveGenericResponse(props.intent.name,props.wizardIdProject);}},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},trans[lang].wizardIntentDetails.yes)),/*#__PURE__*/React.createElement(\"div\",{className:\"team-invite-btn-no text-center px-3 ml-2\",onClick:function onClick(){handleUpdateModal(false);}},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},trans[lang].wizardIntentDetails.no))))))));};useEffect(function(){if(wizardExistingProjectIntents&&intentStatus===\"old\"){if(wizardExistingProjectIntents[indexOfIntent]){setGenericResponse(wizardExistingProjectIntents[indexOfIntent].hasOwnProperty('genericAnswer')?wizardExistingProjectIntents[indexOfIntent].genericAnswer:\"\");setGenericBtns(wizardExistingProjectIntents[indexOfIntent].hasOwnProperty('buttons')?wizardExistingProjectIntents[indexOfIntent].buttons:[]);setProducts(wizardExistingProjectIntents[indexOfIntent].hasOwnProperty('answer')?wizardExistingProjectIntents[indexOfIntent].answer:[]);}setIntentState('update');}return function(){};},[wizardExistingProjectIntents]);useEffect(function(){console.log(\"Im new\",intent,intent.name_fr,lang);},[intent]);return/*#__PURE__*/React.createElement(Col,{lg:6,className:\"mb-3\",key:indexOfIntent},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column wizard-config-intents-container\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12},intent.name.toLowerCase()===\"quiz\"?/*#__PURE__*/React.createElement(Row,{className:isOpen?\"justify-content-between mx-0 p-0 wizard-config-intents-top-row-quiz pl-2 pr-1\":\"justify-content-between mx-0 p-0 wizard-config-intents-top-row-quiz-closed pl-2 pr-1\",style:{background:'#B0BBD0'}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},props.lang===\"en\"?/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto wizard-config-intent-title p-2\",style:{color:'#ffffff'}},intent.name):/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto wizard-config-intent-title p-2\",style:{color:'#ffffff'}},intent.name_fr)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mr-1\"},/*#__PURE__*/React.createElement(TrashIntentWhite,{width:16,height:16,className:\"m-auto\",style:{cursor:'pointer'},onClick:function onClick(){return deleteIntent(intent,indexOfIntent);}}),isOpen?/*#__PURE__*/React.createElement(IoIosArrowUp,{color:\"#ffffff\",size:17,className:\"ml-1 mt-auto mb-2\",style:{cursor:'pointer'},onClick:function onClick(){return setIsOpen(!isOpen);}}):/*#__PURE__*/React.createElement(IoIosArrowDown,{color:\"#ffffff\",size:17,className:\"ml-1 mt-auto mb-2\",style:{cursor:'pointer'},onClick:function onClick(){return setIsOpen(!isOpen);}}))):/*#__PURE__*/React.createElement(Row,{className:isOpen?\"justify-content-between mx-0 p-0 wizard-config-intents-top-row pl-2 pr-1\":\"justify-content-between mx-0 p-0 wizard-config-intents-top-row-closed pl-2 pr-1\",style:{background:Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2!=0?'#E4E6EB':Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2==0?'#E5007D':Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2!=0?'#E5007D':Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2==0&&'#E4E6EB'}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},props.lang===\"en\"?/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto wizard-config-intent-title p-2\",style:{color:Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2!=0?'#818E94':Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2==0?'#ffffff':Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2!=0?'#ffffff':Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2==0&&'#818E94'}},intent.name):/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto wizard-config-intent-title p-2\",style:{color:Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2!=0?'#818E94':Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2==0?'#ffffff':Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2!=0?'#ffffff':Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2==0&&'#818E94'}},intent.name_fr)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mr-1\"},Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2!=0?/*#__PURE__*/React.createElement(TrashIntent,{width:16,height:16,className:\"m-auto\",style:{cursor:'pointer'},onClick:function onClick(){return deleteIntent(intent,indexOfIntent);}}):Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2==0?/*#__PURE__*/React.createElement(TrashIntentWhite,{width:16,height:16,className:\"m-auto\",style:{cursor:'pointer'},onClick:function onClick(){return deleteIntent(intent,indexOfIntent);}}):Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2!=0?/*#__PURE__*/React.createElement(TrashIntentWhite,{width:16,height:16,className:\"m-auto\",style:{cursor:'pointer'},onClick:function onClick(){return deleteIntent(intent,indexOfIntent);}}):Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2==0&&/*#__PURE__*/React.createElement(TrashIntent,{width:16,height:16,className:\"m-auto\",style:{cursor:'pointer'},onClick:function onClick(){return deleteIntent(intent,indexOfIntent);}}),isOpen?/*#__PURE__*/React.createElement(IoIosArrowUp,{color:Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2!=0?'#818E94':Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2==0?'#ffffff':Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2!=0?'#ffffff':Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2==0&&'#818E94',size:17,className:\"ml-1 mt-auto mb-2\",style:{cursor:'pointer'},onClick:function onClick(){return setIsOpen(!isOpen);}}):/*#__PURE__*/React.createElement(IoIosArrowDown,{color:Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2!=0?'#818E94':Math.ceil((indexOfIntent+1)/2)%2!=0&&(indexOfIntent+1)%2==0?'#ffffff':Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2!=0?'#818E94':Math.ceil((indexOfIntent+1)/2)%2==0&&(indexOfIntent+1)%2==0&&'#ffffff',size:17,className:\"ml-1 mt-auto mb-2\",style:{cursor:'pointer'},onClick:function onClick(){return setIsOpen(!isOpen);}}))))),isOpen&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(WizardMiracleInput,{lang:lang,label:trans[lang].wizardIntentDetails.genericResp,response:GenericResponse,handleResponse:setGenericResponse,showTags:GenericTags,handleTags:setGenericTags,showEmojis:GenericEmojis,handleEmojis:setGenericEmojis,showKeyboard:GenericKeyboard,handleKeyboard:setGenericKeyboard,BtnType:GenericBtnType,handleBtnType:setGenericBtnType,BtnTitle:GenericBtnTitle,handleBtnTitle:setGenericBtnTitle,BtnValue:GenericBtnValue,handleBtnValue:setGenericBtnValue,Btns:GenericBtns,handleBtns:setGenericBtns,platform:props.wizardSelectedPage.platform,reset:resetGeneric,changeBtnColor:setGenericBtnColor})),/*#__PURE__*/React.createElement(\"div\",{className:\"px-2 mx-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"ml-auto remaining-text mb-1 mt-1\"},trans[lang].wizardIntentDetails.remainingChars,640-GenericResponse.length)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},intentState==='save'?!saveUpdateLoading?/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return handleSaveGenericResponse(props.intent.name,props.wizardIdProject);},className:\"ml-auto mb-2 wizard-config-update-btn\"},trans[lang].wizardIntentDetails.save):/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex ml-auto  mb-2 py-2 px-4 wizard-config-update-btn\"},/*#__PURE__*/React.createElement(Spinner,{animation:\"grow\",size:\"sm\",variant:\"light\",className:\"m-auto\"})):!saveUpdateLoading?/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return handleUpdateModal(!updateModal);},className:genericBtnColor?\"ml-auto  mb-2  wizard-config-update-btn-active\":\"ml-auto  mb-2  wizard-config-update-btn\"},trans[lang].wizardIntentDetails.update):/*#__PURE__*/React.createElement(\"div\",{className:genericBtnColor?\"d-flex ml-auto  mb-2 py-2 px-4 wizard-config-update-btn-active\":\"d-flex ml-auto  mb-2 py-2 px-4 wizard-config-update-btn\"},/*#__PURE__*/React.createElement(Spinner,{animation:\"grow\",size:\"sm\",variant:\"light\",className:\"m-auto\"})),updateModal&&renderUpdateModal()),intentState===\"save\"&&/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mx-auto mt-1\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:5,className:\"d-flex wizard-config-add-product-box mb-3 py-1 px-0\",style:{cursor:'not-allowed',borderColor:'#B4B4B4'}},/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto d-flex justify-content-around\"},/*#__PURE__*/React.createElement(MdAddCircleOutline,{className:\"m-auto\",color:\"#B4B4B4\",size:18}),/*#__PURE__*/React.createElement(\"p\",{className:\"wizard-config-add-product-name my-auto ml-3\",style:{fontFamily:'Poppins SemiBold',fontSize:'13px',color:'#B4B4B4'}},trans[lang].wizardIntentDetails.addProduct))))),intentState==='update'&&/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mx-auto mt-1\"},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-between\"},products.length>0&&products.map(function(product,index){return product.product.length>0&&/*#__PURE__*/React.createElement(Col,{key:index,lg:5,className:product.default?\"d-flex flex-row mb-3 py-1  wizard-config-product-box-exist\":\"d-flex flex-row mb-3 py-1  wizard-config-product-box \",style:{cursor:'pointer'}},product.product.length>11?/*#__PURE__*/React.createElement(\"p\",{onClick:function onClick(e){return handleSpecificUpdatePopover(e,product);},\"data-for\":\"entityTip\",\"data-tip\":product.product,className:product.default?\"m-auto wizard-config-product-name-exist\":\"m-auto wizard-config-product-name\"},product.product.substring(0,9),\"...\"):/*#__PURE__*/React.createElement(\"p\",{onClick:function onClick(e){return handleSpecificUpdatePopover(e,product);},className:product.default?\"m-auto wizard-config-product-name-exist\":\"m-auto wizard-config-product-name\"},product.product),/*#__PURE__*/React.createElement(AiOutlineCloseCircle,{className:\"my-auto ml-1\",color:product.default?\"#fff\":\"#F49BCC\",size:\"20\",style:{cursor:'pointer'},onClick:function onClick(){return deleteProduct(product,index);}}),/*#__PURE__*/React.createElement(ReactTooltip,{id:\"entityTip\",textColor:\"#fff\",backgroundColor:\"#E5007D\"}));}),/*#__PURE__*/React.createElement(Col,{lg:5,onClick:handleSpecificPopover,className:\"d-flex wizard-config-add-product-box mb-3 py-1 px-0\",style:{cursor:'pointer'}},/*#__PURE__*/React.createElement(\"div\",{className:\" m-auto  d-flex justify-content-around\"},/*#__PURE__*/React.createElement(MdAddCircleOutline,{className:\"m-auto\",color:\"#4080FC\",size:18}),/*#__PURE__*/React.createElement(\"p\",{className:\"wizard-config-add-product-name my-auto ml-3\",style:{fontFamily:'Poppins SemiBold',fontSize:'13px'}},trans[lang].wizardIntentDetails.addProduct)))))))),/*#__PURE__*/React.createElement(\"div\",{ref:SpecificRef},/*#__PURE__*/React.createElement(Overlay,{show:SpecificPopover,target:SpecificTarget,container:SpecificRef.current,placement:indexOfIntent%2!==0?\"left\":\"right\"},/*#__PURE__*/React.createElement(Popover,{id:\"popover-specific\"},/*#__PURE__*/React.createElement(Popover.Content,{className:\"p-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(IoIosClose,{className:\"ml-auto\",color:'#9F9F9F',size:'25',onClick:handleSpecificPopover,style:{cursor:'pointer'}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mx-2 px-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"wizard-config-textarea-label\"},trans[lang].wizardIntentDetails.productName),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setProductName(e.target.value);},value:productName,className:\"wizard-config-product-input\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(WizardMiracleInput,{lang:lang,label:trans[lang].wizardIntentDetails.specificResp,response:SpecificResponse,handleResponse:SetSpecificResponse,showTags:SpecificTags,handleTags:setSpecificTags,showEmojis:SpecificEmoji,handleEmojis:setSpecificEmoji,showKeyboard:SpecificKeyBoard,handleKeyboard:setSpecificKeyBoard,BtnType:SpecificBtnType,handleBtnType:setSpecificType,BtnTitle:SpecificBtnTitle,handleBtnTitle:setSpecificTitle,BtnValue:SpecificBtnValue,handleBtnValue:setSpecificValue,Btns:SpecificBtns,handleBtns:setSpecificBtns,platform:props.wizardSelectedPage.platform,reset:resetSpecific,changeBtnColor:null})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mx-2\"},/*#__PURE__*/React.createElement(\"p\",{className:\"ml-auto mr-2 remaining-text mb-1 mt-1\"},trans[lang].wizardIntentDetails.remainingChars,640-SpecificResponse.length)),/*#__PURE__*/React.createElement(\"div\",{className:\"mr-2 px-2  d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ml-auto mb-2  wizard-config-update-btn\",onClick:function onClick(){return addNewProduct(props.wizardIdProject);}},trans[lang].wizardIntentDetails.add)))))),/*#__PURE__*/React.createElement(\"div\",{ref:SpecificUpdateRef},/*#__PURE__*/React.createElement(Overlay,{show:SpecificUpdatePopover,target:SpecificUpdateTarget,container:SpecificUpdateRef.current,placement:indexOfIntent%2!==0?\"left\":\"right\"},/*#__PURE__*/React.createElement(Popover,{id:\"popover-specific\"},/*#__PURE__*/React.createElement(Popover.Content,{className:\"p-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(IoIosClose,{className:\"ml-auto\",color:'#9F9F9F',size:'25',onClick:resetUpdateSpecific,style:{cursor:'pointer'}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mx-2 px-2\"},/*#__PURE__*/React.createElement(\"label\",{className:\"wizard-config-textarea-label\"},trans[lang].wizardIntentDetails.productName),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){return setProductUpdateName(e.target.value);},value:productUpdateName,disabled:true,style:{cursor:'not-allowed'},className:\"wizard-config-product-input\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-2\"},/*#__PURE__*/React.createElement(WizardMiracleInput,{lang:lang,label:trans[lang].wizardIntentDetails.updateSpecificResp,response:SpecificUpdateResponse,handleResponse:SetSpecificUpdateResponse,showTags:SpecificUpdateKeyBoard,handleTags:setSpecificUpdateKeyBoard,showEmojis:SpecificUpdateEmoji,handleEmojis:setSpecificUpdateEmoji,showKeyboard:SpecificUpdateTags,handleKeyboard:setSpecificUpdateTags,BtnType:SpecificUpdateBtnType,handleBtnType:setSpecificUpdateType,BtnTitle:SpecificUpdateBtnTitle,handleBtnTitle:setSpecificUpdateTitle,BtnValue:SpecificUpdateBtnValue,handleBtnValue:setSpecificUpdateValue,Btns:SpecificUpdateBtns,handleBtns:setSpecificUpdateBtns,platform:props.wizardSelectedPage.platform,reset:resetUpdateSpecific,changeBtnColor:setSpecificBtnColor})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mx-2\"},/*#__PURE__*/React.createElement(\"p\",{className:\"ml-auto mr-2 remaining-text mb-1 mt-1\"},trans[lang].wizardIntentDetails.remainingChars,640-SpecificResponse.length)),/*#__PURE__*/React.createElement(\"div\",{className:\"mr-2 px-2 d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:specificBtnColor?\"ml-auto mb-2  wizard-config-update-btn-active\":\"ml-auto mb-2  wizard-config-update-btn\",onClick:function onClick(){return updateProduct(props.wizardIdProject);}},trans[lang].wizardIntentDetails.update)))))),/*#__PURE__*/React.createElement(Modal,{show:CategorieModal,onHide:handleCategoriesModal,centered:true},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Row,{className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(IoIosClose,{className:\"ml-auto mr-3\",color:'#9F9F9F',size:'28',onClick:handleCategoriesModal,style:{cursor:'pointer'}})),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mb-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto wizard-config-intent-title\"},trans[lang].wizardIntentDetails.specifyCategory)),/*#__PURE__*/React.createElement(Row,{className:\"mb-3\"},/*#__PURE__*/React.createElement(Col,{lg:1}),/*#__PURE__*/React.createElement(Col,{lg:10,className:\"d-flex justify-content-between p-0 mx-0\"},/*#__PURE__*/React.createElement(Col,{lg:8,className:\"d-flex\"},showModalInput&&/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"mr-auto w-100 my-auto add-new-category-input-container\",onChange:function onChange(e){return setNewCategory(e.target.value);},value:newCategory})),/*#__PURE__*/React.createElement(Col,{lg:4,className:\"d-flex\"},!showModalInput&&/*#__PURE__*/React.createElement(\"p\",{className:\"ml-auto my-auto wizard-config-intent-name\",style:{cursor:'pointer'},onClick:function onClick(){return setShowModalInput(true);}},trans[lang].wizardIntentDetails.createNew))),/*#__PURE__*/React.createElement(Col,{lg:1})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:1}),/*#__PURE__*/React.createElement(Col,{lg:10},/*#__PURE__*/React.createElement(Form.Group,{className:\"d-flex w-100\"},/*#__PURE__*/React.createElement(Form.Control,{className:\"wizard-config-intent-title\",as:\"select\",disabled:showModalInput||allCategories.length===0,onChange:function onChange(e){return setCategorySelected(e.target.value);},value:categorySelected,custom:true},/*#__PURE__*/React.createElement(\"option\",{className:\"wizard-config-intent-title\"},trans[lang].wizardIntentDetails.chooseCategory),allCategories.length>0&&allCategories.map(function(category,index){return/*#__PURE__*/React.createElement(\"option\",{key:index,className:\"wizard-config-intent-title\",value:category.name},category.name);})))),/*#__PURE__*/React.createElement(Col,{lg:1})),/*#__PURE__*/React.createElement(Row,{className:\"mb-3\"},showModalInput?/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto mb-2 py-3 px-4 wizard-config-update-btn\",style:{backgroundColor:'#009EE3',cursor:'pointer'},onClick:function onClick(){return pushNewCategory();}},trans[lang].wizardIntentDetails.create):/*#__PURE__*/React.createElement(\"div\",{className:\"m-auto mb-2 py-3 px-4 wizard-config-update-btn\",style:{backgroundColor:allCategories.length>0&&categorySelected?'#009EE3':'#707070',cursor:allCategories.length>0&&categorySelected?'pointer':'not-allowed'},onClick:function onClick(){return allCategories.length>0&&categorySelected?addNewProductViaModal(props.wizardIdProject):null;}},trans[lang].wizardIntentDetails.add)))));}var mapStateToProps=function mapStateToProps(state){return{lang:state.socialMediaR.lang,wizardIdProject:state.wizardR.wizardIdProject,wizardIntentType:state.wizardR.wizardIntentType,wizardSelectedPage:state.wizardR.wizardSelectedPage,wizardSelectedPost:state.wizardR.wizardSelectedPost,wizardExistingProjectIntents:state.wizardR.wizardExistingProjectIntents};};export default connect(mapStateToProps,{addGenericResponse:addGenericResponse,updateGenericResponse:updateGenericResponse})(WizardIntentDetails);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/AutoWizard/WizardIntentDetails.js"],"names":["React","useState","useRef","useEffect","axios","connect","addGenericResponse","updateGenericResponse","host","Row","Col","Popover","Overlay","Modal","Form","Spinner","WizardMiracleInput","ReactTooltip","Swal","trans","IoIosArrowDown","IoIosArrowUp","IoIosClose","AiOutlineCloseCircle","MdAddCircleOutline","WizardIntentDetails","props","lang","indexOfIntent","intent","setIntents","selectedIntents","wizardExistingProjectIntents","intentStatus","swalWithBootstrapButtons","mixin","customClass","confirmButton","buttonsStyling","GenericResponse","setGenericResponse","GenericTags","setGenericTags","GenericEmojis","setGenericEmojis","GenericKeyboard","setGenericKeyboard","GenericBtnType","setGenericBtnType","GenericBtnTitle","setGenericBtnTitle","GenericBtnValue","setGenericBtnValue","GenericBtns","setGenericBtns","resetGeneric","handleSaveGenericResponse","wizardIdProject","handleUpdateModal","project","genericAnswer","buttons","fire","title","wizardIntentDetails","genericRepEmpty","confirmButtonText","retry","intentState","setSaveUpdateLoading","then","setIntentState","catch","errorSavingGenericRep","setGenericBtnColor","errorUpdatingGenericRep","SpecificResponse","SetSpecificResponse","SpecificKeyBoard","setSpecificKeyBoard","SpecificEmoji","setSpecificEmoji","SpecificTags","setSpecificTags","SpecificBtnType","setSpecificType","SpecificBtnTitle","setSpecificTitle","SpecificBtnValue","setSpecificValue","SpecificBtns","setSpecificBtns","SpecificPopover","setSpecificPopover","SpecificTarget","setSpecificTarget","SpecificRef","resetSpecific","setProductName","handleSpecificPopover","event","target","SpecificUpdateResponse","SetSpecificUpdateResponse","SpecificUpdateKeyBoard","setSpecificUpdateKeyBoard","SpecificUpdateEmoji","setSpecificUpdateEmoji","SpecificUpdateTags","setSpecificUpdateTags","SpecificUpdateBtnType","setSpecificUpdateType","SpecificUpdateBtnTitle","setSpecificUpdateTitle","SpecificUpdateBtnValue","setSpecificUpdateValue","SpecificUpdateBtns","setSpecificUpdateBtns","SpecificUpdatePopover","setSpecificUpdatePopover","SpecificUpdateTarget","setSpecificUpdateTarget","SpecificUpdateRef","resetUpdateSpecific","setSpecificBtnColor","handleSpecificUpdatePopover","product","setProductUpdateName","preAnswer","productName","productUpdateName","savedProductToSend","setSavedProductToSend","products","setProducts","newCategory","setNewCategory","categorySelected","setCategorySelected","allCategories","setAllCategories","CategorieModal","setCategorieModal","showModalInput","setShowModalInput","handleCategoriesModal","saveUpdateLoading","genericBtnColor","specificBtnColor","updateModal","isOpen","setIsOpen","addNewProduct","idProjet","productToSend","idPage","wizardSelectedPage","id","typePage","platform","entity","name","specificAnswer","categorie","prodNameEmpty","specificRepEmpty","put","headers","localStorage","getItem","res","console","log","data","get","categories","length","map","cat","index","default","splice","err","productExists","newSelectedIntents","intents","answer","addNewProductViaModal","_","updateProduct","errorUpdatingProduct","deleteProduct","newProducts","objectToSend","_id","errorDeletingProduct","pushNewCategory","categoryToPush","deleteIntent","newIntents","errorDeletingIntent","renderUpdateModal","cursor","updateVisible","yes","no","hasOwnProperty","name_fr","toLowerCase","background","color","Math","ceil","genericResp","remainingChars","save","update","borderColor","fontFamily","fontSize","addProduct","e","substring","current","value","specificResp","add","updateSpecificResp","specifyCategory","createNew","chooseCategory","category","backgroundColor","create","mapStateToProps","state","socialMediaR","wizardR","wizardIntentType","wizardSelectedPost"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { addGenericResponse, updateGenericResponse } from '../../../redux/actions/wizardActions';\r\nimport { host } from '../../../config';\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Popover,\r\n    Overlay,\r\n    Modal,\r\n    Form,\r\n    Spinner,\r\n} from 'react-bootstrap';\r\nimport WizardMiracleInput from './WizardMiracleInput';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\n// Translations\r\nimport { trans } from '../../../Translations';\r\n\r\nimport { IoIosArrowDown, IoIosArrowUp, IoIosClose } from 'react-icons/io';\r\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\r\nimport { MdAddCircleOutline } from 'react-icons/md';\r\nimport {ReactComponent as TrashIntent} from '../../../assets/images/home/trash-intent.svg';\r\nimport {ReactComponent as TrashIntentWhite} from '../../../assets/images/home/TrashIntentWhite.svg';\r\n\r\nfunction WizardIntentDetails(props) {\r\n\r\n    // All Props from WizardConfig : \r\n    let {\r\n        lang,\r\n        indexOfIntent,\r\n        intent,\r\n        setIntents,\r\n        selectedIntents,\r\n        wizardExistingProjectIntents,\r\n        intentStatus,\r\n        // isExistingProject,\r\n    } = props;\r\n    \r\n    // Popup Config:\r\n    const swalWithBootstrapButtons = Swal.mixin({ customClass: {confirmButton: 'wizard-pages-active-btn-alert'}, buttonsStyling: false });\r\n    \r\n    // Generic:\r\n    const [GenericResponse,setGenericResponse] = useState('');\r\n    const [GenericTags,setGenericTags] = useState(false);\r\n    const [GenericEmojis,setGenericEmojis] = useState(false);\r\n    const [GenericKeyboard,setGenericKeyboard] = useState(false);\r\n    const [GenericBtnType, setGenericBtnType] = useState('web_url');\r\n    const [GenericBtnTitle, setGenericBtnTitle] = useState('');\r\n    const [GenericBtnValue, setGenericBtnValue] = useState('');\r\n    const [GenericBtns, setGenericBtns] = useState([]);\r\n    const resetGeneric = () => {\r\n        setGenericResponse('');\r\n        setGenericTags(false);\r\n        setGenericEmojis(false);\r\n        setGenericKeyboard(false);\r\n        setGenericBtnType('web_url');\r\n        setGenericBtnTitle('');\r\n        setGenericBtnValue('');\r\n        setGenericBtns([]);\r\n    };\r\n    const handleSaveGenericResponse = (intent,wizardIdProject) => {  \r\n        \r\n        handleUpdateModal(false);\r\n\r\n        let project = {\r\n            genericAnswer : GenericResponse,\r\n            intent: intent,\r\n            buttons: GenericBtns,\r\n        };\r\n\r\n        if(GenericResponse === \"\") {\r\n            swalWithBootstrapButtons.fire({\r\n                title: trans[lang].wizardIntentDetails.genericRepEmpty,\r\n                confirmButtonText: trans[lang].wizardIntentDetails.retry,\r\n            });\r\n        } else if (intentState === 'save' && GenericResponse !== '') {\r\n            setSaveUpdateLoading(true);\r\n\r\n            props.addGenericResponse(project,wizardIdProject)\r\n            .then(() => {\r\n                setIntentState('update');\r\n                setSaveUpdateLoading(false);\r\n            })\r\n            .catch(() => {\r\n                setSaveUpdateLoading(false);\r\n                swalWithBootstrapButtons.fire({\r\n                    title:  trans[lang].wizardIntentDetails.errorSavingGenericRep,\r\n                    confirmButtonText: trans[lang].wizardIntentDetails.retry,\r\n                });\r\n            });\r\n\r\n        } else if (intentState === 'update' && GenericResponse !== '') {\r\n            setSaveUpdateLoading(true);\r\n\r\n            props.updateGenericResponse(project,wizardIdProject)\r\n            .then(() => {\r\n                setSaveUpdateLoading(false);\r\n                setGenericBtnColor(false);\r\n            })\r\n            .catch(() => {\r\n                setSaveUpdateLoading(false);\r\n                swalWithBootstrapButtons.fire({\r\n                    title: trans[lang].wizardIntentDetails.errorUpdatingGenericRep,\r\n                    confirmButtonText: trans[lang].wizardIntentDetails.retry,\r\n                });\r\n            });\r\n        }\r\n        \r\n    };\r\n\r\n    // Specific:\r\n    const [SpecificResponse, SetSpecificResponse] = useState('');\r\n    const [SpecificKeyBoard, setSpecificKeyBoard] = useState(false);\r\n    const [SpecificEmoji, setSpecificEmoji] = useState(false);\r\n    const [SpecificTags, setSpecificTags] = useState(false);\r\n    const [SpecificBtnType, setSpecificType] = useState('web_url');\r\n    const [SpecificBtnTitle, setSpecificTitle] = useState('');\r\n    const [SpecificBtnValue, setSpecificValue] = useState('');\r\n    const [SpecificBtns, setSpecificBtns] = useState([]);\r\n    const [SpecificPopover, setSpecificPopover] = useState(false);\r\n    const [SpecificTarget, setSpecificTarget] = useState(null);\r\n    const SpecificRef = useRef(null);\r\n    const resetSpecific = () => {\r\n        setProductName('');\r\n        SetSpecificResponse('');\r\n        setSpecificTags(false);\r\n        setSpecificEmoji(false);\r\n        setSpecificKeyBoard(false);\r\n        setSpecificType('web_url');\r\n        setSpecificTitle('');\r\n        setSpecificValue('');\r\n        setSpecificBtns([]);\r\n    };\r\n    const handleSpecificPopover = (event) => {\r\n        setSpecificPopover(!SpecificPopover);\r\n        setSpecificTarget(event.target);\r\n    };\r\n\r\n    // Specific Update:\r\n    const [SpecificUpdateResponse, SetSpecificUpdateResponse] = useState('');\r\n    const [SpecificUpdateKeyBoard, setSpecificUpdateKeyBoard] = useState(false);\r\n    const [SpecificUpdateEmoji, setSpecificUpdateEmoji] = useState(false);\r\n    const [SpecificUpdateTags, setSpecificUpdateTags] = useState(false);\r\n    const [SpecificUpdateBtnType, setSpecificUpdateType] = useState('web_url');\r\n    const [SpecificUpdateBtnTitle, setSpecificUpdateTitle] = useState('');\r\n    const [SpecificUpdateBtnValue, setSpecificUpdateValue] = useState('');\r\n    const [SpecificUpdateBtns, setSpecificUpdateBtns] = useState([]);\r\n    const [SpecificUpdatePopover, setSpecificUpdatePopover] = useState(false);\r\n    const [SpecificUpdateTarget, setSpecificUpdateTarget] = useState(null);\r\n    const SpecificUpdateRef = useRef(null);\r\n    const resetUpdateSpecific = () => {\r\n        setSpecificUpdatePopover(false);\r\n        setSpecificUpdateTarget(null);\r\n        SetSpecificUpdateResponse('');\r\n        setSpecificUpdateKeyBoard(false);\r\n        setSpecificUpdateEmoji(false);\r\n        setSpecificUpdateTags(false);\r\n        setSpecificUpdateType('web_url');\r\n        setSpecificUpdateTitle('');\r\n        setSpecificUpdateValue('');\r\n        setSpecificUpdateBtns([]);\r\n        setSpecificBtnColor(false);\r\n    };\r\n    const handleSpecificUpdatePopover = (event,product) => {\r\n        // console.log(\"Product to update =>\", product);\r\n        setProductUpdateName(product.product);\r\n        SetSpecificUpdateResponse(product.preAnswer);\r\n        setSpecificUpdateBtns(product.buttons);\r\n        setSpecificUpdatePopover(!SpecificUpdatePopover);\r\n        setSpecificUpdateTarget(event.target);\r\n    };\r\n\r\n    // Products\r\n    const [productName, setProductName] = useState('');\r\n    const [productUpdateName, setProductUpdateName] = useState('');\r\n    const [savedProductToSend, setSavedProductToSend] = useState('');\r\n    const [products, setProducts] = useState([]);\r\n\r\n    // Categories\r\n    const [newCategory, setNewCategory] = useState('');\r\n    const [categorySelected, setCategorySelected] = useState('');\r\n    const [allCategories, setAllCategories] = useState([]);\r\n    const [CategorieModal, setCategorieModal] = useState(false);\r\n    const [showModalInput, setShowModalInput] = useState(false);\r\n    const handleCategoriesModal = () => {\r\n        setSpecificPopover(false);\r\n        setCategorieModal(!CategorieModal);\r\n    };\r\n    // other:\r\n    const [saveUpdateLoading,setSaveUpdateLoading] = useState(false);\r\n    const [intentState, setIntentState] = useState('save');\r\n    const [genericBtnColor, setGenericBtnColor] = useState(false);\r\n    const [specificBtnColor, setSpecificBtnColor] = useState(false);\r\n    const [updateModal, handleUpdateModal] = useState(false);\r\n    const [isOpen, setIsOpen] = useState(intentStatus === \"old\" ? false : true);\r\n\r\n    // Categories & Products functions :\r\n    const addNewProduct = (idProjet) => {\r\n        \r\n        // First update api : entity === categorie :\r\n        let productToSend = {\r\n            idPage: props.wizardSelectedPage.id,\r\n            typePage : props.wizardSelectedPage.platform,\r\n            entity: productName,\r\n            intent: props.intent.name,\r\n            genericAnswer: GenericResponse,\r\n            specificAnswer: SpecificResponse,\r\n            categorie: productName,\r\n            buttons: SpecificBtns,\r\n        };\r\n\r\n        if(productName === \"\") {\r\n            swalWithBootstrapButtons.fire({\r\n                title: trans[lang].wizardIntentDetails.prodNameEmpty,\r\n                confirmButtonText: trans[lang].wizardIntentDetails.retry,\r\n            });\r\n\r\n        } else if(SpecificResponse === \"\") {\r\n            swalWithBootstrapButtons.fire({\r\n                title: trans[lang].wizardIntentDetails.specificRepEmpty,\r\n                confirmButtonText: trans[lang].wizardIntentDetails.retry,\r\n            });\r\n\r\n        } else {\r\n\r\n            axios.put(`${host}/api/v1/secure/project/firstupdate/${idProjet}`, productToSend, {\r\n                headers: {\r\n                    'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n                }\r\n            })\r\n            .then( res => {\r\n                console.log('first update response =>', res.data.data);\r\n    \r\n                if (res.data.data === \"not exist\") {\r\n                    // Call the categories api :\r\n                    axios.get(`${host}/api/v1/secure/project/get/entitiesproject/${props.wizardSelectedPage.platform}/${props.wizardSelectedPage.id}`)\r\n                    .then((res) => {\r\n                        console.log(\"get categories for modal /get/entitiesproject =>\", res.data.data);\r\n                        \r\n                        // Eliminate default categories:\r\n                        let categories = res.data.data;\r\n    \r\n                        if(categories.length > 0) {\r\n                            categories.map((cat,index) => \r\n                                cat.default === true && categories.splice(index,1)\r\n                            );\r\n                            // console.log(\"Result after filtring the cats\", categories);\r\n                        };\r\n                        setAllCategories(categories);\r\n                        setSpecificPopover(!SpecificPopover);\r\n                        setSavedProductToSend(productToSend);\r\n                        setCategorieModal(true);\r\n                        \r\n                        // ==> Update the products array from addNewProductViaModal() <==\r\n                    })\r\n                    .catch((err) => console.log(\"addNewProduct WizardIntentDetails =>\", err))\r\n                } else if(res.data.data === \"exist\") {\r\n                    swalWithBootstrapButtons.fire({\r\n                        title: trans[lang].wizardIntentDetails.productExists,\r\n                        confirmButtonText: trans[lang].wizardIntentDetails.retry,\r\n                    });\r\n                } else {\r\n                    // Update the products array :\r\n                    let newSelectedIntents = [...selectedIntents];\r\n    \r\n                    newSelectedIntents.map((intent,index) => {\r\n                        if(index === props.indexOfIntent)  {\r\n                            // intent.products = res.data.data.intents[indexOfIntent].answer\r\n                            setProducts([]);\r\n                            setProducts(res.data.data.intents[indexOfIntent].answer);\r\n                        };\r\n                    });\r\n                    setIntents(newSelectedIntents);\r\n                    \r\n                    // Reset\r\n                    setSpecificPopover(!SpecificPopover);\r\n                    resetSpecific();\r\n                };\r\n            })\r\n            .catch( err => console.log(\"Wizard Intent Detail addNewProduct fct first Update API err ===>\", err))\r\n        } \r\n\r\n    };\r\n\r\n    const addNewProductViaModal = (idProjet) => {\r\n        // Send the update with the new category name :) :\r\n        let productToSend = savedProductToSend;\r\n        productToSend.categorie = categorySelected;\r\n    \r\n        // console.log(\"sendinnng product =>\",productToSend);\r\n        // console.log(\"Category Selected To sennnnd\", categorySelected,\" and product =>>>\", productToSend);\r\n        \r\n        return axios.put(host + `/api/v1/secure/project/update/${idProjet}`,productToSend, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('UPDATE API response =>', res.data);\r\n       \r\n            // set the products from the update api :\r\n            let newSelectedIntents = [...selectedIntents];\r\n\r\n            newSelectedIntents.map((_,index) => {\r\n                if(index === props.indexOfIntent)  {\r\n                    //intent.products = res.data.data.intents[indexOfIntent].answer\r\n                    setProducts([]);\r\n                    setProducts(res.data.data.intents[indexOfIntent].answer);\r\n                };\r\n            });\r\n            setIntents(newSelectedIntents);\r\n            \r\n            // Reset\r\n            resetSpecific();\r\n            setCategorySelected('');\r\n            setCategorieModal(false);\r\n        })\r\n        .catch((err) => console.log(\"addNewProductViaModal => api update err =>> \", err))\r\n    };\r\n\r\n    const updateProduct = (idProjet) => {\r\n       \r\n        let productToSend = {\r\n            idPage: props.wizardSelectedPage.id,\r\n            typePage : props.wizardSelectedPage.platform,\r\n            entity: productUpdateName,\r\n            intent: props.intent.name,\r\n            genericAnswer: GenericResponse,\r\n            specificAnswer: SpecificUpdateResponse,\r\n            buttons: SpecificUpdateBtns,\r\n            // categorie: productUpdateName,\r\n        };\r\n\r\n        axios.put(host + `/api/v1/secure/project/entitiesupdate/${props.wizardIdProject}`,productToSend,\r\n        {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('updateProduct API response =>', res.data);\r\n            // set the products from the update api :\r\n            let newSelectedIntents = [...selectedIntents];\r\n\r\n            newSelectedIntents.map((_,index) => {\r\n                if(index === props.indexOfIntent)  {\r\n                    setProducts([]);\r\n                    setProducts(res.data.data.intents[indexOfIntent].answer);\r\n                };\r\n            });\r\n            setIntents(newSelectedIntents);\r\n            resetUpdateSpecific();\r\n            // setSpecificUpdatePopover(false);\r\n            \r\n        })\r\n        .catch((err) => {\r\n            console.log(\"updateProduct API error =>> \", err)\r\n            swalWithBootstrapButtons.fire({\r\n                title: trans[lang].wizardIntentDetails.errorUpdatingProduct,\r\n                confirmButtonText: trans[lang].wizardIntentDetails.retry,\r\n            });\r\n        });\r\n\r\n    };\r\n\r\n    const deleteProduct = (product,index) => {\r\n        \r\n        let newProducts = [...products];\r\n        \r\n        let objectToSend = {\r\n            intent: intent.name,\r\n            answer: product._id,\r\n        };\r\n        \r\n        console.log(\"To delete That\", objectToSend);\r\n\r\n        axios.put(host + `/api/v1/secure/project/${props.wizardIdProject}/remove/entity`,objectToSend,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('deleteProduct API response =>', res.data);\r\n            newProducts.splice(index,1);\r\n            setProducts(newProducts);   \r\n        })\r\n        .catch((err) => {\r\n            console.log(\"deleteProduct api err =>> \", err)\r\n            swalWithBootstrapButtons.fire({\r\n                title: trans[lang].wizardIntentDetails.errorDeletingProduct,\r\n                confirmButtonText: trans[lang].wizardIntentDetails.retry,\r\n            });\r\n        });\r\n \r\n    };\r\n\r\n    const pushNewCategory = () => {  \r\n        \r\n        let categoryToPush = {\r\n            name : newCategory\r\n        };\r\n\r\n        setAllCategories(categories => [...categories, categoryToPush]);\r\n        setCategorySelected(categoryToPush.name);\r\n        \r\n         // Send the update with the new category name :) :\r\n         let productToSend = savedProductToSend;\r\n         productToSend.categorie = newCategory;\r\n\r\n         // console.log(\"sendinnng product =>\",productToSend);\r\n         // console.log(\"Category Selected To sennnnd\", categorySelected,\" and product =>>>\", productToSend);\r\n         \r\n         return axios.put(host + `/api/v1/secure/project/update/${props.wizardIdProject}`,productToSend, {\r\n             headers: {\r\n                 'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n             }\r\n         })\r\n         .then(res => {\r\n             console.log('pushNewCategory via Modal project/update API response =>', res.data);\r\n        \r\n            // set the products from the update api :\r\n            let newSelectedIntents = [...selectedIntents];\r\n \r\n            newSelectedIntents.map((_,index) => {\r\n                if(index === props.indexOfIntent)  {\r\n                    setProducts([]);\r\n                    setProducts(res.data.data.intents[indexOfIntent].answer);\r\n                };\r\n            });\r\n            setIntents(newSelectedIntents);\r\n             \r\n            // Reset\r\n            resetSpecific();\r\n            setCategorySelected('');\r\n            setShowModalInput(false); \r\n            setNewCategory('');\r\n            setCategorieModal(false);\r\n         })\r\n         .catch((err) => console.log(\"pushNewCategory via Modal project/update api error =>> \", err))\r\n    };\r\n\r\n    const deleteIntent = (intent,index) => {\r\n        // console.log(\"U want to delete this intent =>\", intent);\r\n        // intent: nom intent\r\n        let newIntents = [...selectedIntents];\r\n    \r\n        let objectToSend = {\r\n            intent: intent.name,\r\n        };\r\n\r\n        console.log(\"i'm gonna delete intent ya nour with =>\", objectToSend);\r\n\r\n        axios.put(host + `/api/v1/secure/project/intents/remove/${props.wizardIdProject}`, objectToSend, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('deleteIntent API response =>', res.data);\r\n            newIntents.splice(index,1);\r\n            setIntents(newIntents);   \r\n        })\r\n        .catch((err) => {\r\n            console.log(\"deleteIntent api err =>> \", err)\r\n            swalWithBootstrapButtons.fire({\r\n                title: trans[lang].wizardIntentDetails.errorDeletingIntent,\r\n                confirmButtonText: trans[lang].wizardIntentDetails.retry,\r\n            });\r\n        });\r\n\r\n        // setIntents(selectedIntents.filter( intent =>( intent !== props.intent.name )))\r\n    };\r\n\r\n    const renderUpdateModal = () => (\r\n        <Modal show={updateModal} size=\"sm\" centered>\r\n        <Modal.Body>\r\n          <Col lg={12}>\r\n            <Row>\r\n              <Col lg={12} className=\"d-flex mb-3\">\r\n                <IoIosClose color={\"#B4B4B4\"} size={30} className=\"ml-auto\" style={{cursor: 'pointer'}} onClick={() => { handleUpdateModal(false) }} />\r\n              </Col>\r\n\r\n              <Col lg={12} className=\"d-flex\">\r\n                <p className=\"mx-auto mb-3 confirm-modal-text\">\r\n                    {trans[lang].wizardIntentDetails.updateVisible}\r\n                </p>\r\n              </Col>\r\n              \r\n              <Col lg={12}>\r\n                <Row className=\"justify-content-center\">\r\n                    <div className=\"team-invite-btn text-center px-3 mr-2\" onClick={() => handleSaveGenericResponse(props.intent.name,props.wizardIdProject)}>\r\n                        <p className=\"m-auto\">{trans[lang].wizardIntentDetails.yes}</p>\r\n                    </div>\r\n                    \r\n                    <div className=\"team-invite-btn-no text-center px-3 ml-2\" onClick={() => { handleUpdateModal(false) }}>\r\n                        <p className=\"m-auto\">{trans[lang].wizardIntentDetails.no}</p>\r\n                    </div>\r\n                </Row>\r\n              </Col>\r\n\r\n            </Row>\r\n          </Col>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n     \r\n    useEffect(() => {\r\n        if(wizardExistingProjectIntents && intentStatus === \"old\") {\r\n\r\n            if(wizardExistingProjectIntents[indexOfIntent]) {\r\n                setGenericResponse(wizardExistingProjectIntents[indexOfIntent].hasOwnProperty('genericAnswer') ? wizardExistingProjectIntents[indexOfIntent].genericAnswer : \"\");\r\n                setGenericBtns(wizardExistingProjectIntents[indexOfIntent].hasOwnProperty('buttons') ? wizardExistingProjectIntents[indexOfIntent].buttons : [])\r\n                setProducts(wizardExistingProjectIntents[indexOfIntent].hasOwnProperty('answer') ? wizardExistingProjectIntents[indexOfIntent].answer : []);\r\n            }\r\n            setIntentState('update');\r\n        }\r\n        return () => {};\r\n    },[wizardExistingProjectIntents]);\r\n     \r\n    useEffect(() => {\r\n        console.log(\"Im new\", intent, intent.name_fr, lang);\r\n    },[intent]);\r\n    \r\n    return (\r\n        <Col lg={6} className=\"mb-3\" key={indexOfIntent}>\r\n            <div className=\"d-flex flex-column wizard-config-intents-container\">\r\n                \r\n                {/* Header */}\r\n                <Row>\r\n                    <Col lg={12} >\r\n                    {intent.name.toLowerCase() === \"quiz\"\r\n                    ?\r\n                    <Row \r\n                        className={isOpen ? \"justify-content-between mx-0 p-0 wizard-config-intents-top-row-quiz pl-2 pr-1\" : \"justify-content-between mx-0 p-0 wizard-config-intents-top-row-quiz-closed pl-2 pr-1\"} \r\n                        style={{background: '#B0BBD0'}} \r\n                    >\r\n                        <div className=\"d-flex\">\r\n                            {\r\n                            props.lang === \"en\"\r\n                            ?\r\n                            <p className=\"my-auto wizard-config-intent-title p-2\" style={{color: '#ffffff'}}>{intent.name}</p> \r\n                            :\r\n                            <p className=\"my-auto wizard-config-intent-title p-2\" style={{color: '#ffffff'}}>{intent.name_fr}</p> \r\n                            }\r\n                        </div>\r\n\r\n                        <div className=\"d-flex mr-1\">\r\n                            <TrashIntentWhite width={16} height={16} className=\"m-auto\" style={{cursor: 'pointer'}} onClick={ () => deleteIntent(intent,indexOfIntent)} />\r\n                            {isOpen\r\n                            ?\r\n                            <IoIosArrowUp color={\"#ffffff\"} size={17} className=\"ml-1 mt-auto mb-2\" style={{cursor: 'pointer'}} onClick={() => setIsOpen(!isOpen)} />\r\n                            :\r\n                            <IoIosArrowDown color={\"#ffffff\"} size={17} className=\"ml-1 mt-auto mb-2\" style={{cursor: 'pointer'}} onClick={() => setIsOpen(!isOpen)} />\r\n                            }\r\n                        </div>\r\n                    </Row>\r\n                    :\r\n                    <Row \r\n                        className={isOpen ? \"justify-content-between mx-0 p-0 wizard-config-intents-top-row pl-2 pr-1\" : \"justify-content-between mx-0 p-0 wizard-config-intents-top-row-closed pl-2 pr-1\"}\r\n                        style={{\r\n                            background:  \r\n                                Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 != 0 ?\r\n                                '#E4E6EB' : \r\n                                Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 == 0 ?  \r\n                                '#E5007D' :\r\n                                Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 != 0 ?\r\n                                '#E5007D' : \r\n                                Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 == 0 && \r\n                                '#E4E6EB' \r\n                        }}\r\n                    >\r\n                        <div className=\"d-flex\">\r\n                            {\r\n                            props.lang === \"en\"\r\n                            ?\r\n                            <p \r\n                                className=\"my-auto wizard-config-intent-title p-2\" \r\n                                style={{ \r\n                                    color: \r\n                                        Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 != 0 ?\r\n                                        '#818E94' : \r\n                                        Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 == 0 ?  \r\n                                        '#ffffff' :\r\n                                        Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 != 0 ?\r\n                                        '#ffffff' : \r\n                                        Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 == 0 && \r\n                                        '#818E94' \r\n                                }}\r\n                            >\r\n                            {intent.name}\r\n                            </p> \r\n                            :\r\n                            <p \r\n                                className=\"my-auto wizard-config-intent-title p-2\" \r\n                                style={{ \r\n                                    color: \r\n                                        Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 != 0 ?\r\n                                        '#818E94' : \r\n                                        Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 == 0 ?  \r\n                                        '#ffffff' :\r\n                                        Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 != 0 ?\r\n                                        '#ffffff' : \r\n                                        Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 == 0 && \r\n                                        '#818E94' \r\n                                }}\r\n                            >\r\n                            {intent.name_fr}\r\n                            </p> \r\n                            }\r\n                        </div>\r\n\r\n                        <div className=\"d-flex mr-1\">\r\n                            {                                \r\n                            Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 != 0 \r\n                            ?\r\n                            <TrashIntent  width={16} height={16} className=\"m-auto\" style={{cursor: 'pointer'}} onClick={ () => deleteIntent(intent,indexOfIntent)} />\r\n                            : \r\n                            Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 == 0 \r\n                            ?  \r\n                            <TrashIntentWhite width={16} height={16} className=\"m-auto\" style={{cursor: 'pointer'}} onClick={ () => deleteIntent(intent,indexOfIntent)} />\r\n                            :\r\n                            Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 != 0 \r\n                            ?\r\n                            <TrashIntentWhite width={16} height={16} className=\"m-auto\" style={{cursor: 'pointer'}} onClick={ () => deleteIntent(intent,indexOfIntent)} />\r\n                            : \r\n                            Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 == 0 \r\n                            && \r\n                            <TrashIntent  width={16} height={16} className=\"m-auto\" style={{cursor: 'pointer'}} onClick={ () => deleteIntent(intent,indexOfIntent)} />\r\n                            }\r\n                            {isOpen\r\n                            ?\r\n                            <IoIosArrowUp \r\n                                color={\r\n                                    Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 != 0 \r\n                                    ?\r\n                                    '#818E94' : \r\n                                    Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 == 0 \r\n                                    ?  \r\n                                    '#ffffff' :\r\n                                    Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 != 0 \r\n                                    ?\r\n                                    '#ffffff' : \r\n                                    Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 == 0 \r\n                                    && \r\n                                    '#818E94' \r\n                                } \r\n                                size={17} className=\"ml-1 mt-auto mb-2\" style={{ cursor: 'pointer' }} onClick={() => setIsOpen(!isOpen)} \r\n                            />\r\n                            :\r\n                            <IoIosArrowDown \r\n                                color={\r\n                                    Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 != 0 \r\n                                    ?\r\n                                    '#818E94' : \r\n                                    Math.ceil(((indexOfIntent+1)/2)) % 2 != 0 && (indexOfIntent+1) % 2 == 0 \r\n                                    ?  \r\n                                    '#ffffff' :\r\n                                    Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 != 0 \r\n                                    ?\r\n                                    '#818E94' : \r\n                                    Math.ceil(((indexOfIntent+1)/2)) % 2 == 0 && (indexOfIntent+1) % 2 == 0 \r\n                                    && \r\n                                    '#ffffff' \r\n                                } \r\n                                size={17} className=\"ml-1 mt-auto mb-2\" style={{cursor: 'pointer'}} onClick={() => setIsOpen(!isOpen)} \r\n                            />\r\n                            }\r\n                        </div>\r\n                    </Row>\r\n                    }\r\n                    </Col>\r\n                </Row>\r\n\r\n                {isOpen \r\n                &&\r\n                <div>\r\n                    <div className=\"mb-2\">\r\n                    <WizardMiracleInput  \r\n                        lang={lang}\r\n                        label={trans[lang].wizardIntentDetails.genericResp}\r\n                        response={GenericResponse} handleResponse={setGenericResponse}\r\n                        showTags={GenericTags} handleTags={setGenericTags}\r\n                        showEmojis={GenericEmojis} handleEmojis={setGenericEmojis}\r\n                        showKeyboard={GenericKeyboard} handleKeyboard={setGenericKeyboard}\r\n                        BtnType={GenericBtnType} handleBtnType={setGenericBtnType}\r\n                        BtnTitle={GenericBtnTitle} handleBtnTitle={setGenericBtnTitle}\r\n                        BtnValue={GenericBtnValue} handleBtnValue={setGenericBtnValue}\r\n                        Btns={GenericBtns} handleBtns={setGenericBtns}\r\n                        platform={props.wizardSelectedPage.platform} reset={resetGeneric}\r\n                        changeBtnColor={setGenericBtnColor} \r\n                    />\r\n                    </div>\r\n\r\n                    <div className=\"px-2 mx-2\" >\r\n                        {/* Save Update Button */}\r\n                        <div  className=\"d-flex\" >\r\n                            <p className=\"ml-auto remaining-text mb-1 mt-1\" >{trans[lang].wizardIntentDetails.remainingChars}{ 640 - GenericResponse.length}</p>\r\n                        </div>\r\n\r\n                        <div className=\"d-flex\">\r\n                            {\r\n                                intentState === 'save' \r\n                                ?\r\n                                (\r\n                                !saveUpdateLoading \r\n                                ?\r\n                                <div onClick={() => handleSaveGenericResponse(props.intent.name,props.wizardIdProject)} className=\"ml-auto mb-2 wizard-config-update-btn\">\r\n                                    {trans[lang].wizardIntentDetails.save}\r\n                                </div>\r\n                                :\r\n                                <div className=\"d-flex ml-auto  mb-2 py-2 px-4 wizard-config-update-btn\">\r\n                                    <Spinner animation=\"grow\" size=\"sm\" variant=\"light\" className=\"m-auto\" />\r\n                                </div>\r\n                                )\r\n                                :\r\n                                (\r\n                                !saveUpdateLoading \r\n                                ?\r\n                                <div onClick={() => handleUpdateModal(!updateModal)} className={genericBtnColor ? \"ml-auto  mb-2  wizard-config-update-btn-active\" : \"ml-auto  mb-2  wizard-config-update-btn\"}>\r\n                                   {trans[lang].wizardIntentDetails.update}\r\n                                </div>\r\n                                :\r\n                                <div className={genericBtnColor ? \"d-flex ml-auto  mb-2 py-2 px-4 wizard-config-update-btn-active\" : \"d-flex ml-auto  mb-2 py-2 px-4 wizard-config-update-btn\"}>\r\n                                    <Spinner animation=\"grow\" size=\"sm\" variant=\"light\" className=\"m-auto\" />\r\n                                </div>\r\n                                )\r\n                            }\r\n                            {/* CONFIRMATION UPDATE RESPONSE */}\r\n                            {updateModal && renderUpdateModal()}\r\n                        </div>\r\n\r\n                        {/* ADD PRODUCTS DISABLED BEFORE SAVING A GENERIC RESPONSE JUST STATIC  */}\r\n                        {intentState === \"save\" &&\r\n                        <Col lg={12} className=\"mx-auto mt-1\">\r\n                            <Row>\r\n                                <Col lg={5} className=\"d-flex wizard-config-add-product-box mb-3 py-1 px-0\" style={{cursor: 'not-allowed', borderColor: '#B4B4B4'}}>\r\n                                    <div className=\"m-auto d-flex justify-content-around\" >\r\n                                        <MdAddCircleOutline className=\"m-auto\" color={\"#B4B4B4\"} size={18} />\r\n                                        <p className=\"wizard-config-add-product-name my-auto ml-3\" style={{fontFamily: 'Poppins SemiBold',fontSize: '13px', color: '#B4B4B4'}}>{trans[lang].wizardIntentDetails.addProduct}</p>\r\n                                    </div>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                        }\r\n\r\n                        \r\n                        \r\n                        {/* PRODUCTS */}\r\n                        {intentState === 'update' &&\r\n                        <Col lg={12} className=\"mx-auto mt-1\">\r\n                            <Row className=\"justify-content-between\">\r\n                                {products.length > 0 && products.map((product,index) => \r\n                                    product.product.length > 0 \r\n                                    &&\r\n                                    <Col key={index} lg={5}  className={product.default ? \"d-flex flex-row mb-3 py-1  wizard-config-product-box-exist\" : \"d-flex flex-row mb-3 py-1  wizard-config-product-box \"} style={{cursor: 'pointer'}}>\r\n                                        {\r\n                                            product.product.length > 11\r\n                                            ?\r\n                                            <p onClick={(e) => handleSpecificUpdatePopover(e,product)} data-for='entityTip' data-tip={product.product} className={product.default ? \"m-auto wizard-config-product-name-exist\" : \"m-auto wizard-config-product-name\"}>\r\n                                                {product.product.substring(0,9)}...\r\n                                            </p>\r\n                                            :\r\n                                            <p onClick={(e) => handleSpecificUpdatePopover(e,product)} className={product.default ? \"m-auto wizard-config-product-name-exist\" : \"m-auto wizard-config-product-name\"}>\r\n                                                {product.product}\r\n                                            </p>\r\n                                        }\r\n                                        <AiOutlineCloseCircle className=\"my-auto ml-1\" color={product.default ? \"#fff\" : \"#F49BCC\"} size={\"20\"} style={{cursor: 'pointer'}} onClick={() => deleteProduct(product,index)} />\r\n                                        <ReactTooltip id='entityTip' textColor='#fff' backgroundColor='#E5007D' />\r\n                                    </Col> \r\n                                    )\r\n                                } \r\n        \r\n                                <Col lg={5} onClick={handleSpecificPopover} className=\"d-flex wizard-config-add-product-box mb-3 py-1 px-0\" style={{cursor: 'pointer'}}>\r\n                                    <div className=\" m-auto  d-flex justify-content-around\" >\r\n                                        {/* <MdAddCircleOutline className=\"m-auto\" color={\"#E5007D\"} size={18} /> */}\r\n                                        <MdAddCircleOutline className=\"m-auto\" color={\"#4080FC\"} size={18} />\r\n                                        <p className=\"wizard-config-add-product-name my-auto ml-3\" style={{fontFamily: 'Poppins SemiBold',fontSize: '13px'}} >{trans[lang].wizardIntentDetails.addProduct}</p>\r\n                                    </div>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                        }\r\n                    </div>\r\n                \r\n                </div>\r\n                }\r\n            \r\n            </div>\r\n             \r\n            {/* Specific Response Popover */}\r\n            <div ref={SpecificRef} >\r\n                <Overlay\r\n                    show={SpecificPopover}\r\n                    target={SpecificTarget}\r\n                    container={SpecificRef.current}\r\n                    placement={indexOfIntent % 2 !== 0 ? \"left\" : \"right\"}\r\n                > \r\n                    <Popover id=\"popover-specific\"  > \r\n                    <Popover.Content  className=\"p-0\" >\r\n                            <div className=\"d-flex\">\r\n                                <IoIosClose className=\"ml-auto\" color={'#9F9F9F'} size={'25'} onClick={handleSpecificPopover} style={{cursor: 'pointer'}} />\r\n                            </div>\r\n                          \r\n                            <div className=\"mx-2 px-2\">\r\n                                <label className=\"wizard-config-textarea-label\">{trans[lang].wizardIntentDetails.productName}</label>\r\n                                <input onChange={(e) => setProductName(e.target.value)} value={productName} className=\"wizard-config-product-input\" />\r\n                            </div>\r\n\r\n                            <div className=\"mb-2\">\r\n                                <WizardMiracleInput  \r\n                                    lang={lang}\r\n                                    label={trans[lang].wizardIntentDetails.specificResp}\r\n                                    response={SpecificResponse} handleResponse={SetSpecificResponse}\r\n                                    showTags={SpecificTags} handleTags={setSpecificTags}\r\n                                    showEmojis={SpecificEmoji} handleEmojis={setSpecificEmoji}\r\n                                    showKeyboard={SpecificKeyBoard} handleKeyboard={setSpecificKeyBoard}\r\n                                    BtnType={SpecificBtnType} handleBtnType={setSpecificType}\r\n                                    BtnTitle={SpecificBtnTitle} handleBtnTitle={setSpecificTitle}\r\n                                    BtnValue={SpecificBtnValue} handleBtnValue={setSpecificValue}\r\n                                    Btns={SpecificBtns} handleBtns={setSpecificBtns}\r\n                                    platform={props.wizardSelectedPage.platform} reset={resetSpecific}\r\n                                    changeBtnColor={null}\r\n                                />\r\n                            </div>\r\n                            <div  className=\"d-flex mx-2\" >\r\n                                <p className=\"ml-auto mr-2 remaining-text mb-1 mt-1\" >{trans[lang].wizardIntentDetails.remainingChars}{ 640 - SpecificResponse.length}</p>\r\n                            </div>\r\n\r\n                            <div className=\"mr-2 px-2  d-flex\">\r\n                                <div className=\"ml-auto mb-2  wizard-config-update-btn\" onClick={() => addNewProduct(props.wizardIdProject)}>{trans[lang].wizardIntentDetails.add}</div>\r\n                            </div>\r\n                        </Popover.Content>\r\n                    </Popover>\r\n                </Overlay>\r\n            </div>\r\n            \r\n            {/* Specific Response Update Popover */}\r\n            <div ref={SpecificUpdateRef} >\r\n                <Overlay\r\n                    show={SpecificUpdatePopover}\r\n                    target={SpecificUpdateTarget}\r\n                    container={SpecificUpdateRef.current}\r\n                    placement={indexOfIntent % 2 !== 0 ? \"left\" : \"right\"}\r\n                >\r\n                    <Popover id=\"popover-specific\"   > \r\n                        <Popover.Content  className=\"p-0\">\r\n                            <div className=\"d-flex\">\r\n                                <IoIosClose className=\"ml-auto\" color={'#9F9F9F'} size={'25'} onClick={resetUpdateSpecific} style={{cursor: 'pointer'}} />\r\n                            </div>\r\n\r\n                            <div className=\"mx-2 px-2\">\r\n                                <label className=\"wizard-config-textarea-label\">{trans[lang].wizardIntentDetails.productName}</label>\r\n                                <input onChange={(e) => setProductUpdateName(e.target.value)} value={productUpdateName} disabled={true} style={{cursor: 'not-allowed'}} className=\"wizard-config-product-input\" />\r\n                            </div>\r\n\r\n                            <div className=\"mb-2\">\r\n                                <WizardMiracleInput  \r\n                                    lang={lang}\r\n                                    label={trans[lang].wizardIntentDetails.updateSpecificResp}\r\n                                    response={SpecificUpdateResponse} handleResponse={SetSpecificUpdateResponse}\r\n                                    showTags={SpecificUpdateKeyBoard} handleTags={setSpecificUpdateKeyBoard}\r\n                                    showEmojis={SpecificUpdateEmoji} handleEmojis={setSpecificUpdateEmoji}\r\n                                    showKeyboard={SpecificUpdateTags} handleKeyboard={setSpecificUpdateTags}\r\n                                    BtnType={SpecificUpdateBtnType} handleBtnType={setSpecificUpdateType}\r\n                                    BtnTitle={SpecificUpdateBtnTitle} handleBtnTitle={setSpecificUpdateTitle}\r\n                                    BtnValue={SpecificUpdateBtnValue} handleBtnValue={setSpecificUpdateValue}\r\n                                    Btns={SpecificUpdateBtns} handleBtns={setSpecificUpdateBtns}\r\n                                    platform={props.wizardSelectedPage.platform} reset={resetUpdateSpecific}\r\n                                    changeBtnColor={setSpecificBtnColor}\r\n                                />\r\n                            </div>\r\n                            <div  className=\"d-flex mx-2\" >\r\n                                <p className=\"ml-auto mr-2 remaining-text mb-1 mt-1\" >{trans[lang].wizardIntentDetails.remainingChars}{ 640 - SpecificResponse.length}</p>\r\n                            </div>\r\n                            <div className=\"mr-2 px-2 d-flex\">\r\n                                <div className={specificBtnColor ? \"ml-auto mb-2  wizard-config-update-btn-active\" : \"ml-auto mb-2  wizard-config-update-btn\"} onClick={() => updateProduct(props.wizardIdProject)}>{trans[lang].wizardIntentDetails.update}</div>\r\n                            </div>\r\n                        </Popover.Content>\r\n                    </Popover>\r\n                </Overlay>\r\n            </div>\r\n\r\n            {/* Categories Modal */}\r\n            <Modal show={CategorieModal} onHide={handleCategoriesModal} centered>\r\n                <Modal.Body>          \r\n                    <Row className=\"d-flex mb-3\">\r\n                        <IoIosClose className=\"ml-auto mr-3\" color={'#9F9F9F'} size={'28'} onClick={handleCategoriesModal} style={{cursor: 'pointer'}} />\r\n                    </Row>\r\n\r\n                    <Row className=\"d-flex mb-3\">\r\n                        <p className=\"m-auto wizard-config-intent-title\">{trans[lang].wizardIntentDetails.specifyCategory}</p>\r\n                    </Row>\r\n\r\n                    <Row className=\"mb-3\">\r\n                        <Col lg={1} />\r\n\r\n                        <Col lg={10} className=\"d-flex justify-content-between p-0 mx-0\">\r\n                            <Col lg={8} className=\"d-flex\">\r\n                                {showModalInput && \r\n                                    <input \r\n                                        type=\"text\" \r\n                                        className=\"mr-auto w-100 my-auto add-new-category-input-container\" \r\n                                        onChange={(e) => setNewCategory(e.target.value)}\r\n                                        value={newCategory}\r\n                                    />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={4} className=\"d-flex\">\r\n                                {!showModalInput\r\n                                &&\r\n                                <p className=\"ml-auto my-auto wizard-config-intent-name\" style={{cursor: 'pointer'}} onClick={() => setShowModalInput(true)}>\r\n                                    {trans[lang].wizardIntentDetails.createNew}\r\n                                </p>\r\n                                }\r\n                            </Col>\r\n                        </Col>\r\n\r\n                        <Col lg={1} />\r\n                    </Row>\r\n\r\n                    <Row>\r\n                        <Col lg={1} />\r\n\r\n                        <Col lg={10}>\r\n                            <Form.Group className=\"d-flex w-100\">\r\n                                <Form.Control \r\n                                    className=\"wizard-config-intent-title\" \r\n                                    as=\"select\" \r\n                                    disabled={showModalInput || allCategories.length === 0} \r\n                                    onChange={(e) => setCategorySelected(e.target.value)}\r\n                                    value={categorySelected} \r\n                                    custom\r\n                                >\r\n                                    <option className=\"wizard-config-intent-title\">{trans[lang].wizardIntentDetails.chooseCategory}</option>\r\n                                    {allCategories.length > 0 \r\n                                    && \r\n                                    allCategories.map((category,index) => \r\n                                        <option key={index} className=\"wizard-config-intent-title\" value={category.name}>{category.name}</option>\r\n                                    )}\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                        </Col>\r\n\r\n                        <Col lg={1} /> \r\n                    </Row>\r\n                    \r\n                    <Row className=\"mb-3\">\r\n                        {showModalInput\r\n                        ?\r\n                        <div \r\n                            className=\"m-auto mb-2 py-3 px-4 wizard-config-update-btn\" \r\n                            style={{backgroundColor: '#009EE3', cursor:'pointer' }} \r\n                            onClick={() => pushNewCategory()}\r\n                        >\r\n                        {trans[lang].wizardIntentDetails.create}\r\n                        </div>\r\n                        :\r\n                        <div \r\n                        className=\"m-auto mb-2 py-3 px-4 wizard-config-update-btn\" \r\n                        style={{backgroundColor: allCategories.length > 0 && categorySelected ? '#009EE3' : '#707070', cursor: allCategories.length > 0 && categorySelected ? 'pointer' : 'not-allowed', }} \r\n                        onClick={() => allCategories.length > 0 && categorySelected ? addNewProductViaModal(props.wizardIdProject) : null}\r\n                        >\r\n                        {trans[lang].wizardIntentDetails.add}\r\n                        </div>\r\n                        }\r\n                    </Row>\r\n                </Modal.Body>\r\n            </Modal>\r\n            \r\n        </Col>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    lang: state.socialMediaR.lang,\r\n    wizardIdProject: state.wizardR.wizardIdProject,\r\n    wizardIntentType: state.wizardR.wizardIntentType,\r\n    wizardSelectedPage: state.wizardR.wizardSelectedPage,\r\n    wizardSelectedPost: state.wizardR.wizardSelectedPost,\r\n    wizardExistingProjectIntents: state.wizardR.wizardExistingProjectIntents,\r\n})\r\n\r\nexport default connect(mapStateToProps, { addGenericResponse, updateGenericResponse })(WizardIntentDetails)"]},"metadata":{},"sourceType":"module"}