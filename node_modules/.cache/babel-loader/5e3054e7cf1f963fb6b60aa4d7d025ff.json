{"ast":null,"code":"var _jsxFileName = \"/usr/work/smart_front_oussema/src/app/Home/AutoWizard/WizardPages.js\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { nextWizardStep, resetWizardStep, setWizardSelectedPage } from '../../../redux/actions/wizardActions';\nimport { getFbData, getInstaData } from '../../../redux/actions/socialMediaActions';\nimport WizardRadioBtn from './WizardRadioBtn';\nimport Lottie from 'react-lottie';\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\nimport { Row, Col, Image } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport animationData from '../../../assets/json/loading.json';\nimport spinnerWhite from '../../../assets/json/spinner-white.json'; // const PROFILE_PHOTO = require('../../../assets/images/home/profile-photo.png');\n\nconst INSTA_ICON = require('../../../assets/images/home/insta-icon.png');\n\nconst FB_ICON = require('../../../assets/images/home/fb-icon.png');\n\nfunction WizardPages(props) {\n  const [selectedPage, setSelectedPage] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [btnLoading, setBtnLoading] = useState(true);\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice'\n    }\n  };\n  const spinnerWhiteOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: spinnerWhite,\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice'\n    }\n  };\n  useEffect(() => {\n    // Getting insta & fb DATA :\n    if (props.fbData === null || props.instaData === null) {\n      props.getInstaData();\n      props.getFbData();\n    }\n\n    ;\n    setTimeout(() => {\n      setLoading(false);\n    }, 2000);\n  }, []);\n\n  const renderPage = (platform, pageName, picture, idPage, accessToken) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-between mb-4\",\n    onClick: () => {\n      setSelectedPage(idPage);\n      props.setWizardSelectedPage(platform, pageName, picture, idPage, accessToken);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, picture !== null ? /*#__PURE__*/React.createElement(Image, {\n    src: picture,\n    className: \"m-auto\",\n    style: {\n      maxWidth: '40px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(Image, {\n    src: `https://graph.facebook.com/v8.0/${idPage}/picture?access_token=${accessToken}`,\n    className: \"m-auto\",\n    style: {\n      maxWidth: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Image, {\n    src: platform === \"insta\" ? INSTA_ICON : FB_ICON,\n    className: \"ml-auto\",\n    style: {\n      zIndex: 1,\n      marginTop: '-10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-auto ml-3 wizard-pages-page-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, pageName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(WizardRadioBtn, {\n    checked: selectedPage === idPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }));\n\n  const checkNextStep = () => {\n    if (selectedPage !== null) {\n      setBtnLoading(true);\n      setTimeout(() => {\n        props.nextWizardStep();\n        setBtnLoading(false);\n      }, 2000);\n    } else {\n      const swalWithBootstrapButtons = Swal.mixin({\n        customClass: {\n          confirmButton: 'wizard-pages-active-btn' //   cancelButton: 'btn btn-danger'\n\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: 'Please select a page',\n        confirmButtonText: 'Okay' // text: \"Please select a page\",\n        // icon: 'warning',\n        // showCancelButton: true,\n        // cancelButtonText: 'No, cancel!',\n        // reverseButtons: true\n\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-column wizard-pages-container\",\n    style: {\n      backgroundColor: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex mt-4 ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-auto wizard-pages-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, \"Select a page to moderate.\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-3 mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"wizard-pages-filter-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wizard-pages-filter-btn-active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  }, \"All pages (5)\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wizard-pages-filter-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }\n  }, \"Facebook\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wizard-pages-filter-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, \"Instagram\"))), /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }\n  })), !loading ? /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-5 mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    className: \"pl-5 pr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }, props.fbData !== null && Object.keys(props.fbData).map((key, index) => props.fbData[key].map((page, index) => renderPage(\"fb\", page.name, null, page.idPage, page.access_token))), props.instaData !== null && Object.keys(props.instaData).map((key, index) => props.instaData[key].map((page, index) => renderPage(\"insta\", page.name, page.imageUrl, page.idPage, page.access_token)))), /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 25\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Lottie, {\n    options: defaultOptions,\n    width: 200\n    /*height={400}*/\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex justify-content-between pl-4 pr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wizard-pages-inactive-btn mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/home/pages\",\n    style: {\n      textDecoration: 'none',\n      color: '#818E94'\n    },\n    onClick: () => props.resetWizardStep(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, \"Back\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wizard-pages-inactive-btn mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 25\n    }\n  }, \"Save Draft\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wizard-pages-active-btn\",\n    onClick: () => checkNextStep(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 25\n    }\n  }, btnLoading ? /*#__PURE__*/React.createElement(Lottie, {\n    options: spinnerWhiteOptions,\n    width: 90\n    /*height={400}*/\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 38\n    }\n  }) : \"Next\"))))), /*#__PURE__*/React.createElement(Col, {\n    lg: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }\n  })));\n}\n\nconst mapStateToProps = state => {\n  return {\n    wizardStep: state.wizardR.wizardStep,\n    fbData: state.socialMediaR.fbData,\n    instaData: state.socialMediaR.instaData\n  };\n};\n\nexport default connect(mapStateToProps, {\n  nextWizardStep,\n  resetWizardStep,\n  getFbData,\n  getInstaData,\n  setWizardSelectedPage\n})(WizardPages);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/AutoWizard/WizardPages.js"],"names":["React","useEffect","useState","connect","nextWizardStep","resetWizardStep","setWizardSelectedPage","getFbData","getInstaData","WizardRadioBtn","Lottie","Swal","Row","Col","Image","Link","animationData","spinnerWhite","INSTA_ICON","require","FB_ICON","WizardPages","props","selectedPage","setSelectedPage","loading","setLoading","btnLoading","setBtnLoading","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","spinnerWhiteOptions","fbData","instaData","setTimeout","renderPage","platform","pageName","picture","idPage","accessToken","maxWidth","zIndex","marginTop","checkNextStep","swalWithBootstrapButtons","mixin","customClass","confirmButton","buttonsStyling","fire","title","confirmButtonText","backgroundColor","Object","keys","map","key","index","page","name","access_token","imageUrl","width","textDecoration","color","mapStateToProps","state","wizardStep","wizardR","socialMediaR"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport { connect } from 'react-redux';\r\nimport { nextWizardStep,resetWizardStep, setWizardSelectedPage } from '../../../redux/actions/wizardActions';\r\nimport { getFbData, getInstaData } from '../../../redux/actions/socialMediaActions';\r\n\r\nimport WizardRadioBtn from './WizardRadioBtn';\r\nimport Lottie from 'react-lottie';\r\n\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\nimport {\r\n    Row,\r\n    Col,\r\n    Image\r\n} from 'react-bootstrap';\r\n\r\nimport {\r\n    Link\r\n} from 'react-router-dom';\r\n\r\nimport animationData from '../../../assets/json/loading.json';\r\nimport spinnerWhite from '../../../assets/json/spinner-white.json';\r\n\r\n// const PROFILE_PHOTO = require('../../../assets/images/home/profile-photo.png');\r\nconst INSTA_ICON = require('../../../assets/images/home/insta-icon.png');\r\nconst FB_ICON = require('../../../assets/images/home/fb-icon.png');\r\n\r\nfunction WizardPages(props) {\r\n\r\n    const [selectedPage, setSelectedPage] = useState(null);\r\n  \r\n    const [loading, setLoading] = useState(true);\r\n    const [btnLoading, setBtnLoading] = useState(true);\r\n   \r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: animationData,\r\n        rendererSettings: {\r\n          preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n    \r\n    const spinnerWhiteOptions = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: spinnerWhite,\r\n        rendererSettings: {\r\n          preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Getting insta & fb DATA :\r\n        if(props.fbData === null || props.instaData === null) {\r\n            props.getInstaData();\r\n            props.getFbData();\r\n        };\r\n        setTimeout(() => {\r\n            setLoading(false);\r\n        },2000);\r\n    },[]);\r\n\r\n    const renderPage = (platform,pageName,picture,idPage,accessToken) => (\r\n        <>\r\n            <Row className=\"justify-content-between mb-4\" onClick={() => { setSelectedPage(idPage); props.setWizardSelectedPage(platform,pageName,picture,idPage,accessToken) }}>\r\n                <Row className=\"d-flex\">\r\n                    <div className=\"d-flex flex-column\">\r\n                        {\r\n                        picture !== null \r\n                        ?\r\n                            <Image src={picture} className=\"m-auto\" style={{maxWidth: '40px'}} />\r\n                        :\r\n                            <Image src={`https://graph.facebook.com/v8.0/${idPage}/picture?access_token=${accessToken}`} className=\"m-auto\" style={{maxWidth: '50px'}} />\r\n                        }\r\n                        <Image src={platform === \"insta\" ? INSTA_ICON : FB_ICON} className=\"ml-auto\" style={{zIndex: 1, marginTop: '-10px'}}/>\r\n                    </div>\r\n\r\n                    <p className=\"my-auto ml-3 wizard-pages-page-title\">{pageName}</p>\r\n                </Row>\r\n\r\n                <div className=\"d-flex\">\r\n                    {/* <input type=\"checkbox\" className=\"m-auto\" /> */}\r\n                    <WizardRadioBtn checked={selectedPage === idPage} />\r\n                </div>\r\n            </Row>\r\n\r\n            <hr />\r\n        </>\r\n    );\r\n\r\n    const checkNextStep = () => {\r\n        if(selectedPage !== null) {\r\n            setBtnLoading(true);\r\n\r\n            setTimeout(() => {\r\n                props.nextWizardStep();\r\n                setBtnLoading(false);\r\n            },2000);\r\n        } else {\r\n            const swalWithBootstrapButtons = Swal.mixin({\r\n                customClass: {\r\n                  confirmButton: 'wizard-pages-active-btn',\r\n                //   cancelButton: 'btn btn-danger'\r\n                },\r\n                buttonsStyling: false\r\n              })\r\n              \r\n              swalWithBootstrapButtons.fire({\r\n                title: 'Please select a page',\r\n                confirmButtonText: 'Okay',\r\n                // text: \"Please select a page\",\r\n                // icon: 'warning',\r\n                // showCancelButton: true,\r\n                // cancelButtonText: 'No, cancel!',\r\n                // reverseButtons: true\r\n              });\r\n        }\r\n    };\r\n\r\n    return (\r\n    <>\r\n    <Row className=\"d-flex mt-5\">  \r\n        <Col lg={1} />\r\n\r\n        <Col className=\"d-flex flex-column wizard-pages-container\" style={{backgroundColor: 'white'}}>\r\n            <Row className=\"d-flex mt-4 ml-2\">\r\n                <p className=\"my-auto wizard-pages-title\">Select a page to moderate.</p>\r\n            </Row>\r\n            \r\n            {/* FILTER BAR */}\r\n            <Row className=\"mt-3 mb-3\">\r\n                <Col lg={2} />\r\n\r\n                <Col className=\"wizard-pages-filter-bar\">\r\n                    <Row className=\"d-flex\">\r\n                        <div className=\"wizard-pages-filter-btn-active\">\r\n                            All pages (5)\r\n                        </div>\r\n                        \r\n                        <div className=\"wizard-pages-filter-btn\">\r\n                            Facebook\r\n                        </div>\r\n                        \r\n                        <div className=\"wizard-pages-filter-btn\">\r\n                           Instagram\r\n                        </div>\r\n                    </Row>\r\n                </Col>\r\n\r\n                <Col lg={2} />\r\n            </Row>\r\n\r\n\r\n            {\r\n            !loading\r\n            ?\r\n                (\r\n                    <Row className=\"mt-5 mb-5\">\r\n                        <Col lg={2} />\r\n\r\n                        <Col className=\"pl-5 pr-4\">\r\n                            {props.fbData !== null && \r\n                                Object.keys(props.fbData).map( (key, index) =>\r\n                                    props.fbData[key].map((page,index) => (\r\n                                        renderPage(\"fb\",page.name,null,page.idPage,page.access_token)   \r\n                                    ))\r\n                                )\r\n                            }\r\n\r\n                            \r\n                            {props.instaData !== null &&\r\n                                Object.keys(props.instaData).map( (key, index) =>\r\n                                    props.instaData[key].map((page,index) => (\r\n                                        renderPage(\"insta\",page.name,page.imageUrl,page.idPage,page.access_token)   \r\n                                    ))\r\n                                )\r\n                            }\r\n                        </Col>\r\n\r\n                        <Col lg={2} />\r\n                    </Row>\r\n                )\r\n            :\r\n                (\r\n                    <div className=\"d-flex\" style={{ width: '100%' }}>\r\n                        <div className=\"m-auto\">\r\n                            <Lottie options={defaultOptions} width={200} /*height={400}*/ />\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n           \r\n\r\n\r\n            <Row className=\"d-flex justify-content-between pl-4 pr-4\">\r\n                <div className=\"wizard-pages-inactive-btn mb-3\">\r\n                    {/* MUST RESET ALL WIZARD VARS */}\r\n                    <Link to=\"/home/pages\" style={{textDecoration: 'none', color: '#818E94'}} onClick={() => props.resetWizardStep()} >\r\n                        Back\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className=\"mb-3\">\r\n                    <Row>\r\n                        <div className=\"wizard-pages-inactive-btn mr-3\">\r\n                            Save Draft\r\n                        </div>\r\n\r\n                        <div className=\"wizard-pages-active-btn\" onClick={() => checkNextStep() }>\r\n                            {\r\n                                btnLoading\r\n                                ?\r\n                                    (<Lottie options={spinnerWhiteOptions} width={90} /*height={400}*/ />)\r\n                                :\r\n                                    \"Next\"\r\n                            }\r\n                        </div>\r\n                    </Row>\r\n                </div>\r\n            </Row>\r\n\r\n        </Col>\r\n\r\n        <Col lg={1} />\r\n    </Row>\r\n    </>\r\n    );\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        wizardStep: state.wizardR.wizardStep,\r\n        fbData : state.socialMediaR.fbData,\r\n        instaData : state.socialMediaR.instaData,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { nextWizardStep,resetWizardStep, getFbData, getInstaData, setWizardSelectedPage })(WizardPages);\r\n"]},"metadata":{},"sourceType":"module"}