{"ast":null,"code":"import axios from 'axios';\nimport { host } from '../../config';\nexport const getCategories = page => {\n  return dispatch => {\n    return axios.get(host + `/api/v1/secure/project/get/entitiesproject/${page.platform}/${page.id}`, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      // console.log('entities mtaaa page', res.data.data);\n      let categories = res.data.data;\n\n      if (categories.length > 0) {\n        categories.map((cat, index) => cat.default === true && categories.splice(index, 1));\n      }\n\n      ;\n      dispatch({\n        type: 'GET_ENTITIES_OF_A_PAGE',\n        payload: categories\n      });\n    }).catch(err => console.log(\"err getPageEntities\", err));\n  };\n};","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/redux/actions/myProductsActions.js"],"names":["axios","host","getCategories","page","dispatch","get","platform","id","headers","localStorage","getItem","then","res","categories","data","length","map","cat","index","default","splice","type","payload","catch","err","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,cAArB;AAGA,OAAO,MAAMC,aAAa,GAAIC,IAAD,IAAU;AACnC,SAAQC,QAAD,IAAc;AAEjB,WAAOJ,KAAK,CAACK,GAAN,CAAUJ,IAAI,GAAI,8CAA6CE,IAAI,CAACG,QAAS,IAAGH,IAAI,CAACI,EAAG,EAAxF,EAA2F;AAC9FC,MAAAA,OAAO,EAAE;AACL,yBAAiB,YAAYC,YAAY,CAACC,OAAb,CAAqB,WAArB;AADxB;AADqF,KAA3F,EAKNC,IALM,CAKDC,GAAG,IAAI;AACT;AACA,UAAIC,UAAU,GAAGD,GAAG,CAACE,IAAJ,CAASA,IAA1B;;AAEA,UAAGD,UAAU,CAACE,MAAX,GAAoB,CAAvB,EAA0B;AACtBF,QAAAA,UAAU,CAACG,GAAX,CAAe,CAACC,GAAD,EAAKC,KAAL,KACXD,GAAG,CAACE,OAAJ,KAAgB,IAAhB,IAAwBN,UAAU,CAACO,MAAX,CAAkBF,KAAlB,EAAwB,CAAxB,CAD5B;AAGH;;AAAA;AAGDd,MAAAA,QAAQ,CAAC;AACLiB,QAAAA,IAAI,EAAE,wBADD;AAELC,QAAAA,OAAO,EAAET;AAFJ,OAAD,CAAR;AAIH,KApBM,EAqBNU,KArBM,CAqBCC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCF,GAAnC,CArBT,CAAP;AAsBH,GAxBD;AAyBH,CA1BM","sourcesContent":["import axios from 'axios'\r\nimport { host } from '../../config';\r\n\r\n\r\nexport const getCategories = (page) => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + `/api/v1/secure/project/get/entitiesproject/${page.platform}/${page.id}`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log('entities mtaaa page', res.data.data);\r\n            let categories = res.data.data;\r\n\r\n            if(categories.length > 0) {\r\n                categories.map((cat,index) =>\r\n                    cat.default === true && categories.splice(index,1)\r\n                );\r\n            };\r\n\r\n\r\n            dispatch({\r\n                type: 'GET_ENTITIES_OF_A_PAGE',\r\n                payload: categories\r\n            })\r\n        })\r\n        .catch((err) => console.log(\"err getPageEntities\", err))\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}