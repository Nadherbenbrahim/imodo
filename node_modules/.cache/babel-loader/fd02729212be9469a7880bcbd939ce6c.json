{"ast":null,"code":"import _toConsumableArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{connect}from'react-redux';import{addCategory}from'../../../redux/actions/myProductsActions';import ProductDetails from'./ProductDetails';import{Col,Row,Image,Spinner}from'react-bootstrap';import{withRouter}from'react-router-dom';// Translations\nimport{trans}from'../../../Translations';import{FaInfoCircle}from'react-icons/fa';import{MdModeEdit}from'react-icons/md';import{ReactComponent as Zoom}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../assets/images/home/zoom-2.svg\";var INSTA_ICON=require('../../../assets/images/home/insta-icon.png');var FB_ICON=require('../../../assets/images/home/fb-icon.png');export var AddNewProducts=function AddNewProducts(props){var lang=props.lang,history=props.history,socialMediaPageSelected=props.socialMediaPageSelected,categorySelected=props.categorySelected,addCategory=props.addCategory;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPopover=_useState2[0],setShowPopover=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),HoverNameCatgory=_useState4[0],setHoverNameCatgory=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),categoryName=_useState6[0],setCategoryName=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),categoryDone=_useState8[0],setCategoryDone=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),newProduct=_useState10[0],setNewProduct=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),btnLoading=_useState12[0],setBtnLoading=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),allProducts=_useState14[0],setAllProducts=_useState14[1];var handlePopover=function handlePopover(delay){setTimeout(function(){setShowPopover(!showPopover);},delay);};var renderPopover=function renderPopover(){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex manage-products-popover\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},trans[lang].addNewProducts.titlePopover));};var createProducts=function createProducts(){var oldProducts=_toConsumableArray(allProducts);var valueToPush={content:newProduct,synonyms:[]};oldProducts.push(valueToPush);setAllProducts(oldProducts);setNewProduct(\"\");};var addStaticSynonym=function addStaticSynonym(indexToPush,valueToPush){var oldProducts=_toConsumableArray(allProducts);oldProducts[indexToPush].synonyms.push(valueToPush);setAllProducts(oldProducts);};var prepareAndSave=function prepareAndSave(){setBtnLoading(true);addCategory(socialMediaPageSelected,categoryName,allProducts,history).then(function(){history.push('manage-products');});};useEffect(function(){if(!socialMediaPageSelected){history.push('manage-products');};},[]);return/*#__PURE__*/React.createElement(\"div\",{style:{height:window.innerHeight*1.2,marginTop:'86px'},className:\"d-flex flex-column\"},/*#__PURE__*/React.createElement(Row,{className:\"mt-5 mr-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"home-big-title\"},trans[lang].addNewProducts.addCategory),/*#__PURE__*/React.createElement(FaInfoCircle,{style:{transitionDuration:'300ms'},color:!showPopover?\"#4080FF\":\"#E5007D\",size:'15',onMouseEnter:function onMouseEnter(){return handlePopover('20');},onMouseLeave:function onMouseLeave(){return handlePopover('300');}}),showPopover&&renderPopover()),socialMediaPageSelected&&/*#__PURE__*/React.createElement(Row,{className:\"mr-auto d-flex mb-3\"},/*#__PURE__*/React.createElement(Row,{className:\"wizard-selected-page-container m-auto\",style:{backgroundColor:'transparent'}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column mr-3\"},/*#__PURE__*/React.createElement(Image,{src:socialMediaPageSelected.picture_url,className:\"m-auto\",style:{maxWidth:'40px',borderRadius:'50%'}}),/*#__PURE__*/React.createElement(Image,{src:socialMediaPageSelected.platform===\"instagram\"?INSTA_ICON:FB_ICON,className:\"ml-auto\",style:{zIndex:1,marginTop:'-15px',maxWidth:'15px'}})),/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto add-category-page-name\"},socialMediaPageSelected.name))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},categoryName&&categoryDone?/*#__PURE__*/React.createElement(Col,{lg:5,className:\"p-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto add-category-category-name\"},categoryName),/*#__PURE__*/React.createElement(MdModeEdit,{className:\"my-auto ml-3\",color:!HoverNameCatgory?\"#4B4F56\":\"#4080FF\",size:'20',onClick:function onClick(){return setCategoryDone(false);},onMouseEnter:function onMouseEnter(){return setHoverNameCatgory(true);},onMouseLeave:function onMouseLeave(){return setHoverNameCatgory(false);},style:{transitionDuration:'300ms',cursor:'pointer'}}))):/*#__PURE__*/React.createElement(Col,{lg:2,className:\"add-new-product-input-container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"add-new-product-input w-100\",placeholder:trans[lang].addNewProducts.categoryPlaceholder,value:categoryName,onChange:function onChange(e){return setCategoryName(e.target.value);},onKeyDown:function onKeyDown(e){return e.key==='Enter'&&setCategoryDone(true);}})),/*#__PURE__*/React.createElement(Col,{lg:10})),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mt-3\"},/*#__PURE__*/React.createElement(Col,{lg:3},/*#__PURE__*/React.createElement(Row,{className:\"\"},/*#__PURE__*/React.createElement(Col,{lg:6,className:\"add-new-product-input-container mr-2\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"add-new-product-input w-100\",disabled:categoryDone?false:true,value:newProduct,onChange:function onChange(e){return setNewProduct(e.target.value);},onKeyDown:function onKeyDown(e){if(e.key==='Enter')createProducts();}})),/*#__PURE__*/React.createElement(Col,{lg:5},/*#__PURE__*/React.createElement(Row,{className:categoryDone?\"team-invite-btn d-flex\":\"manage-products-add-disabled-btn d-flex\",onClick:function onClick(){return categoryDone?createProducts():null;}},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},trans[lang].addNewProducts.addProduct))))),/*#__PURE__*/React.createElement(Col,{lg:7,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"\",className:\"ml-auto my-auto recherche-team py-2\"}),/*#__PURE__*/React.createElement(Zoom,{className:\"zoom-icon\",color:\"\",width:\"16\",height:\"16\",style:{top:'13px'}}))),allProducts.length>0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"mt-3 mr-0\"},/*#__PURE__*/React.createElement(Col,{lg:10,className:\"p-3\",style:{backgroundColor:'white',borderRadius:'4px'}},allProducts.length>0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"px-1\"},/*#__PURE__*/React.createElement(Col,{lg:4,className:\"d-flex py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-auto d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto manage-products-table-title\"},trans[lang].addNewProducts.products))),/*#__PURE__*/React.createElement(Col,{lg:8,className:\"py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mr-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mr-5 my-auto manage-products-table-title\"},trans[lang].addNewProducts.synonyms))),/*#__PURE__*/React.createElement(\"hr\",{style:{borderColor:'#EBEDF0',opacity:'1',padding:'0',margin:'auto',width:'96%'}})),allProducts.map(function(product,index){return/*#__PURE__*/React.createElement(Row,{className:\"pl-2\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"p-0\"},/*#__PURE__*/React.createElement(ProductDetails,{addStaticSynonym:addStaticSynonym,updateStaticProductName:true,removeStaticProduct:true,removeStaticSynonym:true,product:product,synonyms:product.synonyms,indexProduct:index,allProducts:allProducts,setAllProducts:setAllProducts}),/*#__PURE__*/React.createElement(\"hr\",{style:{borderColor:'#EBEDF0',opacity:'1',padding:'0',margin:'auto',width:'96%'}})));}))),/*#__PURE__*/React.createElement(Col,{lg:2})),/*#__PURE__*/React.createElement(Row,{className:\"my-5 mr-0 Bloc-Scroll\",style:{height:'280px',backgroundColor:'transparent'}},/*#__PURE__*/React.createElement(Col,{lg:10,className:\"\"},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-inactive-btn py-2 px-4\"},\"Back\"),/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-active-btn py-2 px-4\",onClick:function onClick(){return prepareAndSave();}},btnLoading?/*#__PURE__*/React.createElement(Spinner,{animation:\"border\",size:\"sm\",variant:\"light\"}):\"Save\"))),/*#__PURE__*/React.createElement(Col,{lg:2}))));};var mapStateToProps=function mapStateToProps(state){return{lang:state.socialMediaR.lang,socialMediaPageSelected:state.socialMediaR.socialMediaPageSelected,categories:state.productsR.categories,categorySelected:state.productsR.categorySelected};};export default withRouter(connect(mapStateToProps,{addCategory:addCategory})(AddNewProducts));","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/ManageProducts/AddNewProducts.js"],"names":["React","useState","useEffect","connect","addCategory","ProductDetails","Col","Row","Image","Spinner","withRouter","trans","FaInfoCircle","MdModeEdit","INSTA_ICON","require","FB_ICON","AddNewProducts","props","lang","history","socialMediaPageSelected","categorySelected","showPopover","setShowPopover","HoverNameCatgory","setHoverNameCatgory","categoryName","setCategoryName","categoryDone","setCategoryDone","newProduct","setNewProduct","btnLoading","setBtnLoading","allProducts","setAllProducts","handlePopover","delay","setTimeout","renderPopover","addNewProducts","titlePopover","createProducts","oldProducts","valueToPush","content","synonyms","push","addStaticSynonym","indexToPush","prepareAndSave","then","height","window","innerHeight","marginTop","transitionDuration","backgroundColor","picture_url","maxWidth","borderRadius","platform","zIndex","name","cursor","categoryPlaceholder","e","target","value","key","addProduct","top","length","products","borderColor","opacity","padding","margin","width","map","product","index","mapStateToProps","state","socialMediaR","categories","productsR"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { addCategory } from '../../../redux/actions/myProductsActions';\r\n\r\nimport ProductDetails from './ProductDetails';\r\n\r\nimport {\r\n    Col,\r\n    Row,\r\n    Image,\r\n    Spinner\r\n} from 'react-bootstrap';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n// Translations\r\nimport { trans } from '../../../Translations';\r\n\r\nimport { FaInfoCircle } from 'react-icons/fa';\r\nimport { MdModeEdit } from 'react-icons/md';\r\nimport {ReactComponent as Zoom} from '../../../assets/images/home/zoom-2.svg';\r\nconst INSTA_ICON = require('../../../assets/images/home/insta-icon.png');\r\nconst FB_ICON = require('../../../assets/images/home/fb-icon.png');\r\n\r\nexport const AddNewProducts = (props) => {\r\n    \r\n    let { \r\n        lang,\r\n        history,\r\n        socialMediaPageSelected,\r\n        categorySelected,\r\n\r\n        // Functions:\r\n        addCategory\r\n\r\n    } = props;\r\n\r\n    const [showPopover, setShowPopover]  = useState(false);\r\n    const [HoverNameCatgory, setHoverNameCatgory]  = useState(false);\r\n    const [categoryName,setCategoryName] = useState('');\r\n    const [categoryDone,setCategoryDone] = useState(false);\r\n    const [newProduct,setNewProduct] = useState('');\r\n    const [btnLoading,setBtnLoading] = useState(false);\r\n    const [allProducts, setAllProducts] = useState([]);\r\n\r\n\r\n    const handlePopover = (delay) => {\r\n        setTimeout( () => {\r\n          setShowPopover(!showPopover);\r\n        },delay)\r\n    };\r\n\r\n    const renderPopover = () => (\r\n        <div className=\"d-flex manage-products-popover\">\r\n          <p className=\"m-auto\">\r\n            {trans[lang].addNewProducts.titlePopover}\r\n            {/* <br/> */}\r\n            {/* <a href=\"\">learn more</a> */}\r\n          </p>\r\n        </div>\r\n    );\r\n\r\n    const createProducts = () => {    \r\n        let oldProducts = [...allProducts];\r\n        let valueToPush = {\r\n            content: newProduct,\r\n            synonyms: [],\r\n        };\r\n\r\n        oldProducts.push(valueToPush);\r\n        setAllProducts(oldProducts);\r\n        setNewProduct(\"\");\r\n    };\r\n\r\n    const addStaticSynonym = (indexToPush,valueToPush) => {    \r\n        let oldProducts = [...allProducts];\r\n        oldProducts[indexToPush].synonyms.push(valueToPush);\r\n        setAllProducts(oldProducts);\r\n    };\r\n\r\n    const prepareAndSave = () => {\r\n        setBtnLoading(true);\r\n    \r\n        addCategory(socialMediaPageSelected, categoryName, allProducts, history)\r\n        .then(() => {\r\n            history.push('manage-products');\r\n        });\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n       if(!socialMediaPageSelected) {\r\n           history.push('manage-products');\r\n       };\r\n    }, []);\r\n\r\n    return (\r\n    <div style={{height: window.innerHeight * 1.2,marginTop: '86px'}} className=\"d-flex flex-column\">\r\n           \r\n        <Row className=\"mt-5 mr-auto\">\r\n            {/* <p className=\"my-agents-table-label\" style={{ fontSize: '30px', fontFamily: 'Poppins SemiBold' }}>Add category</p> ) */}\r\n            <p className=\"home-big-title\">{trans[lang].addNewProducts.addCategory}</p> \r\n            <FaInfoCircle style={{transitionDuration: '300ms' }} color={!showPopover ? \"#4080FF\" : \"#E5007D\"} size={'15'} onMouseEnter={() => handlePopover('20')} onMouseLeave={() => handlePopover('300')} />\r\n            { showPopover && renderPopover() }\r\n        </Row>\r\n\r\n        {/* SELECTED PAGE */}\r\n        {\r\n        socialMediaPageSelected &&\r\n        <Row className=\"mr-auto d-flex mb-3\">\r\n            <Row className=\"wizard-selected-page-container m-auto\" style={{backgroundColor: 'transparent'}}>\r\n                <div className=\"d-flex flex-column mr-3\">\r\n                    <Image src={socialMediaPageSelected.picture_url} className=\"m-auto\" style={{ maxWidth: '40px',borderRadius: '50%' }} />\r\n                    <Image src={socialMediaPageSelected.platform === \"instagram\" ? INSTA_ICON : FB_ICON} className=\"ml-auto\" style={{zIndex: 1, marginTop: '-15px',maxWidth: '15px'}}/>\r\n                </div>\r\n                <p className=\"m-auto add-category-page-name\">{socialMediaPageSelected.name}</p> \r\n            </Row>\r\n        </Row>\r\n        }\r\n        \r\n        {/* Category Name */}\r\n        <Row className=\"d-flex\">   \r\n            {categoryName && categoryDone\r\n            ?\r\n            (\r\n            <Col lg={5} className=\"p-0\">\r\n                <div className=\"d-flex\">\r\n                    <p className=\"my-auto add-category-category-name\">{categoryName}</p>\r\n                    <MdModeEdit className=\"my-auto ml-3\"  color={!HoverNameCatgory ? \"#4B4F56\" : \"#4080FF\"} size={'20'} onClick={() => setCategoryDone(false)} onMouseEnter={() => setHoverNameCatgory(true)} onMouseLeave={() => setHoverNameCatgory(false)} style={{transitionDuration: '300ms',cursor: 'pointer' }} />\r\n                </div>\r\n            </Col>\r\n            )\r\n            :\r\n            (\r\n            <Col lg={2} className=\"add-new-product-input-container\">\r\n                <input type=\"text\" className=\"add-new-product-input w-100\" placeholder={trans[lang].addNewProducts.categoryPlaceholder}  value={categoryName} onChange={(e) => setCategoryName(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && setCategoryDone(true)} />\r\n            </Col>\r\n            )\r\n            }\r\n            <Col lg={10} />\r\n        </Row>\r\n        \r\n        {/* ADD PRODUCTS */}\r\n        <Row className=\"d-flex mt-3\">   \r\n            <Col lg={3}>\r\n                <Row className=\"\">\r\n                    <Col lg={6} className=\"add-new-product-input-container mr-2\">\r\n                        <input \r\n                            type=\"text\" \r\n                            className=\"add-new-product-input w-100\" \r\n                            disabled={categoryDone ? false : true} value={newProduct} \r\n                            onChange={(e) => setNewProduct(e.target.value)} \r\n                            onKeyDown={(e) => { if(e.key === 'Enter') createProducts() }}\r\n                        />\r\n                    </Col>\r\n\r\n                    <Col lg={5}>\r\n                        <Row className={categoryDone ? \"team-invite-btn d-flex\" : \"manage-products-add-disabled-btn d-flex\"} onClick={ () => categoryDone ? createProducts() : null }>\r\n                            <p className=\"m-auto\">{trans[lang].addNewProducts.addProduct}</p>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Col>\r\n\r\n            <Col lg={7} className=\"d-flex\">\r\n                <input type=\"text\" placeholder=\"\" className=\"ml-auto my-auto recherche-team py-2\" />\r\n                <Zoom className={\"zoom-icon\"} color={\"\"}  width=\"16\" height=\"16\" style={{top: '13px'}} />\r\n            </Col>\r\n        </Row>\r\n        \r\n        {allProducts.length > 0 &&\r\n        <>\r\n        <Row className=\"mt-3 mr-0\">\r\n            <Col lg={10} className=\"p-3\" style={{backgroundColor: 'white', borderRadius: '4px'}}> \r\n                {\r\n                allProducts.length > 0\r\n                &&\r\n                <>\r\n                {/* TITLES */}\r\n                <Row className=\"px-1\">\r\n                    <Col lg={4} className=\"d-flex py-3\">\r\n                        <div className=\"mr-auto d-flex\">\r\n                            <p className=\"my-auto manage-products-table-title\">{trans[lang].addNewProducts.products}</p>\r\n                        </div>\r\n                    </Col>\r\n\r\n                    <Col lg={8} className=\"py-3\">\r\n                        <div className=\"d-flex mr-auto\">\r\n                            <p className=\"mr-5 my-auto manage-products-table-title\">{trans[lang].addNewProducts.synonyms}</p>\r\n                        </div>\r\n                    </Col>\r\n                    <hr  style={{borderColor: '#EBEDF0', opacity: '1',padding: '0',margin: 'auto',width: '96%'}} />\r\n                </Row>\r\n\r\n                {/* LINE */}\r\n                {allProducts.map((product,index) => \r\n                <Row className=\"pl-2\">\r\n                    <Col lg={12} className=\"p-0\">\r\n                        <ProductDetails \r\n                            addStaticSynonym={addStaticSynonym} \r\n                            updateStaticProductName={true}\r\n                            removeStaticProduct={true}\r\n                            removeStaticSynonym={true}\r\n                            product={product} \r\n                            synonyms={product.synonyms} \r\n                            indexProduct={index} \r\n                            allProducts={allProducts}\r\n                            setAllProducts={setAllProducts} \r\n                        />  \r\n                        <hr  style={{borderColor: '#EBEDF0', opacity: '1',padding: '0',margin: 'auto',width: '96%'}} />\r\n                                 \r\n                    </Col>\r\n                </Row>\r\n\r\n                )}\r\n                </>\r\n                }\r\n            </Col>\r\n\r\n            <Col lg={2} />\r\n        </Row>\r\n\r\n        {/* Buttons */}\r\n        <Row className=\"my-5 mr-0 Bloc-Scroll\" style={{height: '280px',backgroundColor:'transparent'}} >\r\n            <Col lg={10} className=\"\"> \r\n                <Row className=\"justify-content-between\">\r\n                    <div className=\"wizard-pages-inactive-btn py-2 px-4\">\r\n                        Back    \r\n                    </div>\r\n\r\n                    <div className=\"wizard-pages-active-btn py-2 px-4\" onClick={() => prepareAndSave() }>\r\n                        { btnLoading ? <Spinner animation=\"border\" size={\"sm\"} variant=\"light\" /> : \"Save\"}\r\n                    </div>\r\n                </Row>\r\n            </Col>\r\n\r\n            <Col lg={2} />\r\n        </Row>\r\n\r\n        </>\r\n        }\r\n    </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        lang : state.socialMediaR.lang,\r\n        socialMediaPageSelected : state.socialMediaR.socialMediaPageSelected,\r\n        categories : state.productsR.categories,\r\n        categorySelected : state.productsR.categorySelected,\r\n    }\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, { addCategory })(AddNewProducts));\r\n"]},"metadata":{},"sourceType":"module"}