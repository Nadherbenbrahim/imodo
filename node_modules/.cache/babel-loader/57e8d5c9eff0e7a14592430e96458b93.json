{"ast":null,"code":"import _defineProperty from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/usr/work/smart_front_oussema/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import axios from'axios';import{connect}from'react-redux';import{connectInstagramPage,disconnectInstagramPage,deleteInstagramPage,makeOwnerInstagramPage,connectFacebookPage,disconnectFacebookPage,deleteFacebookPage,makeOwnerFacebookPage,getFbData,getInstaData,setPreferences}from'../../../redux/actions/socialMediaActions';import{useLocation}from'react-router-dom';import OwnerCheckbox from'./OwnerCheckbox';import Swal from'sweetalert2/dist/sweetalert2.js';import{Row,Col,Image,Modal,Spinner,Form}from'react-bootstrap';import Lottie from'react-lottie';import animationData from'../../../assets/json/loadingSpinner.json';import notFoundAnimationData from'../../../assets/json/not-found.json';import{IoIosClose,IoIosMore}from'react-icons/io';var DISC_ICON=require('../../../assets/images/home/disconnected-icon.png');var CONN_ICON=require('../../../assets/images/home/connected-icon.png');var DELETE_ICON=require('../../../assets/images/home/delete_trash.png');var USER_ICON=require('../../../assets/images/home/user.png');var USER_MEMBER_ICON=require('../../../assets/images/home/page-card-member.png');var INSTA_ICON=require('../../../assets/images/home/insta-icon.png');var FB_ICON=require('../../../assets/images/home/fb-icon.png');function PageCard(props){/* \r\n        ALL PROPS {\r\n            platform={\"fb\"} \r\n            isConnectedPage={page.isConnected} \r\n            namePage={page.name} \r\n            idPage={page.idPage} \r\n            picture={null} \r\n            accessToken={page.access_token}\r\n            status={key}\r\n            spam={page.spam}\r\n            likesComment={page.likesComment}\r\n            delay={page.repsReplies.statut}\r\n        } \r\n    */var swalWithBootstrapButtons=Swal.mixin({customClass:{confirmButton:'wizard-pages-active-btn-alert'},buttonsStyling:false});var defaultOptionsNotFound={loop:true,autoplay:true,animationData:notFoundAnimationData,rendererSettings:{preserveAspectRatio:'xMidYMid slice'}};var defaultOptions={loop:true,autoplay:true,animationData:animationData,rendererSettings:{preserveAspectRatio:'xMidYMid slice'}};var location=useLocation();var fbHost=\"https://graph.facebook.com/v8.0\";var _useState=useState(null),_useState2=_slicedToArray(_useState,2),fbGraphData=_useState2[0],setFbGraphData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),instaGraphData=_useState4[0],setInstaGraphData=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPopoverConnect=_useState6[0],setShowPopoverConnect=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loadingWhileConnecting=_useState8[0],setLoadingWhileConnecting=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showDisconnectModal=_useState10[0],setShowDisconnectModal=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showModalTeam=_useState12[0],setShowModalTeam=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),selectedOwner=_useState14[0],setSelectedOwner=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),ownerConfirmation=_useState16[0],setOwnerConfirmation=_useState16[1];// ANTI SPAM:\nvar _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),showSpamPopover=_useState18[0],setShowSpamPopover=_useState18[1];var _useState19=useState(props.spam),_useState20=_slicedToArray(_useState19,2),spamVar=_useState20[0],setSpamVar=_useState20[1];var _useState21=useState(props.likesComment),_useState22=_slicedToArray(_useState21,2),likeVar=_useState22[0],setLikeVar=_useState22[1];var _useState23=useState(props.delay),_useState24=_slicedToArray(_useState23,2),delayReply=_useState24[0],setDelayReply=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),exactlySeconds=_useState26[0],setExactlySeconds=_useState26[1];var _useState27=useState(0),_useState28=_slicedToArray(_useState27,2),exactlyMinutes=_useState28[0],setExactlyMinutes=_useState28[1];var _useState29=useState(0),_useState30=_slicedToArray(_useState29,2),randomlyFromSeconds=_useState30[0],setRandomlyFromSeconds=_useState30[1];var _useState31=useState(0),_useState32=_slicedToArray(_useState31,2),randomlyFromMinutes=_useState32[0],setRandomlyFromMinutes=_useState32[1];var _useState33=useState(0),_useState34=_slicedToArray(_useState33,2),randomlyToSeconds=_useState34[0],setRandomlyToSeconds=_useState34[1];var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),randomlyToMinutes=_useState36[0],setRandomlyToMinutes=_useState36[1];var test=useRef(null);var handleDisconnectModal=function handleDisconnectModal(){return setShowDisconnectModal(!showDisconnectModal);};var handleConnectPopover=function handleConnectPopover(){return setShowPopoverConnect(!showPopoverConnect);};var handleSpamPopover=function handleSpamPopover(){return setShowSpamPopover(!showSpamPopover);};var checkOwner=function checkOwner(){var userData=JSON.parse(localStorage.getItem('userData'));var found=null;if(props.admins.length>0){found=props.admins.find(function(admin){return admin.idFacebook===userData.user.idFacebook&&admin.role===\"owner\";});};return found;};var selectNewOwner=function selectNewOwner(idFacebook,firstName,lastName,idPage){if(selectedOwner.idFacebook===idFacebook){setSelectedOwner({});}else{// setSelectedOwner([idFacebook,`${firstName} ${lastName}`]);\nsetSelectedOwner({idFacebook:idFacebook,firstName:firstName,lastName:lastName,idPage:idPage});}};var confirmTheOwner=function confirmTheOwner(){// Mdoal reset \n// setShowDisconnectModal(false);\n// setShowModalTeam(false);\n// setOwnerConfirmation(false);\n// setSelectedOwner({});\nif(selectedOwner.idFacebook&&selectedOwner.idPage){if(props.platform===\"insta\"){props.makeOwnerInstagramPage(selectedOwner.idPage,selectedOwner.idFacebook).then(function(){// Confirm the new Owner: \nsetOwnerConfirmation(true);}).catch(function(){swalWithBootstrapButtons.fire({title:'Connexion error with the server. Try again !',confirmButtonText:'Okay'});});}else{props.makeOwnerFacebookPage(selectedOwner.idPage,selectedOwner.idFacebook).then(function(){// Confirm the new Owner: \nsetOwnerConfirmation(true);}).catch(function(){swalWithBootstrapButtons.fire({title:'Connexion error with the server. Try again !',confirmButtonText:'Okay'});});};}else{swalWithBootstrapButtons.fire({title:'Please select a new owner !',confirmButtonText:'Okay'});}// props.platform === \"insta\" ? props.makeOwnerInstagramPage(idPage,member.idFacebook) : props.makeOwnerFacebookPage(idPage,member.idFacebook)\n};var resetModal=function resetModal(){setShowDisconnectModal(false);setShowModalTeam(false);setOwnerConfirmation(false);setSelectedOwner({});};// RENDERING METHODS: \nvar renderPopover=function renderPopover(){return/*#__PURE__*/React.createElement(\"div\",{className:\"page-card-connect-popover d-flex\",onClick:function onClick(){// Popup Config\nvar swalWithBootstrapButtons=Swal.mixin({customClass:{confirmButton:'wizard-pages-active-btn'},buttonsStyling:false});if(props.platform===\"insta\"&&!props.isConnectedPage){// Instagram \nsetLoadingWhileConnecting(true);props.connectInstagramPage(props.idPage).then(function(){setLoadingWhileConnecting(false);props.setLoadingPages(true);props.getInstaData().then(function(){return props.setLoadingPages(false);}).catch(function(){setLoadingWhileConnecting(false);swalWithBootstrapButtons.fire({title:'Error while getting instagram pages',confirmButtonText:'Retry'});});}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while connecting the instagram page',confirmButtonText:'Retry'});});}else if(props.platform===\"fb\"&&!props.isConnectedPage){// Facebook\nsetLoadingWhileConnecting(true);props.connectFacebookPage(props.idPage).then(function(){setLoadingWhileConnecting(false);props.setLoadingPages(true);props.getFbData().then(function(){return props.setLoadingPages(false);}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while getting facebook pages',confirmButtonText:'Retry'});});;}).catch(function(){setLoadingWhileConnecting(false);swalWithBootstrapButtons.fire({title:'Error while connecting the facebook page',confirmButtonText:'Retry'});});}else{setShowDisconnectModal(true);}}},loadingWhileConnecting?/*#__PURE__*/React.createElement(\"div\",{className:\"px-3\"},/*#__PURE__*/React.createElement(Spinner,{animation:\"border\",size:\"sm\",variant:\"primary\",className:\"spinnerRose\"})):props.isConnectedPage?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},\"Disconnect\"):/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto\"},\"Connect\"));};var renderSpamPopover=function renderSpamPopover(){return/*#__PURE__*/React.createElement(\"div\",{className:\"page-card-anti-spam-popover\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",onClick:function onClick(){return setSpamVar(!spamVar);}},/*#__PURE__*/React.createElement(Form.Check,{type:\"switch\",id:\"custom-switch-1\",label:\"\",className:\"my-auto mr-2\",checked:spamVar,onChange:function onChange(){return console.log(\"\");}}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-switch-label my-auto\"},\"Anti Spam\"))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",onClick:function onClick(){return setLikeVar(!likeVar);}},/*#__PURE__*/React.createElement(Form.Check,{type:\"switch\",id:\"custom-switch-2\",label:\"\",className:\"my-auto mr-2\",checked:likeVar,onChange:function onChange(){return console.log(\"\");}}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-switch-label my-auto\"},\"Like matched replies\"))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mb-1\"},/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-small-text mb-1\"},\"Delay before replying\"),/*#__PURE__*/React.createElement(\"hr\",{style:{height:'2px',borderColor:'#B4B4B4',margin:0}})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",onClick:function onClick(){return setDelayReply('immediatly');}},/*#__PURE__*/React.createElement(Form.Check,{type:\"checkbox\"// id=\"custom-checkbox-1\"\n,className:\"my-auto mr-1\",checked:delayReply===\"immediatly\",onChange:function onChange(){return console.log(\"\");}}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-checkbox-label my-auto\"},\"Immediatly\"))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",onClick:function onClick(){return setDelayReply('Exactly');}},/*#__PURE__*/React.createElement(Form.Check,{type:\"checkbox\",id:\"custom-checkbox-2\",className:\"my-auto mr-1\",checked:delayReply===\"Exactly\",onChange:function onChange(){return console.log(\"\");}}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-checkbox-label my-auto\"},\"Exactly after\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",id:\"page-card-anti-spam-input\",onChange:function onChange(e){return setExactlyMinutes(e.target.value);},defaultValue:exactlyMinutes,placeholder:\"0\",className:\"my-auto\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-unity my-auto mx-1\"},\"m\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",id:\"page-card-anti-spam-input\",onChange:function onChange(e){return e.target.value>0&&setExactlySeconds(e.target.value);},value:exactlySeconds,placeholder:\"0\",className:\"my-auto mr-1\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-unity my-auto ml-1\"},\"s\")))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",onClick:function onClick(){return setDelayReply('Randomly');}},/*#__PURE__*/React.createElement(Form.Check,{type:\"checkbox\",id:\"custom-checkbox-2\",className:\"my-auto mr-1\",checked:delayReply===\"Randomly\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-checkbox-label my-auto\"},\"Randomly\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-checkbox-label my-auto mr-2\"},\"From\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",id:\"page-card-anti-spam-input\",onChange:function onChange(e){return e.target.value>0&&setRandomlyFromMinutes(e.target.value);},value:randomlyFromMinutes,placeholder:\"0\",className:\"my-auto\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-unity my-auto mx-1\"},\"m\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",id:\"page-card-anti-spam-input\",onChange:function onChange(e){return e.target.value>0&&setRandomlyFromSeconds(e.target.value);},value:randomlyFromSeconds,placeholder:\"0\",className:\"my-auto mr-1\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-unity my-auto ml-1\"},\"s\")))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mb-2 d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex ml-auto\"},/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-checkbox-label my-auto mr-2\"},\"To\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",id:\"page-card-anti-spam-input\",onChange:function onChange(e){return e.target.value>0&&setRandomlyToMinutes(e.target.value);},value:randomlyToMinutes,placeholder:\"0\",className:\"my-auto\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-unity my-auto mx-1\"},\"m\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",id:\"page-card-anti-spam-input\",onChange:function onChange(e){return e.target.value>0&&setRandomlyToSeconds(e.target.value);},value:randomlyToSeconds,placeholder:\"0\",className:\"my-auto mr-1\"}),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-anti-spam-unity my-auto ml-1\"},\"s\"))),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"mb-3 d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"page-card-anti-spam-save-btn p-2 ml-auto\",onClick:function onClick(){return props.setPreferences(spamVar,likeVar,delayReply,props.socialMediaPageSelected);}},\"Save\"))));};var renderDisconnectModal=function renderDisconnectModal(idPage){return/*#__PURE__*/React.createElement(Modal,{show:showDisconnectModal,onHide:handleDisconnectModal,size:\"lg\",centered:true},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column\"},!showModalTeam&&/*#__PURE__*/React.createElement(IoIosClose,{className:\"ml-auto mr-3 mt-2\",color:'#9F9F9F',size:'28',onClick:resetModal,style:{cursor:'pointer'}}),showModalTeam&&/*#__PURE__*/React.createElement(Modal.Header,null,/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-between d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"my-auto page-card-modal-small-title\",style:{fontSize:'17px'}},\"Make Owner\"),/*#__PURE__*/React.createElement(IoIosClose,{className:\"my-auto\",color:'#9F9F9F',size:'28',onClick:resetModal,style:{cursor:'pointer'}})))),/*#__PURE__*/React.createElement(Modal.Body,null,!showModalTeam&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Col,{className:\"d-flex flex-column m-auto\"},props.picture!==null?/*#__PURE__*/React.createElement(Image,{src:props.picture,fluid:true,className:\"m-auto pages-card-profile-picture\"}):fbGraphData!==null?/*#__PURE__*/React.createElement(Image,{src:fbGraphData.picture.data.url,fluid:true,className:\"m-auto pages-card-profile-picture\"}):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:150}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{zIndex:1,marginTop:'-20px'}},/*#__PURE__*/React.createElement(Col,{lg:6}),/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Image,{src:props.platform===\"fb\"?FB_ICON:INSTA_ICON,fluid:true,className:\"m-auto\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mb-3 mt-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\"},props.namePage))),!showModalTeam?/*#__PURE__*/React.createElement(Row,{className:\"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\"},/*#__PURE__*/React.createElement(Col,{lg:2}),/*#__PURE__*/React.createElement(Col,{lg:5,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column mr-auto\",onClick:function onClick(){return setShowModalTeam(true);}},/*#__PURE__*/React.createElement(\"div\",{className:\"page-card-modal-small-box m-auto d-flex\"},/*#__PURE__*/React.createElement(Image,{src:USER_ICON,className:\"m-auto\",style:{width:'25px'}})),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title mx-auto mt-2\"},\"Make Owner\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-column ml-auto\",style:{cursor:'pointer'},onClick:function onClick(){var swalWithBootstrapButtons=Swal.mixin({customClass:{confirmButton:'wizard-pages-active-btn'},buttonsStyling:false});if(props.platform===\"insta\"){props.deleteInstagramPage(idPage).then(function(){setShowDisconnectModal(false);props.setLoadingPages(true);props.getInstaData().then(function(){props.setLoadingPages(false);}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while getting instagram pages',confirmButtonText:'Retry'});});}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while deleting the instagram page',confirmButtonText:'Retry'});});}else{props.deleteFacebookPage(idPage).then(function(){setShowDisconnectModal(false);props.setLoadingPages(true);props.getFbData().then(function(){props.setLoadingPages(false);}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while getting facebook pages',confirmButtonText:'Retry'});});}).catch(function(){swalWithBootstrapButtons.fire({title:'Error while deleting the facebook page',confirmButtonText:'Retry'});});};}},/*#__PURE__*/React.createElement(\"div\",{className:\"page-card-modal-small-box m-auto d-flex\"},/*#__PURE__*/React.createElement(Image,{src:DELETE_ICON,className:\"m-auto\",style:{width:'23px'}})),/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title mx-auto mt-2\"},\"Delete\"))),/*#__PURE__*/React.createElement(Col,{lg:2})):/*#__PURE__*/React.createElement(Row,{className:\"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\"},/*#__PURE__*/React.createElement(Col,{lg:1}),/*#__PURE__*/React.createElement(Col,{lg:10,className:\"d-flex flex-column\"},ownerConfirmation?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mb-3\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title m-auto\",style:{color:'#E5007D',fontSize:'17px'}},selectedOwner.firstName,\" \",selectedOwner.lastName))),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mb-3\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title m-auto\"},\"is now the new Owner of\"))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Col,{className:\"d-flex flex-column m-auto\"},props.picture!==null?/*#__PURE__*/React.createElement(Image,{src:props.picture,fluid:true,className:\"m-auto pages-card-profile-picture\"}):fbGraphData!==null?/*#__PURE__*/React.createElement(Image,{src:fbGraphData.picture.data.url,fluid:true,className:\"m-auto pages-card-profile-picture\"}):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:150}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{zIndex:1,marginTop:'-20px'}},/*#__PURE__*/React.createElement(Col,{lg:6}),/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Image,{src:props.platform===\"fb\"?FB_ICON:INSTA_ICON,fluid:true,className:\"m-auto\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mb-3 mt-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\"},props.namePage)),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-active-btn py-2 px-3\",style:{cursoir:'pointer'},onClick:resetModal},\"Close\"))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mb-3\"},/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title m-auto\"},\"Select one team admin to make it the new Owner.\"))),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mb-1\"},/*#__PURE__*/React.createElement(Col,{lg:10},props.admins.length>0?props.admins.map(function(member){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,{key:member.idFacebook+Math.random(),className:\"justify-content-between py-3\"// onClick={() => props.platform === \"insta\" ? props.makeOwnerInstagramPage(idPage,member.idFacebook) : props.makeOwnerFacebookPage(idPage,member.idFacebook)}\n,style:{borderBottom:'1px solid #EBEDF0'}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto page-card-owner-name\"},member.first_name,\" \",member.last_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",onClick:function onClick(){return member.role!==\"owner\"?selectNewOwner(member.idFacebook,member.first_name,member.last_name,idPage):null;}},member.role===\"owner\"?/*#__PURE__*/React.createElement(\"p\",{className:\"page-card-modal-small-title m-auto\",style:{color:'#E4E6EB'}},\"Owner Already !\"):/*#__PURE__*/React.createElement(OwnerCheckbox,{checked:selectedOwner.idFacebook===member.idFacebook,className:\"m-auto\"}))));}):/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(Lottie,{options:defaultOptionsNotFound,width:200,className:\"m-auto\"/*height={400}*/})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto page-card-modal-small-title\"},\"Sorry ! You don't have any team member.\"))))),/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center mt-2\"},/*#__PURE__*/React.createElement(Col,{lg:12},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-inactive-btn py-2 px-3\",style:{cursor:'pointer'},onClick:function onClick(){return setShowModalTeam(false);}},\"Back\"),/*#__PURE__*/React.createElement(\"div\",{className:\"wizard-pages-active-btn py-2 px-3\",style:{cursoir:'pointer'},onClick:function onClick(){return confirmTheOwner();}},\"Next\")))))),/*#__PURE__*/React.createElement(Col,{lg:1})))));};useEffect(function(){if(props.platform===\"fb\"){axios.get(\"\".concat(fbHost,\"/\").concat(props.idPage,\"/?fields=fan_count,picture,new_like_count&access_token=\").concat(props.accessToken)).then(function(res){setFbGraphData(res.data);}).catch(function(err){console.log(\"PageCardFb\",err);});}else{// INSTA\naxios.get(\"\".concat(fbHost,\"/\").concat(props.idPage,\"/?fields=id,media,followers_count,media_count,profile_picture_url,username,name&access_token=\").concat(props.accessToken)).then(function(res){setInstaGraphData(res.data);}).catch(function(err){console.log(\"PageCard Insta\",err);});};},[]);return(/* card grisé */props.status===\"listPageConnectedOtherTeam\"?/*#__PURE__*/React.createElement(\"div\",{key:props.idPage+Math.random(),className:\"pages-card m-1\",style:{backgroundColor:\"#ECEDF0\",border:\"0\"}},/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Col,{className:\"d-flex flex-column\"},props.picture!==null?/*#__PURE__*/React.createElement(Image,{src:props.picture,fluid:true,className:\"m-auto pages-card-profile-picture\"}):fbGraphData!==null?/*#__PURE__*/React.createElement(Image,{src:fbGraphData.picture.data.url,fluid:true,className:\"m-auto pages-card-profile-picture\"}):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:150}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\",style:{zIndex:1,marginTop:'-20px'}},/*#__PURE__*/React.createElement(Col,{lg:6}),/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Image,{src:props.platform===\"fb\"?FB_ICON:INSTA_ICON,fluid:true,className:\"m-auto\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mb-3 mt-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\"},props.namePage)),/*#__PURE__*/React.createElement(Row,_defineProperty({className:\"d-flex\"},\"className\",\"page-card-disabled-title-container\"),/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto page-card-disabled-title\"},\"This page is managed by another team\")),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mt-3\"},/*#__PURE__*/React.createElement(Row,{className:\"m-auto justify-content-between\"},/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},instaGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},instaGraphData.followers_count):fbGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},fbGraphData.fan_count):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:100})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Total Fans\")))),/*#__PURE__*/React.createElement(Col,{lg:6,className:\"p-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},instaGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},instaGraphData.media_count):fbGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},fbGraphData.new_like_count):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:100})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex p-0\"},props.platform===\"fb\"?/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Total Interactions\"):/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Posts\"))))))):/*#__PURE__*/React.createElement(\"div\",{key:props.idPage+Math.random(),className:props.socialMediaPageSelected&&props.socialMediaPageSelected.id===props.idPage?\"pages-card-active ml-1\":\"pages-card m-1\",style:{backgroundColor:\"white\",border:props.status===\"listPageConnectedOwner\"?\"2px solid #E5007D\":props.status===\"listPageInvite\"?\"2px solid #139216\":props.status===\"listPageInviteAdmin\"?\"2px solid #199EE3\":\"1px solid #B4B4B4\"}},renderDisconnectModal(props.idPage),showPopoverConnect&&renderPopover(),showSpamPopover&&renderSpamPopover(),location.pathname===\"/home/pages\"&&!props.isConnectedPage?/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:DISC_ICON,style:{cursor:'pointer'},className:\"mr-auto\",fluid:true,onClick:handleConnectPopover})):location.pathname===\"/home/pages\"&&props.isConnectedPage&&checkOwner()?/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:CONN_ICON,style:{cursor:'pointer'},className:\"mr-auto\",fluid:true,onClick:handleConnectPopover}),/*#__PURE__*/React.createElement(IoIosMore,{size:21,color:\"#b4b4b4\",style:{cursor:'pointer'},className:\"ml-auto\",onClick:handleSpamPopover})):location.pathname===\"/home/pages\"&&/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:USER_MEMBER_ICON,style:{cursor:'pointer'},className:\"mr-auto\",fluid:true// onClick={handleConnectPopover}\n})),/*#__PURE__*/React.createElement(Row,{className:\"d-flex\"},/*#__PURE__*/React.createElement(Col,{className:\"d-flex flex-column\"},props.picture!==null?/*#__PURE__*/React.createElement(Image,{src:props.picture,fluid:true,className:\"m-auto pages-card-profile-picture\"}):fbGraphData!==null?/*#__PURE__*/React.createElement(Image,{src:fbGraphData.picture.data.url,fluid:true,className:\"m-auto pages-card-profile-picture\"}):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:150}),/*#__PURE__*/React.createElement(Row,{className:\"d-flex\",style:{zIndex:1,marginTop:'-20px'}},/*#__PURE__*/React.createElement(Col,{lg:6}),/*#__PURE__*/React.createElement(Col,{lg:6,className:\"d-flex\"},/*#__PURE__*/React.createElement(Image,{src:props.platform===\"fb\"?FB_ICON:INSTA_ICON,fluid:true,className:\"mr-auto\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mb-3 mt-3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\"},props.namePage)),/*#__PURE__*/React.createElement(Row,{className:\"d-flex mt-3\"},/*#__PURE__*/React.createElement(Row,{className:\"m-auto justify-content-between\"},/*#__PURE__*/React.createElement(Col,{lg:6},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},instaGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},instaGraphData.followers_count):fbGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},fbGraphData.fan_count):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:100})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Total Fans\")))),/*#__PURE__*/React.createElement(Col,{lg:6,className:\"p-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex\"},instaGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},instaGraphData.media_count):fbGraphData!==null?/*#__PURE__*/React.createElement(\"p\",{className:\"m-auto pages-card-title\",style:{fontSize:'30px'}},fbGraphData.new_like_count):/*#__PURE__*/React.createElement(Lottie,{options:defaultOptions,width:100})),/*#__PURE__*/React.createElement(Col,{lg:12,className:\"d-flex p-0\"},props.platform===\"fb\"?/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Total Interactions\"):/*#__PURE__*/React.createElement(\"p\",{className:\"mx-auto pages-card-desc-2\"},\"Posts\"))))))));};var mapStateToProps=function mapStateToProps(state){return{socialMediaPageSelected:state.socialMediaR.socialMediaPageSelected};};export default connect(mapStateToProps,{connectInstagramPage:connectInstagramPage,disconnectInstagramPage:disconnectInstagramPage,deleteInstagramPage:deleteInstagramPage,makeOwnerInstagramPage:makeOwnerInstagramPage,connectFacebookPage:connectFacebookPage,disconnectFacebookPage:disconnectFacebookPage,deleteFacebookPage:deleteFacebookPage,makeOwnerFacebookPage:makeOwnerFacebookPage,getFbData:getFbData,getInstaData:getInstaData,setPreferences:setPreferences})(PageCard);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/Pages/PageCard.js"],"names":["React","useEffect","useState","useRef","axios","connect","connectInstagramPage","disconnectInstagramPage","deleteInstagramPage","makeOwnerInstagramPage","connectFacebookPage","disconnectFacebookPage","deleteFacebookPage","makeOwnerFacebookPage","getFbData","getInstaData","setPreferences","useLocation","OwnerCheckbox","Swal","Row","Col","Image","Modal","Spinner","Form","Lottie","animationData","notFoundAnimationData","IoIosClose","IoIosMore","DISC_ICON","require","CONN_ICON","DELETE_ICON","USER_ICON","USER_MEMBER_ICON","INSTA_ICON","FB_ICON","PageCard","props","swalWithBootstrapButtons","mixin","customClass","confirmButton","buttonsStyling","defaultOptionsNotFound","loop","autoplay","rendererSettings","preserveAspectRatio","defaultOptions","location","fbHost","fbGraphData","setFbGraphData","instaGraphData","setInstaGraphData","showPopoverConnect","setShowPopoverConnect","loadingWhileConnecting","setLoadingWhileConnecting","showDisconnectModal","setShowDisconnectModal","showModalTeam","setShowModalTeam","selectedOwner","setSelectedOwner","ownerConfirmation","setOwnerConfirmation","showSpamPopover","setShowSpamPopover","spam","spamVar","setSpamVar","likesComment","likeVar","setLikeVar","delay","delayReply","setDelayReply","exactlySeconds","setExactlySeconds","exactlyMinutes","setExactlyMinutes","randomlyFromSeconds","setRandomlyFromSeconds","randomlyFromMinutes","setRandomlyFromMinutes","randomlyToSeconds","setRandomlyToSeconds","randomlyToMinutes","setRandomlyToMinutes","test","handleDisconnectModal","handleConnectPopover","handleSpamPopover","checkOwner","userData","JSON","parse","localStorage","getItem","found","admins","length","find","admin","idFacebook","user","role","selectNewOwner","firstName","lastName","idPage","confirmTheOwner","platform","then","catch","fire","title","confirmButtonText","resetModal","renderPopover","isConnectedPage","setLoadingPages","renderSpamPopover","console","log","height","borderColor","margin","e","target","value","socialMediaPageSelected","renderDisconnectModal","cursor","fontSize","picture","data","url","zIndex","marginTop","namePage","width","color","cursoir","map","member","Math","random","borderBottom","first_name","last_name","get","accessToken","res","err","status","backgroundColor","border","followers_count","fan_count","media_count","new_like_count","id","pathname","mapStateToProps","state","socialMediaR"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { connectInstagramPage, disconnectInstagramPage, deleteInstagramPage, makeOwnerInstagramPage, connectFacebookPage, disconnectFacebookPage,deleteFacebookPage, makeOwnerFacebookPage, getFbData, getInstaData, setPreferences } from '../../../redux/actions/socialMediaActions';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nimport OwnerCheckbox from './OwnerCheckbox';\r\n\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Image,\r\n    Modal,\r\n    Spinner,\r\n    Form,\r\n} from 'react-bootstrap';\r\nimport Lottie from 'react-lottie';\r\nimport animationData from '../../../assets/json/loadingSpinner.json';\r\nimport notFoundAnimationData from '../../../assets/json/not-found.json';\r\n\r\n\r\nimport { IoIosClose, IoIosMore } from 'react-icons/io';\r\nconst DISC_ICON = require('../../../assets/images/home/disconnected-icon.png');\r\nconst CONN_ICON = require('../../../assets/images/home/connected-icon.png');\r\nconst DELETE_ICON = require('../../../assets/images/home/delete_trash.png');\r\nconst USER_ICON = require('../../../assets/images/home/user.png');\r\nconst USER_MEMBER_ICON = require('../../../assets/images/home/page-card-member.png');\r\nconst INSTA_ICON = require('../../../assets/images/home/insta-icon.png');\r\nconst FB_ICON = require('../../../assets/images/home/fb-icon.png');\r\n\r\nfunction PageCard(props) {\r\n    /* \r\n        ALL PROPS {\r\n            platform={\"fb\"} \r\n            isConnectedPage={page.isConnected} \r\n            namePage={page.name} \r\n            idPage={page.idPage} \r\n            picture={null} \r\n            accessToken={page.access_token}\r\n            status={key}\r\n            spam={page.spam}\r\n            likesComment={page.likesComment}\r\n            delay={page.repsReplies.statut}\r\n        } \r\n    */\r\n\r\n   const swalWithBootstrapButtons = Swal.mixin({\r\n        customClass: {\r\n        confirmButton: 'wizard-pages-active-btn-alert',\r\n        },\r\n        buttonsStyling: false\r\n    });\r\n\r\n    const defaultOptionsNotFound = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: notFoundAnimationData,\r\n        rendererSettings: {\r\n        preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };  \r\n\r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: animationData,\r\n        rendererSettings: {\r\n          preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n\r\n    const location = useLocation();\r\n    const fbHost = \"https://graph.facebook.com/v8.0\";\r\n\r\n    const [fbGraphData,setFbGraphData] = useState(null);\r\n    const [instaGraphData,setInstaGraphData] = useState(null);\r\n    const [showPopoverConnect, setShowPopoverConnect] = useState(false);\r\n    const [loadingWhileConnecting, setLoadingWhileConnecting] = useState(false);\r\n    const [showDisconnectModal, setShowDisconnectModal] = useState(false);\r\n    const [showModalTeam,setShowModalTeam] = useState(false);\r\n    \r\n    const [selectedOwner, setSelectedOwner] = useState({});\r\n    const [ownerConfirmation, setOwnerConfirmation] = useState(null);\r\n    \r\n    // ANTI SPAM:\r\n    const [showSpamPopover, setShowSpamPopover] = useState(false);\r\n    const [spamVar, setSpamVar] = useState(props.spam);\r\n    const [likeVar, setLikeVar] = useState(props.likesComment);\r\n    const [delayReply, setDelayReply] = useState(props.delay);\r\n    const [exactlySeconds, setExactlySeconds] = useState(0);\r\n    const [exactlyMinutes, setExactlyMinutes] = useState(0);\r\n\r\n    const [randomlyFromSeconds, setRandomlyFromSeconds] = useState(0);\r\n    const [randomlyFromMinutes, setRandomlyFromMinutes] = useState(0);\r\n    const [randomlyToSeconds, setRandomlyToSeconds] = useState(0);\r\n    const [randomlyToMinutes, setRandomlyToMinutes] = useState(0);\r\n\r\n    const test = useRef(null);\r\n\r\n    const handleDisconnectModal = () => setShowDisconnectModal(!showDisconnectModal);\r\n\r\n    const handleConnectPopover = () =>  setShowPopoverConnect(!showPopoverConnect);\r\n\r\n    const handleSpamPopover = () => setShowSpamPopover(!showSpamPopover)\r\n\r\n    const checkOwner = () => {\r\n        let userData = JSON.parse(localStorage.getItem('userData'));\r\n        let found = null;\r\n        \r\n        if(props.admins.length > 0) {\r\n            found = props.admins.find(admin => admin.idFacebook === userData.user.idFacebook && admin.role === \"owner\")\r\n        };\r\n        return found;\r\n    };\r\n\r\n    const selectNewOwner = (idFacebook,firstName,lastName,idPage) => {\r\n        \r\n        if(selectedOwner.idFacebook === idFacebook) {\r\n            setSelectedOwner({});\r\n        } else {\r\n            // setSelectedOwner([idFacebook,`${firstName} ${lastName}`]);\r\n            setSelectedOwner({\r\n                idFacebook: idFacebook,\r\n                firstName: firstName,\r\n                lastName: lastName,\r\n                idPage: idPage,\r\n            });\r\n        }\r\n    };\r\n\r\n    const confirmTheOwner = () => {\r\n\r\n        // Mdoal reset \r\n        // setShowDisconnectModal(false);\r\n        // setShowModalTeam(false);\r\n        // setOwnerConfirmation(false);\r\n        // setSelectedOwner({});\r\n\r\n        if(selectedOwner.idFacebook && selectedOwner.idPage) {\r\n\r\n            if(props.platform === \"insta\") {\r\n                props.makeOwnerInstagramPage(selectedOwner.idPage,selectedOwner.idFacebook)\r\n                .then(() => {\r\n                    // Confirm the new Owner: \r\n                    setOwnerConfirmation(true);\r\n                })\r\n                .catch(() => {\r\n                    swalWithBootstrapButtons.fire({\r\n                        title: 'Connexion error with the server. Try again !',\r\n                        confirmButtonText: 'Okay',\r\n                    }); \r\n                });\r\n            } else {\r\n                props.makeOwnerFacebookPage(selectedOwner.idPage,selectedOwner.idFacebook)\r\n                .then(() => {\r\n                    // Confirm the new Owner: \r\n                    setOwnerConfirmation(true);\r\n                })\r\n                .catch(() => {\r\n                    swalWithBootstrapButtons.fire({\r\n                        title: 'Connexion error with the server. Try again !',\r\n                        confirmButtonText: 'Okay',\r\n                    }); \r\n                });\r\n            };\r\n\r\n        } else {\r\n           \r\n            swalWithBootstrapButtons.fire({\r\n                title: 'Please select a new owner !',\r\n                confirmButtonText: 'Okay',\r\n            }); \r\n        }\r\n\r\n        // props.platform === \"insta\" ? props.makeOwnerInstagramPage(idPage,member.idFacebook) : props.makeOwnerFacebookPage(idPage,member.idFacebook)\r\n    };\r\n    const resetModal = () => {\r\n        setShowDisconnectModal(false);\r\n        setShowModalTeam(false);\r\n        setOwnerConfirmation(false);\r\n        setSelectedOwner({});\r\n    };\r\n\r\n    // RENDERING METHODS: \r\n    const renderPopover = () => (\r\n        <div \r\n            className=\"page-card-connect-popover d-flex\"\r\n            onClick={() => {\r\n                    // Popup Config\r\n                    const swalWithBootstrapButtons = Swal.mixin({\r\n                        customClass: {\r\n                        confirmButton: 'wizard-pages-active-btn',\r\n                        },\r\n                        buttonsStyling: false\r\n                    });\r\n\r\n                    if(props.platform === \"insta\" && !props.isConnectedPage) {\r\n                        // Instagram \r\n                        setLoadingWhileConnecting(true);\r\n                        props.connectInstagramPage(props.idPage)\r\n                        .then(() => {\r\n                            setLoadingWhileConnecting(false);\r\n                            props.setLoadingPages(true);\r\n                            props.getInstaData()\r\n                            .then(() => props.setLoadingPages(false))\r\n                            .catch(() => {\r\n                                setLoadingWhileConnecting(false);\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'Error while getting instagram pages',\r\n                                    confirmButtonText: 'Retry',\r\n                                });\r\n                            });\r\n                        })\r\n                        .catch(() => {\r\n                            swalWithBootstrapButtons.fire({\r\n                                title: 'Error while connecting the instagram page',\r\n                                confirmButtonText: 'Retry',\r\n                            });\r\n                        });\r\n                    } else if(props.platform === \"fb\" && !props.isConnectedPage) {\r\n                        // Facebook\r\n                        setLoadingWhileConnecting(true);\r\n                        props.connectFacebookPage(props.idPage)\r\n                        .then(() => {\r\n                            setLoadingWhileConnecting(false);\r\n                            props.setLoadingPages(true);\r\n                            props.getFbData()\r\n                            .then(() => props.setLoadingPages(false))\r\n                            .catch(() => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'Error while getting facebook pages',\r\n                                    confirmButtonText: 'Retry',\r\n                                });\r\n                            });;\r\n                        }) \r\n                        .catch(() => {\r\n                            setLoadingWhileConnecting(false);\r\n                            swalWithBootstrapButtons.fire({\r\n                                title: 'Error while connecting the facebook page',\r\n                                confirmButtonText: 'Retry',\r\n                            });\r\n                        });\r\n                    } else {\r\n                        setShowDisconnectModal(true)\r\n                    }\r\n                    \r\n            }}\r\n        >\r\n            {loadingWhileConnecting \r\n            ?\r\n            (<div className=\"px-3\"><Spinner animation=\"border\" size=\"sm\" variant=\"primary\" className=\"spinnerRose\" /></div>)\r\n            :\r\n            (\r\n            props.isConnectedPage\r\n            ?\r\n            <p className=\"m-auto\">Disconnect</p>\r\n            :\r\n            <p className=\"m-auto\">Connect</p>\r\n            )\r\n            }\r\n        </div>\r\n    )\r\n\r\n    const renderSpamPopover = () => (\r\n        <div className=\"page-card-anti-spam-popover\">\r\n            <Row>\r\n                <Col lg={12} className=\"mb-2\">\r\n                    <div className=\"d-flex\" onClick={() =>  setSpamVar(!spamVar) }>\r\n                        <Form.Check \r\n                            type=\"switch\"\r\n                            id=\"custom-switch-1\"\r\n                            label=\"\"\r\n                            className=\"my-auto mr-2\"\r\n                            checked={spamVar}\r\n                            onChange={() => console.log(\"\")}\r\n\r\n                        />\r\n                        <p className=\"page-card-anti-spam-switch-label my-auto\">Anti Spam</p>\r\n                    </div>\r\n                </Col>\r\n\r\n                <Col lg={12} className=\"mb-2\">\r\n                    <div className=\"d-flex\" onClick={() => setLikeVar(!likeVar) }>\r\n                        <Form.Check \r\n                            type=\"switch\"\r\n                            id=\"custom-switch-2\"\r\n                            label=\"\"\r\n                            className=\"my-auto mr-2\"\r\n                            checked={likeVar}\r\n                            onChange={() => console.log(\"\")}\r\n\r\n                        />\r\n                        <p className=\"page-card-anti-spam-switch-label my-auto\">Like matched replies</p>\r\n                    </div>\r\n                </Col>\r\n                \r\n                <Col lg={12} className=\"mb-1\">\r\n                    <p className=\"page-card-anti-spam-small-text mb-1\">Delay before replying</p>\r\n                    <hr style={{height: '2px', borderColor: '#B4B4B4', margin: 0, }} />\r\n                </Col>\r\n\r\n                <Col lg={12} className=\"mb-2\">\r\n                    <div className=\"d-flex\" onClick={() => setDelayReply('immediatly')}>\r\n                        <Form.Check \r\n                            type=\"checkbox\"\r\n                            // id=\"custom-checkbox-1\"\r\n                            className=\"my-auto mr-1\"\r\n                            checked={delayReply === \"immediatly\"}\r\n                            onChange={() => console.log(\"\")}\r\n\r\n                        />\r\n                        <p className=\"page-card-anti-spam-checkbox-label my-auto\">Immediatly</p>\r\n                    </div>\r\n                </Col>\r\n                \r\n                <Col lg={12} className=\"mb-2\">\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"d-flex\" onClick={() => setDelayReply('Exactly')}>\r\n                            <Form.Check \r\n                                type=\"checkbox\"\r\n                                id=\"custom-checkbox-2\"\r\n                                className=\"my-auto mr-1\"\r\n                                checked={delayReply === \"Exactly\"}\r\n                                onChange={() => console.log(\"\")}\r\n                            />\r\n                            <p className=\"page-card-anti-spam-checkbox-label my-auto\">Exactly after</p>\r\n                        </div>\r\n\r\n                        <div className=\"d-flex\">\r\n                            <Form.Control \r\n                                type={\"number\"} \r\n                                id=\"page-card-anti-spam-input\"\r\n                                onChange={(e) => setExactlyMinutes(e.target.value)} \r\n                                defaultValue={exactlyMinutes} \r\n                                placeholder={\"0\"}\r\n                                className=\"my-auto\"\r\n                            /> \r\n                            <p className=\"page-card-anti-spam-unity my-auto mx-1\">m</p>\r\n\r\n                            <Form.Control \r\n                                type={\"number\"} \r\n                                id=\"page-card-anti-spam-input\"\r\n                                onChange={(e) => e.target.value > 0 && setExactlySeconds(e.target.value)} \r\n                                value={exactlySeconds} \r\n                                placeholder={\"0\"}\r\n                                className=\"my-auto mr-1\"\r\n                            /> \r\n                            <p className=\"page-card-anti-spam-unity my-auto ml-1\">s</p>\r\n                        </div>\r\n                    </div>\r\n                </Col>\r\n               \r\n                <Col lg={12} className=\"mb-2\">\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"d-flex\" onClick={() => setDelayReply('Randomly')}>\r\n                            <Form.Check \r\n                                type=\"checkbox\"\r\n                                id=\"custom-checkbox-2\"\r\n                                className=\"my-auto mr-1\"\r\n                                checked={delayReply === \"Randomly\"}\r\n                            />\r\n                            <p className=\"page-card-anti-spam-checkbox-label my-auto\">Randomly</p>\r\n                        </div>\r\n\r\n                        <div className=\"d-flex\">\r\n                            <p className=\"page-card-anti-spam-checkbox-label my-auto mr-2\">From</p>\r\n                            <Form.Control \r\n                                type={\"number\"} \r\n                                id=\"page-card-anti-spam-input\"\r\n                                onChange={(e) => e.target.value > 0 && setRandomlyFromMinutes(e.target.value)} \r\n                                value={randomlyFromMinutes}  \r\n                                placeholder={\"0\"}\r\n                                className=\"my-auto\"\r\n                            /> \r\n                            <p className=\"page-card-anti-spam-unity my-auto mx-1\">m</p>\r\n\r\n                            <Form.Control \r\n                                type={\"number\"} \r\n                                id=\"page-card-anti-spam-input\"\r\n                                onChange={(e) => e.target.value > 0 && setRandomlyFromSeconds(e.target.value)} \r\n                                value={randomlyFromSeconds} \r\n                                placeholder={\"0\"}\r\n                                className=\"my-auto mr-1\"\r\n                            /> \r\n                            <p className=\"page-card-anti-spam-unity my-auto ml-1\">s</p>\r\n                        </div>\r\n                    </div>\r\n                </Col>\r\n                \r\n                <Col lg={12} className=\"mb-2 d-flex\" >\r\n                    <div className=\"d-flex ml-auto\">\r\n                        <p className=\"page-card-anti-spam-checkbox-label my-auto mr-2\">To</p>\r\n                        <Form.Control \r\n                            type={\"number\"} \r\n                            id=\"page-card-anti-spam-input\"\r\n                            onChange={(e) => e.target.value > 0 && setRandomlyToMinutes(e.target.value)} \r\n                            value={randomlyToMinutes}  \r\n                            placeholder={\"0\"}\r\n                            className=\"my-auto\"\r\n                        /> \r\n                        <p className=\"page-card-anti-spam-unity my-auto mx-1\">m</p>\r\n\r\n                        <Form.Control \r\n                            type={\"number\"} \r\n                            id=\"page-card-anti-spam-input\"\r\n                            onChange={(e) => e.target.value > 0 && setRandomlyToSeconds(e.target.value)} \r\n                            value={randomlyToSeconds} \r\n                            placeholder={\"0\"}\r\n                            className=\"my-auto mr-1\"\r\n                        /> \r\n                        <p className=\"page-card-anti-spam-unity my-auto ml-1\">s</p>\r\n                    </div>\r\n                </Col>\r\n\r\n                <Col lg={12} className=\"mb-3 d-flex\">\r\n                    <div className=\"page-card-anti-spam-save-btn p-2 ml-auto\" onClick={() => props.setPreferences(spamVar,likeVar,delayReply,props.socialMediaPageSelected)}>\r\n                        Save \r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </div>\r\n    ); \r\n    \r\n    const renderDisconnectModal = (idPage) => (\r\n        <Modal show={showDisconnectModal} onHide={handleDisconnectModal} size=\"lg\" centered >\r\n            <div className=\"d-flex flex-column\">\r\n                \r\n                {!showModalTeam\r\n                &&\r\n                <IoIosClose className=\"ml-auto mr-3 mt-2\" color={'#9F9F9F'} size={'28'} onClick={resetModal} style={{cursor: 'pointer'}} />\r\n                }\r\n                \r\n                {showModalTeam\r\n                &&\r\n                <Modal.Header>\r\n                    <Col lg={12}>\r\n                        <Row className=\"justify-content-between d-flex\">\r\n                            <p className=\"my-auto page-card-modal-small-title\" style={{fontSize: '17px'}}>Make Owner</p>\r\n                            <IoIosClose className=\"my-auto\" color={'#9F9F9F'} size={'28'} onClick={resetModal} style={{cursor: 'pointer'}} />\r\n                        </Row>\r\n                    </Col>\r\n                </Modal.Header>\r\n                }\r\n\r\n                <Modal.Body>\r\n                    {!showModalTeam \r\n                    &&\r\n                    <>\r\n                    <Row className=\"d-flex\">\r\n                        <Col className=\"d-flex flex-column m-auto\">\r\n                            {\r\n                                props.picture !== null\r\n                                ?\r\n                                <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                                :\r\n                                fbGraphData !== null \r\n                                ?\r\n                                <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                                :\r\n                                <Lottie options={defaultOptions} width={150} />\r\n                            }\r\n                                \r\n                            <div className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                                <Col lg={6} />\r\n\r\n                                <Col lg={6}>\r\n                                    <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"m-auto\" />\r\n                                </Col>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <Row className=\"d-flex mb-3 mt-3\">\r\n                        <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n                    </Row>\r\n                    </>\r\n                    }\r\n\r\n                    {!showModalTeam\r\n                    ? \r\n                    <Row className=\"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\">\r\n                        <Col lg={2} />\r\n\r\n                        <Col lg={5} className=\"d-flex\">\r\n\r\n                            <div className=\"d-flex flex-column mr-auto\" onClick={() => setShowModalTeam(true)}>\r\n                                <div className=\"page-card-modal-small-box m-auto d-flex\">\r\n                                    <Image src={USER_ICON} className=\"m-auto\"  style={{ width: '25px'}} />\r\n                                </div>\r\n                                <p className=\"page-card-modal-small-title mx-auto mt-2\">Make Owner</p>\r\n                            </div>\r\n                            \r\n                            {/* Disconnect Na7awha faj2atan */}\r\n                            {/* <div \r\n                                className=\"d-flex flex-column m-auto\" \r\n                                style={{cursor: 'pointer'}} \r\n                                onClick={() => { \r\n                                        // Popup Config:\r\n                                        const swalWithBootstrapButtons = Swal.mixin({\r\n                                            customClass: {\r\n                                            confirmButton: 'wizard-pages-active-btn',\r\n                                            },\r\n                                            buttonsStyling: false\r\n                                        });\r\n                \r\n                                        if(props.platform === \"insta\") {\r\n                                            props.disconnectInstagramPage(idPage)\r\n                                            .then(() => {\r\n                                                props.setLoadingPages(true);\r\n                                                setShowDisconnectModal(false);\r\n                                                props.getInstaData()\r\n                                                .then(() => props.setLoadingPages(false))\r\n                                                .catch(() => {\r\n                                                    swalWithBootstrapButtons.fire({\r\n                                                        title: 'Error while getting instagram pages',\r\n                                                        confirmButtonText: 'Retry',\r\n                                                    });\r\n                                                    }\r\n                                                );\r\n                                            })\r\n                                            .catch(() => {\r\n                                                swalWithBootstrapButtons.fire({\r\n                                                    title: 'Error while disconnecting the instagram page',\r\n                                                    confirmButtonText: 'Retry',\r\n                                                });\r\n                                            });\r\n                                        } else {\r\n                                            props.disconnectFacebookPage(idPage)\r\n                                            .then(() => {\r\n                                                props.setLoadingPages(true);\r\n                                                setShowDisconnectModal(false);\r\n                                                props.getFbData()\r\n                                                .then(() => props.setLoadingPages(false))\r\n                                                .catch(() => {\r\n                                                    swalWithBootstrapButtons.fire({\r\n                                                        title: 'Error while getting facebook pages',\r\n                                                        confirmButtonText: 'Retry',\r\n                                                    });\r\n                                                });\r\n                                            })\r\n                                            .catch(() => {\r\n                                                swalWithBootstrapButtons.fire({\r\n                                                    title: 'Error while disconnecting the facebook page',\r\n                                                    confirmButtonText: 'Retry',\r\n                                                });\r\n                                            });\r\n                                        };\r\n                                    }\r\n                                } \r\n\r\n                            >\r\n                                <div className=\"page-card-modal-small-box m-auto d-flex\">\r\n                                    <Image src={DISC_ICON} className=\"m-auto\" style={{ width: '23px'}} />\r\n                                </div>\r\n                                <p className=\"page-card-modal-small-title mx-auto mt-2\">Disconnect</p>\r\n                            </div>\r\n                             */}\r\n                            \r\n                            {/* DELETE */}\r\n                            <div \r\n                                className=\"d-flex flex-column ml-auto\" \r\n                                style={{cursor: 'pointer'}} \r\n                                onClick={() => {\r\n                                        const swalWithBootstrapButtons = Swal.mixin({\r\n                                            customClass: {\r\n                                            confirmButton: 'wizard-pages-active-btn',\r\n                                            },\r\n                                            buttonsStyling: false\r\n                                        });\r\n                                        \r\n                                        if(props.platform === \"insta\") {\r\n                                            props.deleteInstagramPage(idPage)\r\n                                            .then(() => {\r\n                                                setShowDisconnectModal(false);\r\n                                                props.setLoadingPages(true);\r\n                                                props.getInstaData()\r\n                                                .then(() => {\r\n                                                    props.setLoadingPages(false)\r\n                                                })\r\n                                                .catch(() => {\r\n                                                    swalWithBootstrapButtons.fire({\r\n                                                        title: 'Error while getting instagram pages',\r\n                                                        confirmButtonText: 'Retry',\r\n                                                    });\r\n                                                });\r\n\r\n                                            })\r\n                                            .catch(() => {  \r\n                                                swalWithBootstrapButtons.fire({\r\n                                                    title: 'Error while deleting the instagram page',\r\n                                                    confirmButtonText: 'Retry',\r\n                                                });\r\n\r\n                                            });\r\n                                            \r\n                                        } else {\r\n                                            props.deleteFacebookPage(idPage)\r\n                                            .then(() => {\r\n                                                setShowDisconnectModal(false);\r\n                                                props.setLoadingPages(true);\r\n                                                props.getFbData()\r\n                                                .then(() => {\r\n                                                    props.setLoadingPages(false);\r\n                                                })\r\n                                                .catch(() => {\r\n                                                    swalWithBootstrapButtons.fire({\r\n                                                        title: 'Error while getting facebook pages',\r\n                                                        confirmButtonText: 'Retry',\r\n                                                    });\r\n\r\n                                                });\r\n                                            })\r\n                                            .catch(() => {\r\n                                                swalWithBootstrapButtons.fire({\r\n                                                    title: 'Error while deleting the facebook page',\r\n                                                    confirmButtonText: 'Retry',\r\n                                                });\r\n                                            });\r\n                                        };\r\n                                    }\r\n                                } \r\n                            >\r\n                                <div className=\"page-card-modal-small-box m-auto d-flex\">\r\n                                    <Image src={DELETE_ICON} className=\"m-auto\" style={{ width: '23px'}} />\r\n                                </div>\r\n                                <p className=\"page-card-modal-small-title mx-auto mt-2\">Delete</p>\r\n                            </div> \r\n\r\n                        </Col>\r\n\r\n                        <Col lg={2} />\r\n                    </Row>  \r\n                    :\r\n                    <Row className=\"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\">\r\n                        <Col lg={1} />\r\n\r\n                        <Col lg={10} className=\"d-flex flex-column\">\r\n\r\n                            {ownerConfirmation\r\n                            ?\r\n                                (\r\n                                    <>\r\n                                        <Row className=\"justify-content-center mb-3\">\r\n                                            <Col lg={12} className=\"d-flex\">\r\n                                                <p className=\"page-card-modal-small-title m-auto\" style={{ color: '#E5007D', fontSize: '17px' }}>{selectedOwner.firstName} {selectedOwner.lastName}</p>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row className=\"justify-content-center mb-3\">\r\n                                            <Col lg={12} className=\"d-flex\">\r\n                                                <p className=\"page-card-modal-small-title m-auto\">is now the new Owner of</p>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row className=\"d-flex\">\r\n                                            <Col className=\"d-flex flex-column m-auto\">\r\n                                                {\r\n                                                    props.picture !== null\r\n                                                    ?\r\n                                                    <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                                                    :\r\n                                                    fbGraphData !== null \r\n                                                    ?\r\n                                                    <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                                                    :\r\n                                                    <Lottie options={defaultOptions} width={150} />\r\n                                                }\r\n                                                    \r\n                                                <div className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                                                    <Col lg={6} />\r\n\r\n                                                    <Col lg={6}>\r\n                                                        <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"m-auto\" />\r\n                                                    </Col>\r\n                                                </div>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row className=\"d-flex mb-3 mt-3\">\r\n                                            <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n                                        </Row>\r\n\r\n                                        <Row className=\"justify-content-center mb-3\">\r\n                                            <div className=\"wizard-pages-active-btn py-2 px-3\" style={{cursoir: 'pointer'}} onClick={resetModal}>\r\n                                                Close\r\n                                            </div>\r\n                                        </Row>\r\n                                    </>\r\n                                )\r\n                            :\r\n                                (\r\n                                    <>\r\n                                    <Row className=\"justify-content-center mb-3\">\r\n                                        <Col lg={12} className=\"d-flex\">\r\n                                            <p className=\"page-card-modal-small-title m-auto\">Select one team admin to make it the new Owner.</p>\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                    <Row className=\"justify-content-center mb-1\">\r\n                                        <Col lg={10}>\r\n                                            {props.admins.length > 0\r\n                                            ? \r\n                                                (\r\n                                                    props.admins.map(member => (\r\n                                                        <>\r\n                                                            <Row \r\n                                                                key={member.idFacebook+Math.random()} \r\n                                                                className=\"justify-content-between py-3\" \r\n                                                                // onClick={() => props.platform === \"insta\" ? props.makeOwnerInstagramPage(idPage,member.idFacebook) : props.makeOwnerFacebookPage(idPage,member.idFacebook)}\r\n                                                                style={{borderBottom: '1px solid #EBEDF0'}}\r\n                                                            >   \r\n                                                                <div className=\"d-flex\">\r\n                                                                    <p className=\"m-auto page-card-owner-name\">{member.first_name} {member.last_name}</p>\r\n                                                                </div>\r\n\r\n                                                                <div \r\n                                                                    className=\"d-flex\" \r\n                                                                    onClick={() => member.role !== \"owner\" ? selectNewOwner(member.idFacebook, member.first_name, member.last_name,idPage) : null}\r\n                                                                >   \r\n                                                                    {member.role === \"owner\" \r\n                                                                    ?\r\n                                                                    <p className=\"page-card-modal-small-title m-auto\" style={{ color: '#E4E6EB' }}>Owner Already !</p>\r\n                                                                    :\r\n                                                                    <OwnerCheckbox checked={selectedOwner.idFacebook === member.idFacebook} className={\"m-auto\"} />\r\n                                                                    }\r\n                                                                </div>\r\n                                                            </Row>\r\n                                                        </>\r\n                                                    ))\r\n                                                )\r\n                                            :\r\n                                                (\r\n                                                    <Row>\r\n                                                        <Col lg={12}  className=\"d-flex\">\r\n                                                            <Lottie options={defaultOptionsNotFound} width={200} className=\"m-auto\" /*height={400}*/ />\r\n                                                        </Col>\r\n\r\n                                                        <Col lg={12}  className=\"d-flex\">\r\n                                                            <p className=\"m-auto page-card-modal-small-title\">\r\n                                                                Sorry ! You don't have any team member.\r\n                                                            </p>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                )\r\n\r\n                                            }\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                    <Row className=\"justify-content-center mt-2\">\r\n                                        <Col lg={12} >\r\n                                            <Row className=\"justify-content-between\">\r\n                                                <div className=\"wizard-pages-inactive-btn py-2 px-3\" style={{cursor: 'pointer'}} onClick={() => setShowModalTeam(false)}>\r\n                                                    Back\r\n                                                </div>\r\n\r\n                                                <div className=\"wizard-pages-active-btn py-2 px-3\" style={{cursoir: 'pointer'}} onClick={() => confirmTheOwner()}>\r\n                                                    Next\r\n                                                </div>\r\n                                            </Row>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    </>                                    \r\n                                )\r\n                            }\r\n                        </Col>\r\n\r\n                        <Col lg={1} />\r\n                    </Row>           \r\n                    }\r\n\r\n                </Modal.Body>\r\n            </div>\r\n            \r\n        </Modal>\r\n    );\r\n\r\n    useEffect(() => {\r\n        if(props.platform === \"fb\") {\r\n            axios.get(`${fbHost}/${props.idPage}/?fields=fan_count,picture,new_like_count&access_token=${props.accessToken}`)\r\n                .then(res => { setFbGraphData(res.data); })\r\n                .catch(err => { console.log(\"PageCardFb\",(err)) })\r\n            } else {\r\n            // INSTA\r\n            axios.get(`${fbHost}/${props.idPage}/?fields=id,media,followers_count,media_count,profile_picture_url,username,name&access_token=${props.accessToken}`)\r\n                .then(res => { setInstaGraphData(res.data); })\r\n                .catch(err => { console.log(\"PageCard Insta\",(err)) })\r\n        };\r\n    }, [])\r\n\r\n    return (\r\n        /* card grisé */\r\n        props.status === \"listPageConnectedOtherTeam\" \r\n        ?\r\n        <div \r\n            key={props.idPage + Math.random()} \r\n            className=\"pages-card m-1\" \r\n            style={{ backgroundColor: \"#ECEDF0\", border:\"0\"}}\r\n        >   \r\n            <Row className=\"d-flex\">\r\n                <Col className=\"d-flex flex-column\">\r\n                    {\r\n                        props.picture !== null\r\n                        ?\r\n                        <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        fbGraphData !== null \r\n                        ?\r\n                        <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        <Lottie options={defaultOptions} width={150} />\r\n                    }\r\n                        \r\n                    <div className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                        <Col lg={6} />\r\n\r\n                        <Col lg={6}>\r\n                            <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"m-auto\" />\r\n                        </Col>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mb-3 mt-3\">\r\n                <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex\" className=\"page-card-disabled-title-container\">\r\n                <p className=\"m-auto page-card-disabled-title\">This page is managed by another team</p>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mt-3\">\r\n                <Row className=\"m-auto justify-content-between\">    \r\n                    <Col lg={6}>\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{instaGraphData.followers_count}</p>\r\n                                :\r\n                                fbGraphData !== null \r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{fbGraphData.fan_count}</p>\r\n                                :\r\n                                    <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex\" >\r\n                                <p className=\"mx-auto pages-card-desc-2\">Total Fans</p>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col lg={6} className=\"p-0\">\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{instaGraphData.media_count}</p>\r\n                                :\r\n                                fbGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{fbGraphData.new_like_count}</p>\r\n                                :\r\n                                    <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex p-0\">\r\n                                {\r\n                                props.platform === \"fb\"\r\n                                ?\r\n                                <p  className=\"mx-auto pages-card-desc-2\">Total Interactions</p>\r\n                                :\r\n                                <p  className=\"mx-auto pages-card-desc-2\">Posts</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Row>\r\n        </div>\r\n        :\r\n        <div \r\n            key={props.idPage + Math.random()} \r\n            className={props.socialMediaPageSelected && props.socialMediaPageSelected.id === props.idPage ? \"pages-card-active ml-1\" : \"pages-card m-1\"} \r\n            style={{\r\n                backgroundColor: \"white\",\r\n                border: \r\n                    props.status === \"listPageConnectedOwner\" \r\n                    ? \r\n                    \"2px solid #E5007D\" \r\n                    : \r\n                    props.status === \"listPageInvite\" \r\n                    ?\r\n                    \"2px solid #139216\"\r\n                    : \r\n                    props.status === \"listPageInviteAdmin\" \r\n                    ?\r\n                    \"2px solid #199EE3\" \r\n                    :\r\n                    \"1px solid #B4B4B4\"\r\n            }}\r\n        >\r\n            {/* Disconnect Modal */}\r\n            {renderDisconnectModal(props.idPage)}\r\n   \r\n            {/* Connect / Disconnect popover */}\r\n            {showPopoverConnect && renderPopover()}\r\n            \r\n            {showSpamPopover && renderSpamPopover()}\r\n\r\n            {\r\n            location.pathname === \"/home/pages\" && \r\n            !props.isConnectedPage\r\n            ?\r\n            <Row className=\"d-flex\">\r\n                <Image \r\n                    src={DISC_ICON}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"mr-auto\" \r\n                    fluid \r\n                    onClick={handleConnectPopover}\r\n                />\r\n                {/* <IoIosMore \r\n                    size={18}\r\n                    color={\"#b4b4b4\"}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"ml-auto\"\r\n                    onClick={handleSpamPopover}\r\n                /> */}\r\n            </Row>\r\n            :\r\n            location.pathname === \"/home/pages\" && \r\n            props.isConnectedPage && \r\n            checkOwner() \r\n            ? \r\n            <Row className=\"d-flex\">\r\n                <Image \r\n                    src={CONN_ICON}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"mr-auto\" \r\n                    fluid \r\n                    onClick={handleConnectPopover}\r\n                />\r\n                <IoIosMore \r\n                    size={21}\r\n                    color={\"#b4b4b4\"}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"ml-auto\"\r\n                    onClick={handleSpamPopover}\r\n                />\r\n            </Row>\r\n            :\r\n            location.pathname === \"/home/pages\" &&\r\n            <Row className=\"d-flex\">\r\n                <Image \r\n                    src={USER_MEMBER_ICON}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"mr-auto\" \r\n                    fluid \r\n                    // onClick={handleConnectPopover}\r\n                />\r\n            </Row>\r\n            }\r\n                \r\n            <Row className=\"d-flex\">\r\n                <Col className=\"d-flex flex-column\">\r\n                    {\r\n                        props.picture !== null\r\n                        ?\r\n                        <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        fbGraphData !== null \r\n                        ?\r\n                        <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        <Lottie options={defaultOptions} width={150} />\r\n                    }\r\n                        \r\n                    <Row className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                        <Col lg={6} />\r\n                        \r\n\r\n                        <Col lg={6} className=\"d-flex\">\r\n                            <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"mr-auto\" />\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mb-3 mt-3\">\r\n                <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mt-3\">\r\n                <Row className=\"m-auto justify-content-between\">    \r\n                    <Col lg={6}>\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{instaGraphData.followers_count}</p>\r\n                                :\r\n                                fbGraphData !== null \r\n                                ?\r\n                                <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{fbGraphData.fan_count}</p>\r\n                                :\r\n                                <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex\" >\r\n                                <p className=\"mx-auto pages-card-desc-2\">Total Fans</p>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col lg={6} className=\"p-0\">\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{instaGraphData.media_count}</p>\r\n                                :\r\n                                fbGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '30px'}}>{fbGraphData.new_like_count}</p>\r\n                                :\r\n                                    <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex p-0\">\r\n                                {\r\n                                props.platform === \"fb\"\r\n                                ?\r\n                                <p  className=\"mx-auto pages-card-desc-2\">Total Interactions</p>\r\n                                :\r\n                                <p  className=\"mx-auto pages-card-desc-2\">Posts</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Row>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        socialMediaPageSelected : state.socialMediaR.socialMediaPageSelected,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { connectInstagramPage,disconnectInstagramPage,deleteInstagramPage,makeOwnerInstagramPage, connectFacebookPage, disconnectFacebookPage, deleteFacebookPage, makeOwnerFacebookPage, getFbData, getInstaData, setPreferences })(PageCard);\r\n"]},"metadata":{},"sourceType":"module"}