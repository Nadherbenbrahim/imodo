{"ast":null,"code":"import axios from 'axios';\nimport { host, trainAgentHost } from '../../config'; // Step 4 train agent:\n\nexport const testAgent = (msg, intentType, selectedPage, selectedPost) => {\n  return dispatch => {\n    // Object to send\n    let message = {\n      message: {\n        text: msg\n      },\n      idPost: intentType === \"generic\" ? selectedPage.id : selectedPost.id\n    };\n    console.log(\"Test agent to send ya nadher\", message);\n    return axios.post(host + `/api/v1/secure/logEvent/test/wizard`, message, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      console.log('testAgent post APi Response =>', res.data.data);\n      dispatch({\n        type: 'RECEIVE_MSG_STEP_4',\n        payload: res.data.data\n      });\n    }).catch(err => console.log(\"testAgent post Api error  =>\", err));\n  };\n};\nexport const trainAgentPost = (selectedIntents, idProject) => {\n  return dispatch => {\n    let intentsToStr = '';\n    let entitiesToStr = '';\n    selectedIntents.map(async intent => {\n      intentsToStr += `${intent.name},`;\n\n      if (intent.products.length > 0) {\n        await intent.products.map(product => entitiesToStr += `${product.product},`);\n      }\n    });\n    let objectToNlp = {\n      intents: intentsToStr.slice(0, -1),\n      entiti: entitiesToStr.slice(0, -1),\n      idProject: idProject\n    };\n    console.log(\"Send Train agent Post to nadher =>\", objectToNlp);\n    return axios.post(trainAgentHost + `/trainagentpos`, objectToNlp, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      console.log('Train Agent Post =>', res.data);\n    }).catch(err => console.log(\"ERRRROOOOR while train agent Post =>\", err));\n  };\n};\nexport const trainAgentPage = (selectedIntents, idProject) => {\n  return dispatch => {\n    let intentsToStr = '';\n    let entitiesToStr = '';\n    selectedIntents.map(async intent => {\n      intentsToStr += `${intent.name},`;\n\n      if (intent.products.length > 0) {\n        await intent.products.map(product => entitiesToStr += `${product.product},`);\n      }\n    });\n    let objectToNlp = {\n      intents: intentsToStr.slice(0, -1),\n      entiti: entitiesToStr.slice(0, -1),\n      idProject: idProject\n    };\n    console.log(\"Train agent page to nadher =>\", objectToNlp);\n    return axios.post(trainAgentHost + `/trainagentpag`, objectToNlp, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      console.log('Train Agent Page =>', res.data);\n    }).catch(err => console.log(\"ERRRROOOOR while train agent page =>\", err));\n  };\n}; // Step 3: config agent :\n\nexport const resetStep3Wizard = () => {\n  return dispatch => {\n    dispatch({\n      type: 'RESET_STEP_3'\n    });\n  };\n};\nexport const resetWizardPostSelected = () => {\n  return dispatch => {\n    dispatch({\n      type: 'RESET_WIZARD_POST'\n    });\n  };\n};\nexport const resetWizardPageSelected = () => {\n  return dispatch => {\n    dispatch({\n      type: 'RESET_WIZARD_PAGE'\n    });\n  };\n};\nexport const getExistingProject = idProject => {\n  return dispatch => {\n    return axios.get(host + `/api/v1/secure/project/get/project/${idProject}`, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      console.log('getExistingProject response redux =>', res.data.data);\n\n      if (res.data.data[0].intents.length > 0) {\n        dispatch({\n          type: 'IS_EXISTING_PROJECT',\n          payload: res.data.data[0],\n          payload1: res.data.data[0].intents\n        });\n      }\n    }).catch(err => console.log(\"ERRRROOOOR while getExistingProject =>\", err));\n  };\n};\nexport const addGenericResponse = (project, idproject) => {\n  return dispatch => {\n    return axios.put(host + `/api/v1/secure/project/generiqueadd/${idproject}`, project, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      console.log('addReponseGeneric Redux =>', res.data);\n    }).catch(err => console.log(\"AddGenericResponse errorrr\", err));\n  };\n};\nexport const updateGenericResponse = (project, idproject) => {\n  return dispatch => {\n    return axios.put(host + `/api/v1/secure/project/generiqueupdate/${idproject}`, project, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => console.log('updateReponseGeneric redux ', res.data)).catch(err => console.log(\"Update GenericResponse err\", err));\n  };\n};\nexport const addProject = (wizardSelectedPage, wizardSelectedPost) => {\n  return dispatch => {\n    let post;\n\n    if (wizardSelectedPage.platform === \"instagram\") {\n      post = {\n        post: {\n          idPage: wizardSelectedPage.id,\n          name: wizardSelectedPage.name,\n          typePage: wizardSelectedPage.platform,\n          idPost: wizardSelectedPost !== null ? wizardSelectedPost.idPost : [],\n          picture: wizardSelectedPost !== null ? wizardSelectedPost.picture : null,\n          message: wizardSelectedPost !== null ? wizardSelectedPost.message : null,\n          status: wizardSelectedPost !== null ? wizardSelectedPost.type : null,\n          published: wizardSelectedPost !== null ? wizardSelectedPost.created_time : null\n        }\n      };\n    } else {\n      post = {\n        post: {\n          idPage: wizardSelectedPage.id,\n          name: wizardSelectedPage.name,\n          typePage: wizardSelectedPage.platform,\n          idPost: wizardSelectedPost !== null ? wizardSelectedPost.id : [],\n          picture: wizardSelectedPost !== null ? wizardSelectedPost.picture : null,\n          message: wizardSelectedPost !== null ? wizardSelectedPost.message : null,\n          status: wizardSelectedPost !== null ? wizardSelectedPost.type : null,\n          published: wizardSelectedPost !== null ? wizardSelectedPost.created_time : null\n        }\n      };\n    }\n\n    return axios.post(host + `/api/v1/secure/project/add`, post, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      console.log('project added his id is =>', res.data.data);\n      dispatch({\n        type: 'ADD_ID_PROJECT',\n        payload: res.data.data\n      });\n    }).catch(err => {\n      console.log(\"addProject action\", err);\n    });\n  };\n};\nexport const getAllIntents = intentType => {\n  return dispatch => {\n    return axios.get(host + (intentType === \"generic\" ? `/api/v1/intent/generiqueintent/all` : `/api/v1/intent/defaulintent/all`), {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      // console.log(`get ${intentType} intents`, res.data.data);\n      let obj = [];\n      let newData = {};\n\n      for (let i = 0; i < res.data.data.length; i++) {\n        obj = {\n          [res.data.data[i]['intent']]: {\n            id: res.data.data[i]['id'],\n            name: res.data.data[i]['intent'],\n            date: res.data.data[i]['date']\n          }\n        };\n        newData = { ...newData,\n          ...obj\n        };\n      }\n\n      ;\n      /*\r\n           if u want full intent object send newData :D \r\n          // console.log(\"Hey new data filtered :D\", newData);\r\n      */\n\n      dispatch({\n        type: 'GET_ALL_WIZARD_INTENTS',\n        payload: Object.keys(newData)\n      });\n    }).catch(err => console.log(\"Get all intents action\", err));\n  };\n};\nexport const getWizardActivePosts = wizardPage => {\n  return dispatch => {\n    return axios.get(host + `/api/v1/secure/project/get/activeproject/${wizardPage.id}`, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      // console.log(\"active posts ya nour\", res.data.data);\n      if (res.data.data !== \"project not found\") {\n        dispatch({\n          type: 'GET_WIZARD_ACTIVE_POSTS',\n          payload: res.data.data\n        });\n      }\n    }).catch(err => console.log(\"getWizardPagesPosts \", err));\n  };\n};\nexport const getWizardPagesPosts = wizardPage => {\n  return dispatch => {\n    return axios.get(host + `/api/v1/secure/post/get/${wizardPage.id}/${wizardPage.platform}/all`, {\n      headers: {\n        'authorization': 'Bearer ' + localStorage.getItem('authtoken')\n      }\n    }).then(res => {\n      // console.log(\"posts ya haaaaaiiderrr\",res.data.data);\n      res.data.data.sort(function (a, b) {\n        return new Date(Date.parse(b.created_time)) - new Date(Date.parse(a.created_time));\n      }); // console.log(\"Final\", toSort);\n\n      dispatch({\n        type: 'GET_WIZARD_PAGE_POSTS',\n        payload: res.data.data\n      });\n    }).catch(err => console.log(\"getWizardPagesPosts \", err));\n  };\n};\nexport const setWizardSelectedPost = post => {\n  return async dispatch => {\n    dispatch({\n      type: 'SELECT_WIZARD_POST',\n      payload: post\n    });\n  };\n};\nexport const setWizardIntentType = (intentType, navigation) => {\n  return async dispatch => {\n    dispatch({\n      type: 'SELECT_WIZARD_INTENT_TYPE',\n      payload: intentType\n    });\n    navigation.push('/home/auto-wizard');\n  };\n};\nexport const setWizardSelectedPage = (platform, pageName, picture, idPage, accessToken, status) => {\n  return async dispatch => {\n    const selectedPage = {\n      platform: platform === \"insta\" ? \"instagram\" : \"facebook\",\n      name: pageName,\n      picture_url: picture !== null ? picture : `https://graph.facebook.com/v8.0/${idPage}/picture?access_token=${accessToken}`,\n      id: idPage,\n      accessToken: accessToken,\n      status: status\n    };\n    dispatch({\n      type: 'SELECT_WIZARD_PAGE',\n      payload: selectedPage\n    });\n  };\n};\nexport const resetStep4ReceivedMsg = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'RECEIVE_MSG_STEP_4',\n      payload: null\n    });\n  };\n};\nexport const nextSpecificWizardStep = step => {\n  return async dispatch => {\n    dispatch({\n      type: 'NEXT_SPECIFIC_WIZARD_STEP',\n      payload: step\n    });\n  };\n};\nexport const nextWizardStep = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'NEXT_WIZARD_STEP'\n    });\n  };\n};\nexport const prevWizardStep = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'PREV_WIZARD_STEP'\n    });\n  };\n};\nexport const resetWizardStep = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'RESET_WIZARD_STEP'\n    });\n  };\n};\nexport const resetَAllWizard = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'RESET_ALL_WIZARD'\n    });\n  };\n};","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/redux/actions/wizardActions.js"],"names":["axios","host","trainAgentHost","testAgent","msg","intentType","selectedPage","selectedPost","dispatch","message","text","idPost","id","console","log","post","headers","localStorage","getItem","then","res","data","type","payload","catch","err","trainAgentPost","selectedIntents","idProject","intentsToStr","entitiesToStr","map","intent","name","products","length","product","objectToNlp","intents","slice","entiti","trainAgentPage","resetStep3Wizard","resetWizardPostSelected","resetWizardPageSelected","getExistingProject","get","payload1","addGenericResponse","project","idproject","put","updateGenericResponse","addProject","wizardSelectedPage","wizardSelectedPost","platform","idPage","typePage","picture","status","published","created_time","getAllIntents","obj","newData","i","date","Object","keys","getWizardActivePosts","wizardPage","getWizardPagesPosts","sort","a","b","Date","parse","setWizardSelectedPost","setWizardIntentType","navigation","push","setWizardSelectedPage","pageName","accessToken","picture_url","resetStep4ReceivedMsg","nextSpecificWizardStep","step","nextWizardStep","prevWizardStep","resetWizardStep","resetَAllWizard"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { host,trainAgentHost } from '../../config';\r\n\r\n\r\n// Step 4 train agent:\r\nexport const testAgent = (msg,intentType,selectedPage,selectedPost) => {\r\n    return (dispatch) => {\r\n        \r\n        // Object to send\r\n        let message = {\r\n            message: { text: msg},\r\n            idPost: intentType === \"generic\" ? selectedPage.id : selectedPost.id,\r\n        };\r\n\r\n        console.log(\"Test agent to send ya nadher\", message);\r\n\r\n       \r\n        return axios.post(host + `/api/v1/secure/logEvent/test/wizard`,message,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('testAgent post APi Response =>', res.data.data);\r\n\r\n            dispatch({\r\n                type: 'RECEIVE_MSG_STEP_4',\r\n                payload: res.data.data,\r\n            });\r\n        })\r\n        .catch((err) => console.log(\"testAgent post Api error  =>\", err) )\r\n    }\r\n};\r\n\r\nexport const trainAgentPost = (selectedIntents,idProject) => {\r\n    return (dispatch) => {\r\n        let intentsToStr = ''; \r\n        let entitiesToStr= '';\r\n\r\n        selectedIntents.map( async (intent) => {\r\n            intentsToStr += `${intent.name},`\r\n            if(intent.products.length > 0) {\r\n                await intent.products.map((product) => \r\n                    entitiesToStr += `${product.product},`\r\n                );\r\n            }\r\n        });\r\n\r\n        let objectToNlp = {\r\n            intents: intentsToStr.slice(0,-1),\r\n            entiti: entitiesToStr.slice(0,-1),\r\n            idProject: idProject,\r\n        }  \r\n        console.log(\"Send Train agent Post to nadher =>\", objectToNlp);\r\n\r\n        return axios.post(trainAgentHost + `/trainagentpos`,objectToNlp,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n               console.log('Train Agent Post =>', res.data)\r\n                \r\n        }).catch((err) => console.log(\"ERRRROOOOR while train agent Post =>\", err) )\r\n    }\r\n};\r\n\r\nexport const trainAgentPage = (selectedIntents,idProject) => {\r\n    return (dispatch) => {\r\n        let intentsToStr = ''; \r\n        let entitiesToStr= '';\r\n\r\n        selectedIntents.map( async (intent) => {\r\n            intentsToStr += `${intent.name},`\r\n            if(intent.products.length > 0) {\r\n                await intent.products.map((product) => \r\n                    entitiesToStr += `${product.product},`\r\n                );\r\n            }\r\n        });\r\n\r\n        let objectToNlp = {\r\n            intents:  intentsToStr.slice(0,-1),\r\n            entiti: entitiesToStr.slice(0,-1),\r\n            idProject: idProject,\r\n        }\r\n\r\n        console.log(\"Train agent page to nadher =>\", objectToNlp);\r\n\r\n        return axios.post(trainAgentHost + `/trainagentpag`,objectToNlp,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('Train Agent Page =>', res.data) \r\n        }).catch((err) => console.log(\"ERRRROOOOR while train agent page =>\", err) )\r\n    }\r\n};\r\n\r\n\r\n// Step 3: config agent :\r\nexport const resetStep3Wizard = () => {\r\n    return (dispatch) => {\r\n        dispatch({ type: 'RESET_STEP_3' });\r\n    }\r\n};\r\n\r\nexport const resetWizardPostSelected = () => {\r\n    return (dispatch) => {\r\n        dispatch({ type: 'RESET_WIZARD_POST' });\r\n    }\r\n};\r\n\r\nexport const resetWizardPageSelected = () => {\r\n    return (dispatch) => {\r\n        dispatch({ type: 'RESET_WIZARD_PAGE' });\r\n    }\r\n};\r\n\r\nexport const getExistingProject = (idProject) => {\r\n    return (dispatch) => {\r\n        return axios.get(host + `/api/v1/secure/project/get/project/${idProject}`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('getExistingProject response redux =>', res.data.data);\r\n\r\n            if(res.data.data[0].intents.length > 0) {\r\n                dispatch({\r\n                    type: 'IS_EXISTING_PROJECT',\r\n                    payload: res.data.data[0],\r\n                    payload1: res.data.data[0].intents,\r\n                });\r\n            }\r\n        })\r\n        .catch(err => console.log(\"ERRRROOOOR while getExistingProject =>\", err))\r\n    }\r\n};\r\n\r\n\r\nexport const addGenericResponse = (project, idproject) => {\r\n    return (dispatch) => {\r\n       \r\n        return axios.put(host + `/api/v1/secure/project/generiqueadd/${idproject}`, project, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {  console.log('addReponseGeneric Redux =>', res.data) })\r\n        .catch((err) => console.log(\"AddGenericResponse errorrr\", err))\r\n    }\r\n};\r\n\r\nexport const updateGenericResponse = (project, idproject) => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.put(host + `/api/v1/secure/project/generiqueupdate/${idproject}`, project, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => console.log('updateReponseGeneric redux ', res.data))\r\n        .catch((err) => console.log(\"Update GenericResponse err\", err))\r\n    }\r\n};\r\n\r\nexport const addProject = (wizardSelectedPage,wizardSelectedPost) => {\r\n    return (dispatch) => {\r\n\r\n        let post;\r\n\r\n        if(wizardSelectedPage.platform === \"instagram\") {\r\n            post = {\r\n                post : {\r\n                    idPage: wizardSelectedPage.id,\r\n                    name: wizardSelectedPage.name,\r\n                    typePage: wizardSelectedPage.platform,\r\n                    idPost: wizardSelectedPost !== null ? wizardSelectedPost.idPost : [],\r\n                    picture: wizardSelectedPost !== null ? wizardSelectedPost.picture : null,\r\n                    message: wizardSelectedPost !== null ? wizardSelectedPost.message : null,\r\n                    status: wizardSelectedPost !== null ? wizardSelectedPost.type : null,\r\n                    published: wizardSelectedPost !== null ? wizardSelectedPost.created_time : null,\r\n\r\n                }\r\n            };\r\n        } else {\r\n                post = {\r\n                    post : {\r\n                        idPage: wizardSelectedPage.id,\r\n                        name: wizardSelectedPage.name,\r\n                        typePage: wizardSelectedPage.platform,\r\n                        idPost: wizardSelectedPost !== null ? wizardSelectedPost.id : [],\r\n                        picture: wizardSelectedPost !== null ? wizardSelectedPost.picture : null,\r\n                        message: wizardSelectedPost !== null ? wizardSelectedPost.message : null,\r\n                        status: wizardSelectedPost !== null ? wizardSelectedPost.type : null,\r\n                        published: wizardSelectedPost !== null ? wizardSelectedPost.created_time : null,\r\n                    }\r\n                };\r\n        }\r\n\r\n        return axios.post(host + `/api/v1/secure/project/add`,post,{\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            console.log('project added his id is =>', res.data.data);\r\n\r\n            dispatch({\r\n                type: 'ADD_ID_PROJECT',\r\n                payload: res.data.data\r\n            })\r\n        }).catch(err => {\r\n            console.log(\"addProject action\", err);\r\n        })\r\n    }\r\n};\r\n\r\nexport const getAllIntents = (intentType) => {\r\n    return (dispatch) => {\r\n        \r\n        return axios.get(host + (intentType === \"generic\" ? `/api/v1/intent/generiqueintent/all` : `/api/v1/intent/defaulintent/all`), {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n            .then(res => {\r\n                // console.log(`get ${intentType} intents`, res.data.data);\r\n\r\n                let obj = [];\r\n                let newData = {}\r\n\r\n                for (let i = 0; i < res.data.data.length; i++) {\r\n                    obj = {\r\n                      [res.data.data[i]['intent']]: {\r\n                          id: res.data.data[i]['id'],\r\n                          name: res.data.data[i]['intent'],\r\n                          date: res.data.data[i]['date']\r\n                      }\r\n                    }\r\n                    newData = { ...newData, ...obj }\r\n                };\r\n\r\n                /*\r\n                     if u want full intent object send newData :D \r\n                    // console.log(\"Hey new data filtered :D\", newData);\r\n                */\r\n\r\n                dispatch({\r\n                    type: 'GET_ALL_WIZARD_INTENTS',\r\n                    payload: Object.keys(newData)\r\n                })\r\n               \r\n            }).catch((err) => console.log(\"Get all intents action\", err))\r\n    }\r\n};\r\n\r\nexport const getWizardActivePosts = (wizardPage) => {\r\n    return (dispatch) => {\r\n\r\n        return axios.get(host + `/api/v1/secure/project/get/activeproject/${wizardPage.id}`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log(\"active posts ya nour\", res.data.data);\r\n            \r\n            if(res.data.data !== \"project not found\") {\r\n                dispatch({\r\n                    type: 'GET_WIZARD_ACTIVE_POSTS',\r\n                    payload: res.data.data\r\n                });\r\n            }\r\n        }).catch((err) => console.log(\"getWizardPagesPosts \", err))\r\n    }\r\n};\r\n\r\nexport const getWizardPagesPosts = (wizardPage) => {\r\n    return (dispatch) => {\r\n\r\n        return axios.get(host + `/api/v1/secure/post/get/${wizardPage.id}/${wizardPage.platform}/all`, {\r\n            headers: {\r\n                'authorization': 'Bearer ' + localStorage.getItem('authtoken')\r\n            }\r\n        })\r\n        .then(res => {\r\n            // console.log(\"posts ya haaaaaiiderrr\",res.data.data);\r\n\r\n            res.data.data.sort(function(a,b){ return new Date(Date.parse(b.created_time)) - new Date(Date.parse(a.created_time)) });\r\n\r\n            // console.log(\"Final\", toSort);\r\n\r\n            dispatch({\r\n                type: 'GET_WIZARD_PAGE_POSTS',\r\n                payload: res.data.data\r\n            })\r\n        }).catch((err) => console.log(\"getWizardPagesPosts \", err))\r\n    }\r\n};\r\n\r\nexport const setWizardSelectedPost = (post) => {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'SELECT_WIZARD_POST', \r\n            payload: post,\r\n        });\r\n    }\r\n};\r\n\r\nexport const setWizardIntentType = (intentType,navigation) => {\r\n    return async (dispatch) => {\r\n\r\n        dispatch({\r\n            type: 'SELECT_WIZARD_INTENT_TYPE', \r\n            payload: intentType,\r\n        });\r\n        navigation.push('/home/auto-wizard')\r\n    }\r\n};\r\n\r\nexport const setWizardSelectedPage = (platform,pageName,picture,idPage,accessToken,status) => {\r\n    return async (dispatch) => {\r\n\r\n        const selectedPage = {\r\n            platform: platform === \"insta\" ? \"instagram\" : \"facebook\",\r\n            name: pageName,\r\n            picture_url : picture !== null ? picture : `https://graph.facebook.com/v8.0/${idPage}/picture?access_token=${accessToken}`,\r\n            id: idPage,\r\n            accessToken: accessToken,\r\n            status: status\r\n        };\r\n\r\n        dispatch({\r\n            type: 'SELECT_WIZARD_PAGE', \r\n            payload: selectedPage,\r\n        });\r\n    }\r\n};\r\n\r\n\r\n\r\nexport const resetStep4ReceivedMsg = () => {\r\n    return async (dispatch) => {\r\n        dispatch({\r\n            type: 'RECEIVE_MSG_STEP_4',\r\n            payload: null,\r\n        });\r\n    };\r\n};\r\n\r\nexport const nextSpecificWizardStep = (step) => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: 'NEXT_SPECIFIC_WIZARD_STEP',payload: step });\r\n    }\r\n};\r\n\r\nexport const nextWizardStep = () => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: 'NEXT_WIZARD_STEP' });\r\n    }\r\n};\r\n\r\nexport const prevWizardStep = () => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: 'PREV_WIZARD_STEP' });\r\n    }\r\n};\r\n\r\nexport const resetWizardStep = () => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: 'RESET_WIZARD_STEP' });\r\n    }\r\n};\r\n\r\nexport const resetَAllWizard = () => {\r\n    return async (dispatch) => {\r\n        dispatch({ type: 'RESET_ALL_WIZARD' });\r\n    }\r\n};\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}