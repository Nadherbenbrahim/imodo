{"ast":null,"code":"var _jsxFileName = \"/usr/work/smart_front_oussema/src/app/Home/Pages/PageCard.js\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { connectInstagramPage, disconnectInstagramPage, deleteInstagramPage, makeOwnerInstagramPage, connectFacebookPage, disconnectFacebookPage, deleteFacebookPage, makeOwnerFacebookPage, getFbData, getInstaData } from '../../../redux/actions/socialMediaActions';\nimport { useLocation } from 'react-router-dom';\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\nimport { Row, Col, Image, Modal, Spinner } from 'react-bootstrap';\nimport Lottie from 'react-lottie';\nimport animationData from '../../../assets/json/loadingSpinner.json';\nimport { IoIosClose } from 'react-icons/io';\n\nconst DISC_ICON = require('../../../assets/images/home/disconnected-icon.png');\n\nconst CONN_ICON = require('../../../assets/images/home/connected-icon.png');\n\nconst DELETE_ICON = require('../../../assets/images/home/delete_trash.png');\n\nconst USER_ICON = require('../../../assets/images/home/user.png');\n\nconst USER_MEMBER_ICON = require('../../../assets/images/home/page-card-member.png');\n\nconst INSTA_ICON = require('../../../assets/images/home/insta-icon.png');\n\nconst FB_ICON = require('../../../assets/images/home/fb-icon.png');\n\nfunction PageCard(props) {\n  /* \r\n      ALL PROPS {\r\n          platform={\"fb\"} \r\n          isConnectedPage={page.isConnected} \r\n          namePage={page.name} \r\n          idPage={page.idPage} \r\n          picture={null} \r\n          accessToken={page.access_token}\r\n          status={key}\r\n      } \r\n  */\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice'\n    }\n  };\n  const location = useLocation();\n  const fbHost = \"https://graph.facebook.com/v8.0\";\n  const [fbGraphData, setFbGraphData] = useState(null);\n  const [instaGraphData, setInstaGraphData] = useState(null);\n  const [showPopoverConnect, setShowPopoverConnect] = useState(false);\n  const [loadingWhileConnecting, setLoadingWhileConnecting] = useState(false);\n  const [showDisconnectModal, setShowDisconnectModal] = useState(false);\n  const [showModalTeam, setShowModalTeam] = useState(false);\n\n  const handleDisconnectModal = () => setShowDisconnectModal(!showDisconnectModal);\n\n  const handleConnectPopover = () => setShowPopoverConnect(!showPopoverConnect);\n\n  const checkOwner = () => {\n    let userData = JSON.parse(localStorage.getItem('userData'));\n    let found = null; // search id facebook du user: userData.user.idFacebook in props.admins :\n\n    if (props.admins.length > 0) {\n      found = props.admins.find(admin => admin.idFacebook === userData.user.idFacebook && admin.role === \"owner\");\n    }\n\n    ;\n    return found;\n  };\n\n  const renderPopover = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-card-connect-popover d-flex\",\n    onClick: () => {\n      if (props.platform === \"insta\" && !props.isConnectedPage) {\n        const swalWithBootstrapButtons = Swal.mixin({\n          customClass: {\n            confirmButton: 'wizard-pages-active-btn'\n          },\n          buttonsStyling: false\n        });\n        setLoadingWhileConnecting(true);\n        props.connectInstagramPage(props.idPage).then(() => {\n          setLoadingWhileConnecting(false);\n          props.setLoadingPages(true);\n          props.getInstaData().then(() => props.setLoadingPages(false)).catch(() => {\n            swalWithBootstrapButtons.fire({\n              title: 'Error while getting instagram pages',\n              confirmButtonText: 'Retry'\n            });\n          });\n        }).catch(() => {\n          swalWithBootstrapButtons.fire({\n            title: 'Error while connecting the instagram page',\n            confirmButtonText: 'Retry'\n          });\n        });\n        setTimeout(() => {\n          props.setLoadingPages(false);\n        }, 3000);\n      } else if (props.platform === \"insta\" && props.isConnectedPage) {\n        setShowDisconnectModal(true);\n      } else if (props.platform === \"fb\" && !props.isConnectedPage) {\n        const swalWithBootstrapButtons = Swal.mixin({\n          customClass: {\n            confirmButton: 'wizard-pages-active-btn'\n          },\n          buttonsStyling: false\n        });\n        setLoadingWhileConnecting(true);\n        props.connectFacebookPage(props.idPage).then(() => {\n          setLoadingWhileConnecting(false);\n          props.setLoadingPages(true);\n          props.getFbData().then(() => props.setLoadingPages(false)).catch(() => {\n            swalWithBootstrapButtons.fire({\n              title: 'Error while getting facebook pages',\n              confirmButtonText: 'Retry'\n            });\n          });\n          ;\n        }).catch(() => {\n          swalWithBootstrapButtons.fire({\n            title: 'Error while connecting the facebook page',\n            confirmButtonText: 'Retry'\n          });\n        });\n      } else {\n        setShowDisconnectModal(true);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, loadingWhileConnecting ? /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    variant: \"primary\",\n    className: \"spinnerRose\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 18\n    }\n  }) : props.isConnectedPage ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, \"Disconnect\") : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, \"Connect\"));\n\n  const renderDisconnectModal = idPage => /*#__PURE__*/React.createElement(Modal, {\n    show: showDisconnectModal,\n    onHide: handleDisconnectModal,\n    size: \"lg\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IoIosClose, {\n    className: \"ml-auto mr-3 mt-2\",\n    color: '#9F9F9F',\n    size: '28',\n    onClick: handleDisconnectModal,\n    style: {\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"d-flex flex-column m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 25\n    }\n  }, props.picture !== null ? /*#__PURE__*/React.createElement(Image, {\n    src: props.picture,\n    fluid: true,\n    className: \"m-auto pages-card-profile-picture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 33\n    }\n  }) : fbGraphData !== null ? /*#__PURE__*/React.createElement(Image, {\n    src: fbGraphData.picture.data.url,\n    fluid: true,\n    className: \"m-auto pages-card-profile-picture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(Lottie, {\n    options: defaultOptions,\n    width: 150,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    style: {\n      zIndex: 1,\n      marginTop: '-20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    lg: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: props.platform === \"fb\" ? FB_ICON : INSTA_ICON,\n    fluid: true,\n    className: \"m-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 37\n    }\n  }))))), /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex mb-3 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"m-auto pages-card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 25\n    }\n  }, props.namePage)), !showModalTeam ? /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    lg: 8,\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column mr-auto\",\n    onClick: () => setShowModalTeam(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-card-modal-small-box m-auto d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: USER_ICON,\n    className: \"m-auto\",\n    style: {\n      width: '25px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"page-card-modal-small-title mx-auto mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 33\n    }\n  }, \"Make Owner\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column m-auto\",\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: () => {\n      if (props.platform === \"insta\") {\n        props.disconnectInstagramPage(idPage);\n        props.setLoadingPages(true);\n        props.getInstaData();\n        setShowModalTeam(false);\n        setShowDisconnectModal(false);\n        setTimeout(() => {\n          props.setLoadingPages(false);\n        }, 3000);\n      } else {\n        props.disconnectFacebookPage(idPage);\n        props.setLoadingPages(true);\n        props.getFbData();\n        setShowModalTeam(false);\n        setShowDisconnectModal(false);\n        setTimeout(() => {\n          props.setLoadingPages(false);\n        }, 3000);\n      }\n\n      ;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-card-modal-small-box m-auto d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: DISC_ICON,\n    className: \"m-auto\",\n    style: {\n      width: '23px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"page-card-modal-small-title mx-auto mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 33\n    }\n  }, \"Disconnect\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex flex-column ml-auto\",\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: () => {\n      props.platform === \"insta\" ? props.deleteInstagramPage(idPage) : props.deleteFacebookPage(idPage);\n\n      if (props.platform === \"insta\") {\n        props.deleteInstagramPage(idPage);\n        props.setLoadingPages(true);\n        props.getInstaData();\n        setShowModalTeam(false);\n        setShowDisconnectModal(false);\n        setTimeout(() => {\n          props.setLoadingPages(false);\n        }, 3000);\n      } else {\n        props.deleteFacebookPage(idPage);\n        props.setLoadingPages(true);\n        props.getFbData();\n        setShowModalTeam(false);\n        setShowDisconnectModal(false);\n        setTimeout(() => {\n          props.setLoadingPages(false);\n        }, 3000);\n      }\n\n      ;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-card-modal-small-box m-auto d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: DELETE_ICON,\n    className: \"m-auto\",\n    style: {\n      width: '23px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"page-card-modal-small-title mx-auto mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 33\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 25\n    }\n  })) : /*#__PURE__*/React.createElement(Row, {\n    className: \"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    lg: 8,\n    className: \"d-flex flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 25\n    }\n  }, props.admins.length > 0 ? props.admins.map(member => /*#__PURE__*/React.createElement(\"div\", {\n    key: member.idFacebook + Math.random(),\n    onClick: () => props.platform === \"insta\" ? props.makeOwnerInstagramPage(idPage, member.idFacebook) : props.makeOwnerFacebookPage(idPage, member.idFacebook),\n    style: {\n      border: '1px solid black',\n      cursor: 'pointer'\n    },\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 37\n    }\n  }, member.first_name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 37\n    }\n  }, member.last_name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 37\n    }\n  }, member.idFacebook))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 29\n    }\n  }, \"No team for this page\")), /*#__PURE__*/React.createElement(Col, {\n    lg: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 25\n    }\n  })))));\n\n  useEffect(() => {\n    if (props.platform === \"fb\") {\n      axios.get(`${fbHost}/${props.idPage}/?fields=fan_count,picture,new_like_count&access_token=${props.accessToken}`).then(res => {\n        setFbGraphData(res.data);\n      }).catch(err => {\n        console.log(\"PageCardFb\", err);\n      });\n    } else {\n      // INSTA\n      axios.get(`${fbHost}/${props.idPage}/?fields=id,media,followers_count,media_count,profile_picture_url,username,name&access_token=${props.accessToken}`).then(res => {\n        setInstaGraphData(res.data);\n      }).catch(err => {\n        console.log(\"PageCard Insta\", err);\n      });\n    }\n\n    ;\n  }, []);\n  return (\n    /* card grisé */\n    props.status === \"listPageConnectedOtherTeam\" ? /*#__PURE__*/React.createElement(\"div\", {\n      key: props.idPage + Math.random(),\n      className: \"pages-card m-1\",\n      style: {\n        backgroundColor: \"#ECEDF0\",\n        border: \"0\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"d-flex flex-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }\n    }, props.picture !== null ? /*#__PURE__*/React.createElement(Image, {\n      src: props.picture,\n      fluid: true,\n      className: \"m-auto pages-card-profile-picture\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 25\n      }\n    }) : fbGraphData !== null ? /*#__PURE__*/React.createElement(Image, {\n      src: fbGraphData.picture.data.url,\n      fluid: true,\n      className: \"m-auto pages-card-profile-picture\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(Lottie, {\n      options: defaultOptions,\n      width: 150,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      style: {\n        zIndex: 1,\n        marginTop: '-20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: props.platform === \"fb\" ? FB_ICON : INSTA_ICON,\n      fluid: true,\n      className: \"m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 29\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex mb-3 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 17\n      }\n    }, props.namePage)), /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex\",\n      className: \"page-card-disabled-title-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto page-card-disabled-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 17\n      }\n    }, \"This page is managed by another team\")), /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"m-auto justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 12,\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 29\n      }\n    }, instaGraphData !== null ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-title\",\n      style: {\n        fontSize: '35px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 33\n      }\n    }, instaGraphData.followers_count) : fbGraphData !== null ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-title\",\n      style: {\n        fontSize: '35px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 37\n      }\n    }, fbGraphData.fan_count) : /*#__PURE__*/React.createElement(Lottie, {\n      options: defaultOptions,\n      width: 100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      lg: 12,\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-desc-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 33\n      }\n    }, \"Fans\")))), /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 12,\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 29\n      }\n    }, instaGraphData !== null ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-title\",\n      style: {\n        fontSize: '35px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 37\n      }\n    }, instaGraphData.media_count) : fbGraphData !== null ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-title\",\n      style: {\n        fontSize: '35px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 37\n      }\n    }, fbGraphData.new_like_count) : /*#__PURE__*/React.createElement(Lottie, {\n      options: defaultOptions,\n      width: 100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      lg: 12,\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 29\n      }\n    }, props.platform === \"fb\" ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-desc-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 33\n      }\n    }, \"Interactions\") : /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-desc-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 33\n      }\n    }, \"Posts\"))))))) : /*#__PURE__*/React.createElement(\"div\", {\n      key: props.idPage + Math.random(),\n      className: \"pages-card m-3\",\n      style: {\n        backgroundColor: \"white\",\n        border: props.status === \"listPageConnectedOwner\" ? \"2px solid #E5007D\" : props.status === \"listPageInvite\" ? \"2px solid #139216\" : props.status === \"listPageInviteAdmin\" ? \"2px solid #199EE3\" : \"0\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }\n    }, renderDisconnectModal(props.idPage), showPopoverConnect && renderPopover(), location.pathname === \"/home/pages\" && !props.isConnectedPage ? /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: DISC_ICON,\n      style: {\n        cursor: 'pointer'\n      },\n      className: \"mr-auto\",\n      fluid: true,\n      onClick: handleConnectPopover,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 17\n      }\n    })) : location.pathname === \"/home/pages\" && props.isConnectedPage && checkOwner() ? /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: CONN_ICON,\n      style: {\n        cursor: 'pointer'\n      },\n      className: \"mr-auto\",\n      fluid: true,\n      onClick: handleConnectPopover,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 17\n      }\n    })) : location.pathname === \"/home/pages\" && /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: USER_MEMBER_ICON,\n      style: {\n        cursor: 'pointer'\n      },\n      className: \"mr-auto\",\n      fluid: true // onClick={handleConnectPopover}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      className: \"d-flex flex-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 17\n      }\n    }, props.picture !== null ? /*#__PURE__*/React.createElement(Image, {\n      src: props.picture,\n      fluid: true,\n      className: \"m-auto pages-card-profile-picture\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 25\n      }\n    }) : fbGraphData !== null ? /*#__PURE__*/React.createElement(Image, {\n      src: fbGraphData.picture.data.url,\n      fluid: true,\n      className: \"m-auto pages-card-profile-picture\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(Lottie, {\n      options: defaultOptions,\n      width: 150,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      style: {\n        zIndex: 1,\n        marginTop: '-20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: props.platform === \"fb\" ? FB_ICON : INSTA_ICON,\n      fluid: true,\n      className: \"m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 29\n      }\n    }))))), /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex mb-3 mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 17\n      }\n    }, props.namePage)), /*#__PURE__*/React.createElement(Row, {\n      className: \"d-flex mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"m-auto justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 12,\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 29\n      }\n    }, instaGraphData !== null ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-title\",\n      style: {\n        fontSize: '35px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 33\n      }\n    }, instaGraphData.followers_count) : fbGraphData !== null ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-title\",\n      style: {\n        fontSize: '35px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 37\n      }\n    }, fbGraphData.fan_count) : /*#__PURE__*/React.createElement(Lottie, {\n      options: defaultOptions,\n      width: 100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      lg: 12,\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-desc-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 33\n      }\n    }, \"Fans\")))), /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 12,\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 29\n      }\n    }, instaGraphData !== null ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-title\",\n      style: {\n        fontSize: '35px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 37\n      }\n    }, instaGraphData.media_count) : fbGraphData !== null ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-title\",\n      style: {\n        fontSize: '35px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 37\n      }\n    }, fbGraphData.new_like_count) : /*#__PURE__*/React.createElement(Lottie, {\n      options: defaultOptions,\n      width: 100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      lg: 12,\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 29\n      }\n    }, props.platform === \"fb\" ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-desc-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 33\n      }\n    }, \"Interactions\") : /*#__PURE__*/React.createElement(\"p\", {\n      className: \"m-auto pages-card-desc-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 33\n      }\n    }, \"Posts\")))))))\n  );\n}\n\n;\n\nconst mapStateToProps = state => {\n  return {\n    socialMediaPageSelected: state.socialMediaR.socialMediaPageSelected\n  };\n};\n\nexport default connect(mapStateToProps, {\n  connectInstagramPage,\n  disconnectInstagramPage,\n  deleteInstagramPage,\n  makeOwnerInstagramPage,\n  connectFacebookPage,\n  disconnectFacebookPage,\n  deleteFacebookPage,\n  makeOwnerFacebookPage,\n  getFbData,\n  getInstaData\n})(PageCard);","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/app/Home/Pages/PageCard.js"],"names":["React","useEffect","useState","useRef","axios","connect","connectInstagramPage","disconnectInstagramPage","deleteInstagramPage","makeOwnerInstagramPage","connectFacebookPage","disconnectFacebookPage","deleteFacebookPage","makeOwnerFacebookPage","getFbData","getInstaData","useLocation","Swal","Row","Col","Image","Modal","Spinner","Lottie","animationData","IoIosClose","DISC_ICON","require","CONN_ICON","DELETE_ICON","USER_ICON","USER_MEMBER_ICON","INSTA_ICON","FB_ICON","PageCard","props","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","location","fbHost","fbGraphData","setFbGraphData","instaGraphData","setInstaGraphData","showPopoverConnect","setShowPopoverConnect","loadingWhileConnecting","setLoadingWhileConnecting","showDisconnectModal","setShowDisconnectModal","showModalTeam","setShowModalTeam","handleDisconnectModal","handleConnectPopover","checkOwner","userData","JSON","parse","localStorage","getItem","found","admins","length","find","admin","idFacebook","user","role","renderPopover","platform","isConnectedPage","swalWithBootstrapButtons","mixin","customClass","confirmButton","buttonsStyling","idPage","then","setLoadingPages","catch","fire","title","confirmButtonText","setTimeout","renderDisconnectModal","cursor","picture","data","url","zIndex","marginTop","namePage","width","map","member","Math","random","border","first_name","last_name","get","accessToken","res","err","console","log","status","backgroundColor","fontSize","followers_count","fan_count","media_count","new_like_count","pathname","mapStateToProps","state","socialMediaPageSelected","socialMediaR"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { connectInstagramPage, disconnectInstagramPage, deleteInstagramPage, makeOwnerInstagramPage, connectFacebookPage, disconnectFacebookPage,deleteFacebookPage, makeOwnerFacebookPage, getFbData, getInstaData } from '../../../redux/actions/socialMediaActions';\r\nimport { useLocation } from 'react-router-dom';\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js';\r\n\r\nimport {\r\n    Row,\r\n    Col,\r\n    Image,\r\n    Modal,\r\n    Spinner,\r\n} from 'react-bootstrap';\r\nimport Lottie from 'react-lottie';\r\nimport animationData from '../../../assets/json/loadingSpinner.json';\r\n\r\n\r\nimport { IoIosClose } from 'react-icons/io';\r\nconst DISC_ICON = require('../../../assets/images/home/disconnected-icon.png');\r\nconst CONN_ICON = require('../../../assets/images/home/connected-icon.png');\r\nconst DELETE_ICON = require('../../../assets/images/home/delete_trash.png');\r\nconst USER_ICON = require('../../../assets/images/home/user.png');\r\nconst USER_MEMBER_ICON = require('../../../assets/images/home/page-card-member.png');\r\nconst INSTA_ICON = require('../../../assets/images/home/insta-icon.png');\r\nconst FB_ICON = require('../../../assets/images/home/fb-icon.png');\r\n\r\nfunction PageCard(props) {\r\n    /* \r\n        ALL PROPS {\r\n            platform={\"fb\"} \r\n            isConnectedPage={page.isConnected} \r\n            namePage={page.name} \r\n            idPage={page.idPage} \r\n            picture={null} \r\n            accessToken={page.access_token}\r\n            status={key}\r\n        } \r\n    */\r\n\r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true, \r\n        animationData: animationData,\r\n        rendererSettings: {\r\n          preserveAspectRatio: 'xMidYMid slice'\r\n        }\r\n    };\r\n    const location = useLocation();\r\n    const fbHost = \"https://graph.facebook.com/v8.0\";\r\n\r\n    const [fbGraphData,setFbGraphData] = useState(null);\r\n    const [instaGraphData,setInstaGraphData] = useState(null);\r\n    const [showPopoverConnect, setShowPopoverConnect] = useState(false);\r\n    const [loadingWhileConnecting, setLoadingWhileConnecting] = useState(false);\r\n    const [showDisconnectModal, setShowDisconnectModal] = useState(false);\r\n    const [showModalTeam,setShowModalTeam] = useState(false);\r\n\r\n    const handleDisconnectModal = () => setShowDisconnectModal(!showDisconnectModal);\r\n\r\n    const handleConnectPopover = () =>  setShowPopoverConnect(!showPopoverConnect);\r\n\r\n    const checkOwner = () => {\r\n        let userData = JSON.parse(localStorage.getItem('userData'));\r\n        let found = null;\r\n        // search id facebook du user: userData.user.idFacebook in props.admins :\r\n        \r\n        if(props.admins.length > 0) {\r\n            found = props.admins.find(admin => admin.idFacebook === userData.user.idFacebook && admin.role === \"owner\")\r\n        };\r\n        return found;\r\n    };\r\n\r\n    const renderPopover = () => (\r\n        <div \r\n            className=\"page-card-connect-popover d-flex\"\r\n            onClick={() => {\r\n\r\n                    if(props.platform === \"insta\" && !props.isConnectedPage) {\r\n                        const swalWithBootstrapButtons = Swal.mixin({\r\n                            customClass: {\r\n                              confirmButton: 'wizard-pages-active-btn',\r\n                            },\r\n                            buttonsStyling: false\r\n                        });\r\n\r\n                        setLoadingWhileConnecting(true);\r\n\r\n                        props.connectInstagramPage(props.idPage)\r\n                        .then(() => {\r\n                            setLoadingWhileConnecting(false);\r\n                            props.setLoadingPages(true);\r\n                            props.getInstaData()\r\n                            .then(() => props.setLoadingPages(false))\r\n                            .catch(() => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'Error while getting instagram pages',\r\n                                    confirmButtonText: 'Retry',\r\n                                });\r\n                            });\r\n                        })\r\n                        .catch(() => {\r\n                            swalWithBootstrapButtons.fire({\r\n                                title: 'Error while connecting the instagram page',\r\n                                confirmButtonText: 'Retry',\r\n                            });\r\n                        });\r\n                       \r\n                        setTimeout(() => {\r\n                            props.setLoadingPages(false)\r\n                        },3000);\r\n                    } else if (props.platform === \"insta\" && props.isConnectedPage) {\r\n                        setShowDisconnectModal(true)\r\n                    } else if(props.platform === \"fb\" && !props.isConnectedPage) {\r\n                        const swalWithBootstrapButtons = Swal.mixin({\r\n                            customClass: {\r\n                            confirmButton: 'wizard-pages-active-btn',\r\n                            },\r\n                            buttonsStyling: false\r\n                        });\r\n\r\n                        setLoadingWhileConnecting(true);\r\n                        props.connectFacebookPage(props.idPage)\r\n                        .then(() => {\r\n                            setLoadingWhileConnecting(false);\r\n                            props.setLoadingPages(true);\r\n                            props.getFbData()\r\n                            .then(() => props.setLoadingPages(false))\r\n                            .catch(() => {\r\n                                swalWithBootstrapButtons.fire({\r\n                                    title: 'Error while getting facebook pages',\r\n                                    confirmButtonText: 'Retry',\r\n                                });\r\n                            });;\r\n                        }) \r\n                        .catch(() => {\r\n                            \r\n                            swalWithBootstrapButtons.fire({\r\n                                title: 'Error while connecting the facebook page',\r\n                                confirmButtonText: 'Retry',\r\n                            });\r\n                        });\r\n                      \r\n                        \r\n                    } else {\r\n                        setShowDisconnectModal(true)\r\n                    }\r\n                    \r\n                }\r\n            }\r\n        >\r\n            {loadingWhileConnecting \r\n            ?\r\n                (<Spinner animation=\"border\" variant=\"primary\" className=\"spinnerRose\" />)\r\n            :\r\n                (\r\n                    props.isConnectedPage\r\n                    ?\r\n                    <p className=\"m-auto\">Disconnect</p>\r\n                    :\r\n                    <p className=\"m-auto\">Connect</p>\r\n                    \r\n                )\r\n            }\r\n        </div>\r\n    )\r\n    \r\n    const renderDisconnectModal = (idPage) => (\r\n        <Modal show={showDisconnectModal} onHide={handleDisconnectModal} size=\"lg\" centered >\r\n            <div className=\"d-flex flex-column\">\r\n                <IoIosClose className=\"ml-auto mr-3 mt-2\" color={'#9F9F9F'} size={'28'} onClick={handleDisconnectModal} style={{cursor: 'pointer'}} />\r\n\r\n                <Modal.Body>\r\n                   \r\n                    <Row className=\"d-flex\">\r\n                        <Col className=\"d-flex flex-column m-auto\">\r\n                            {\r\n                                props.picture !== null\r\n                                ?\r\n                                <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                                :\r\n                                fbGraphData !== null \r\n                                ?\r\n                                <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                                :\r\n                                <Lottie options={defaultOptions} width={150} />\r\n                            }\r\n                                \r\n                            <div className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                                <Col lg={6} />\r\n\r\n                                <Col lg={6}>\r\n                                    <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"m-auto\" />\r\n                                </Col>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <Row className=\"d-flex mb-3 mt-3\">\r\n                        <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n                    </Row>\r\n                    {!showModalTeam\r\n                    ? \r\n                    <Row className=\"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\">\r\n                        <Col lg={2} />\r\n\r\n                        <Col lg={8} className=\"d-flex\">\r\n\r\n                            <div className=\"d-flex flex-column mr-auto\" onClick={() => setShowModalTeam(true)}>\r\n                                <div className=\"page-card-modal-small-box m-auto d-flex\">\r\n                                    <Image src={USER_ICON} className=\"m-auto\"  style={{ width: '25px'}} />\r\n                                </div>\r\n                                <p className=\"page-card-modal-small-title mx-auto mt-2\">Make Owner</p>\r\n                            </div>\r\n                            \r\n                            <div \r\n                                className=\"d-flex flex-column m-auto\" \r\n                                style={{cursor: 'pointer'}} \r\n                                onClick={() => { \r\n                                        if(props.platform === \"insta\") {\r\n                                            props.disconnectInstagramPage(idPage);\r\n                                            props.setLoadingPages(true);\r\n                                            props.getInstaData();\r\n                                            setShowModalTeam(false);\r\n                                            setShowDisconnectModal(false);\r\n                                            setTimeout(() => {\r\n                                                props.setLoadingPages(false)\r\n                                            },3000);\r\n                                        } else {\r\n                                            props.disconnectFacebookPage(idPage);\r\n                                            props.setLoadingPages(true);\r\n                                            props.getFbData();\r\n                                            setShowModalTeam(false);\r\n                                            setShowDisconnectModal(false);\r\n                                            setTimeout(() => {\r\n                                                props.setLoadingPages(false)\r\n                                            },3000);\r\n                                        };\r\n                                    }\r\n                                } \r\n\r\n                            >\r\n                                <div className=\"page-card-modal-small-box m-auto d-flex\">\r\n                                    <Image src={DISC_ICON} className=\"m-auto\" style={{ width: '23px'}} />\r\n                                </div>\r\n                                <p className=\"page-card-modal-small-title mx-auto mt-2\">Disconnect</p>\r\n                            </div>\r\n                            \r\n                            <div \r\n                                className=\"d-flex flex-column ml-auto\" \r\n                                style={{cursor: 'pointer'}} \r\n                                onClick={() => {\r\n                                        props.platform === \"insta\" ? props.deleteInstagramPage(idPage) : props.deleteFacebookPage(idPage)\r\n                                        if(props.platform === \"insta\") {\r\n                                            props.deleteInstagramPage(idPage);\r\n                                            props.setLoadingPages(true);\r\n                                            props.getInstaData();\r\n                                            setShowModalTeam(false);\r\n                                            setShowDisconnectModal(false);\r\n                                            setTimeout(() => {\r\n                                                props.setLoadingPages(false)\r\n                                            },3000);\r\n                                        } else {\r\n                                            props.deleteFacebookPage(idPage);\r\n                                            props.setLoadingPages(true);\r\n                                            props.getFbData();\r\n                                            setShowModalTeam(false);\r\n                                            setShowDisconnectModal(false);\r\n                                            setTimeout(() => {\r\n                                                props.setLoadingPages(false)\r\n                                            },3000);\r\n                                        };\r\n                                    }\r\n                                } \r\n                            >\r\n                                <div className=\"page-card-modal-small-box m-auto d-flex\">\r\n                                    <Image src={DELETE_ICON} className=\"m-auto\" style={{ width: '23px'}} />\r\n                                </div>\r\n                                <p className=\"page-card-modal-small-title mx-auto mt-2\">Delete</p>\r\n                            </div> \r\n\r\n                        </Col>\r\n\r\n                        <Col lg={2} />\r\n                    </Row>  \r\n                    :\r\n                    <Row className=\"d-flex mt-3 mb-3 justify-content-around ml-5 mr-5\">\r\n                        <Col lg={2} />\r\n\r\n                        <Col lg={8} className=\"d-flex flex-column\">\r\n                            {props.admins.length > 0\r\n                            ?\r\n                            props.admins.map(member => \r\n                                <div key={member.idFacebook+Math.random()} onClick={() => props.platform === \"insta\" ? props.makeOwnerInstagramPage(idPage,member.idFacebook) : props.makeOwnerFacebookPage(idPage,member.idFacebook)} style={{ border: '1px solid black', cursor: 'pointer' }} className=\"mt-5\">\r\n                                    <p>{member.first_name}</p>\r\n                                    <p>{member.last_name}</p>\r\n                                    <p>{member.idFacebook}</p>\r\n                                </div>\r\n                            )\r\n                            :\r\n                            <div>No team for this page</div>\r\n\r\n                            }\r\n                        </Col>\r\n\r\n                        <Col lg={2} />\r\n                    </Row>           \r\n                    }\r\n\r\n                </Modal.Body>\r\n            </div>\r\n            \r\n        </Modal>\r\n    );\r\n\r\n    useEffect(() => {\r\n        if(props.platform === \"fb\") {\r\n            axios.get(`${fbHost}/${props.idPage}/?fields=fan_count,picture,new_like_count&access_token=${props.accessToken}`)\r\n                .then(res => { setFbGraphData(res.data); })\r\n                .catch(err => { console.log(\"PageCardFb\",(err)) })\r\n            } else {\r\n            // INSTA\r\n            axios.get(`${fbHost}/${props.idPage}/?fields=id,media,followers_count,media_count,profile_picture_url,username,name&access_token=${props.accessToken}`)\r\n                .then(res => { setInstaGraphData(res.data); })\r\n                .catch(err => { console.log(\"PageCard Insta\",(err)) })\r\n        };\r\n    }, [])\r\n\r\n    return (\r\n        /* card grisé */\r\n        props.status === \"listPageConnectedOtherTeam\" \r\n        ?\r\n        <div \r\n            key={props.idPage + Math.random()} \r\n            className=\"pages-card m-1\" \r\n            style={{ backgroundColor: \"#ECEDF0\", border:\"0\"}}\r\n        >   \r\n            <Row className=\"d-flex\">\r\n                <Col className=\"d-flex flex-column\">\r\n                    {\r\n                        props.picture !== null\r\n                        ?\r\n                        <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        fbGraphData !== null \r\n                        ?\r\n                        <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        <Lottie options={defaultOptions} width={150} />\r\n                    }\r\n                        \r\n                    <div className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                        <Col lg={6} />\r\n\r\n                        <Col lg={6}>\r\n                            <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"m-auto\" />\r\n                        </Col>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mb-3 mt-3\">\r\n                <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex\" className=\"page-card-disabled-title-container\">\r\n                <p className=\"m-auto page-card-disabled-title\">This page is managed by another team</p>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mt-3\">\r\n                <Row className=\"m-auto justify-content-between\">    \r\n                    <Col lg={6}>\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                <p className=\"m-auto pages-card-title\" style={{fontSize: '35px'}}>{instaGraphData.followers_count}</p>\r\n                                :\r\n                                fbGraphData !== null \r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '35px'}}>{fbGraphData.fan_count}</p>\r\n                                :\r\n                                    <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex\" >\r\n                                <p className=\"m-auto pages-card-desc-2\">Fans</p>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col lg={6}>\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '35px'}}>{instaGraphData.media_count}</p>\r\n                                :\r\n                                fbGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '35px'}}>{fbGraphData.new_like_count}</p>\r\n                                :\r\n                                    <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                props.platform === \"fb\"\r\n                                ?\r\n                                <p  className=\"m-auto pages-card-desc-2\">Interactions</p>\r\n                                :\r\n                                <p  className=\"m-auto pages-card-desc-2\">Posts</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Row>\r\n        </div>\r\n        :\r\n        <div \r\n            key={props.idPage + Math.random()} \r\n            className=\"pages-card m-3\" \r\n            style={{\r\n                backgroundColor: \"white\", \r\n                border: \r\n                    props.status === \"listPageConnectedOwner\" \r\n                    ? \r\n                    \"2px solid #E5007D\" \r\n                    : \r\n                    props.status === \"listPageInvite\" \r\n                    ?\r\n                    \"2px solid #139216\"\r\n                    : \r\n                    props.status === \"listPageInviteAdmin\" \r\n                    ?\r\n                    \"2px solid #199EE3\" \r\n                    :\r\n                    \"0\"\r\n            }}\r\n        >\r\n            {/* Disconnect Modal */}\r\n            {renderDisconnectModal(props.idPage)}\r\n   \r\n            {/* Connect / Disconnect popover */}\r\n            {showPopoverConnect && renderPopover()}\r\n        \r\n            {\r\n            location.pathname === \"/home/pages\" && \r\n            !props.isConnectedPage\r\n            ?\r\n            <Row className=\"d-flex\">\r\n                <Image \r\n                    src={DISC_ICON}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"mr-auto\" \r\n                    fluid \r\n                    onClick={handleConnectPopover}\r\n                />\r\n            </Row>\r\n            :\r\n            location.pathname === \"/home/pages\" && \r\n            props.isConnectedPage && \r\n            checkOwner() \r\n            ? \r\n            <Row className=\"d-flex\">\r\n                <Image \r\n                    src={CONN_ICON}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"mr-auto\" \r\n                    fluid \r\n                    onClick={handleConnectPopover}\r\n                />\r\n            </Row>\r\n            :\r\n            location.pathname === \"/home/pages\" &&\r\n            <Row className=\"d-flex\">\r\n                <Image \r\n                    src={USER_MEMBER_ICON}\r\n                    style={{ cursor: 'pointer' }} \r\n                    className=\"mr-auto\" \r\n                    fluid \r\n                    // onClick={handleConnectPopover}\r\n                />\r\n            </Row>\r\n            }\r\n                \r\n            <Row className=\"d-flex\">\r\n                <Col className=\"d-flex flex-column\">\r\n                    {\r\n                        props.picture !== null\r\n                        ?\r\n                        <Image src={props.picture} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        fbGraphData !== null \r\n                        ?\r\n                        <Image src={fbGraphData.picture.data.url} fluid className=\"m-auto pages-card-profile-picture\" />\r\n                        :\r\n                        <Lottie options={defaultOptions} width={150} />\r\n                    }\r\n                        \r\n                    <div className=\"d-flex\" style={{ zIndex: 1, marginTop: '-20px' }}>\r\n                        <Col lg={6} />\r\n\r\n                        <Col lg={6}>\r\n                            <Image src={props.platform === \"fb\" ? FB_ICON : INSTA_ICON} fluid className=\"m-auto\" />\r\n                        </Col>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mb-3 mt-3\">\r\n                <p className=\"m-auto pages-card-title\" >{props.namePage}</p>\r\n            </Row>\r\n\r\n            <Row className=\"d-flex mt-3\">\r\n                <Row className=\"m-auto justify-content-between\">    \r\n                    <Col lg={6}>\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                <p className=\"m-auto pages-card-title\" style={{fontSize: '35px'}}>{instaGraphData.followers_count}</p>\r\n                                :\r\n                                fbGraphData !== null \r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '35px'}}>{fbGraphData.fan_count}</p>\r\n                                :\r\n                                    <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex\" >\r\n                                <p className=\"m-auto pages-card-desc-2\">Fans</p>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n\r\n                    <Col lg={6}>\r\n                        <Row>\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                instaGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '35px'}}>{instaGraphData.media_count}</p>\r\n                                :\r\n                                fbGraphData !== null\r\n                                ?\r\n                                    <p className=\"m-auto pages-card-title\" style={{fontSize: '35px'}}>{fbGraphData.new_like_count}</p>\r\n                                :\r\n                                    <Lottie options={defaultOptions} width={100} />\r\n                                }\r\n                            </Col>\r\n\r\n                            <Col lg={12} className=\"d-flex\">\r\n                                {\r\n                                props.platform === \"fb\"\r\n                                ?\r\n                                <p  className=\"m-auto pages-card-desc-2\">Interactions</p>\r\n                                :\r\n                                <p  className=\"m-auto pages-card-desc-2\">Posts</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </Row>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        socialMediaPageSelected : state.socialMediaR.socialMediaPageSelected,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, { connectInstagramPage,disconnectInstagramPage,deleteInstagramPage,makeOwnerInstagramPage, connectFacebookPage, disconnectFacebookPage, deleteFacebookPage, makeOwnerFacebookPage, getFbData, getInstaData })(PageCard);\r\n"]},"metadata":{},"sourceType":"module"}