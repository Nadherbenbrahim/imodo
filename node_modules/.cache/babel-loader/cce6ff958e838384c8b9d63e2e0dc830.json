{"ast":null,"code":"import io from 'socket.io-client';\nimport { host } from '../config';\nimport { chatAction, setsubmited } from '../actions';\nimport { store } from '..';\nlet socket = io.connect(host, {\n  secure: true\n});\nexport function sendMessage(obj) {\n  socket.emit(\"chat.message\", obj);\n} // export function getMessage(chat, setsubmited) {\n//     socket.on(\"chat.message\", (message) => {\n//         console.log('test message', message)\n//         // chat({ ...message, id: Date.now() })\n//         chat(message)\n//         setsubmited(false)\n//     })\n// }\n\nsocket.on(\"chat.message\", message => {\n  console.log('test message', message); // chat({ ...message, id: Date.now() })\n\n  store.dispatch(chatAction(message));\n  props.dispatch(setsubmited(false));\n});\nexport default socket;","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/sockets/chat.js"],"names":["io","host","chatAction","setsubmited","store","socket","connect","secure","sendMessage","obj","emit","on","message","console","log","dispatch","props"],"mappings":"AAAA,OAAOA,EAAP,MAAe,kBAAf;AACA,SAASC,IAAT,QAAqB,WAArB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,YAAxC;AACA,SAASC,KAAT,QAAsB,IAAtB;AAGA,IAAIC,MAAM,GAAGL,EAAE,CAACM,OAAH,CAAWL,IAAX,EAAiB;AAAEM,EAAAA,MAAM,EAAE;AAAV,CAAjB,CAAb;AAEA,OAAO,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AAC7BJ,EAAAA,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BD,GAA5B;AACH,C,CAED;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAJ,MAAM,CAACM,EAAP,CAAU,cAAV,EAA2BC,OAAD,IAAa;AACnCC,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,OAA5B,EADmC,CAEnC;;AACAR,EAAAA,KAAK,CAACW,QAAN,CAAeb,UAAU,CAACU,OAAD,CAAzB;AACAI,EAAAA,KAAK,CAACD,QAAN,CAAeZ,WAAW,CAAC,KAAD,CAA1B;AACH,CALD;AAMA,eAAeE,MAAf","sourcesContent":["import io from 'socket.io-client';\r\nimport { host } from '../config'\r\nimport { chatAction, setsubmited } from '../actions';\r\nimport { store } from '..';\r\n\r\n\r\nlet socket = io.connect(host, { secure: true });\r\n\r\nexport function sendMessage(obj) {\r\n    socket.emit(\"chat.message\", obj)\r\n}\r\n\r\n// export function getMessage(chat, setsubmited) {\r\n\r\n//     socket.on(\"chat.message\", (message) => {\r\n//         console.log('test message', message)\r\n//         // chat({ ...message, id: Date.now() })\r\n//         chat(message)\r\n//         setsubmited(false)\r\n//     })\r\n// }\r\n\r\nsocket.on(\"chat.message\", (message) => {\r\n    console.log('test message', message)\r\n    // chat({ ...message, id: Date.now() })\r\n    store.dispatch(chatAction(message))\r\n    props.dispatch(setsubmited(false))\r\n})\r\nexport default socket"]},"metadata":{},"sourceType":"module"}