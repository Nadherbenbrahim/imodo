{"ast":null,"code":"import io from 'socket.io-client';\nimport { host } from '../config';\nlet counter = 0;\nlet socket = io.connect(host, {\n  secure: true\n});\nexport function sendMessage(obj) {\n  socket.emit(\"chat.message\", obj);\n}\nexport function getMessage(chat, setsubmited) {\n  counter++;\n  socket.on(\"chat.message\", message => {\n    console.log('test message', message);\n    chat({ ...message,\n      id: Date.now() + counter\n    });\n    setsubmited(false);\n  });\n}\nexport default socket;","map":{"version":3,"sources":["/usr/work/smart_front_oussema/src/sockets/chat.js"],"names":["io","host","counter","socket","connect","secure","sendMessage","obj","emit","getMessage","chat","setsubmited","on","message","console","log","id","Date","now"],"mappings":"AAAA,OAAOA,EAAP,MAAe,kBAAf;AACA,SAASC,IAAT,QAAqB,WAArB;AACA,IAAIC,OAAO,GAAG,CAAd;AACA,IAAIC,MAAM,GAAGH,EAAE,CAACI,OAAH,CAAWH,IAAX,EAAiB;AAAEI,EAAAA,MAAM,EAAE;AAAV,CAAjB,CAAb;AAEA,OAAO,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AAC7BJ,EAAAA,MAAM,CAACK,IAAP,CAAY,cAAZ,EAA4BD,GAA5B;AACH;AAED,OAAO,SAASE,UAAT,CAAoBC,IAApB,EAA0BC,WAA1B,EAAuC;AAC1CT,EAAAA,OAAO;AACPC,EAAAA,MAAM,CAACS,EAAP,CAAU,cAAV,EAA2BC,OAAD,IAAa;AACnCC,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,OAA5B;AACAH,IAAAA,IAAI,CAAC,EAAE,GAAGG,OAAL;AAAcG,MAAAA,EAAE,EAAEC,IAAI,CAACC,GAAL,KAAahB;AAA/B,KAAD,CAAJ;AACAS,IAAAA,WAAW,CAAC,KAAD,CAAX;AACH,GAJD;AAKH;AAED,eAAeR,MAAf","sourcesContent":["import io from 'socket.io-client';\r\nimport { host } from '../config'\r\nlet counter = 0\r\nlet socket = io.connect(host, { secure: true });\r\n\r\nexport function sendMessage(obj) {\r\n    socket.emit(\"chat.message\", obj)\r\n}\r\n\r\nexport function getMessage(chat, setsubmited) {\r\n    counter++\r\n    socket.on(\"chat.message\", (message) => {\r\n        console.log('test message', message)\r\n        chat({ ...message, id: Date.now() + counter })\r\n        setsubmited(false)\r\n    })\r\n}\r\n\r\nexport default socket"]},"metadata":{},"sourceType":"module"}